<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[å‘å¸ƒnpmåŒ…]]></title>
    <url>%2F2020%2F04%2F23%2Fnpm_01%2F</url>
    <content type="text"><![CDATA[12345678910111ã€æ³¨å†Œè´¦å· - è¿›å…¥ç½‘å€: https://www.npmjs.com æ³¨å†Œä¸€ä¸ªnpmè´¦å·ã€‚ - è¿›é‚®ç®±éªŒè¯npmè´¦å·(å¦åˆ™å‘å¸ƒä¼šæŠ¥é”™)2ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„npmåŒ… 2-1ã€åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼šå¦‚ï¼šachirsh-demoï¼ˆæ³¨æ„åå­—åº”è¯¥æ˜¯npm ä¸Šæ²¡æœ‰çš„ï¼Œå¯ä»¥åœ¨npmä¸Šæœç´¢ä¸€ä¸‹çœ‹ä½ å‘½çš„åå­—æ˜¯å¦å­˜åœ¨ï¼‰ 2-2ã€cdè¿›å…¥è¯¥æ–‡ä»¶å¤¹ 2-3ã€åˆå§‹åŒ–é¡¹ç›®ï¼Œæ‰§è¡Œ npm init -y å¾—åˆ°package.jsonæ–‡ä»¶ 2-4ã€åœ¨æ–‡ä»¶å¤¹jiang-modelä¸­åˆ›å»ºåä¸ºindex.jsçš„æ–‡ä»¶ 2-5ã€åˆ›å»ºREADME.mdæ–‡ä»¶ 12345678910111213//package.json&#123; &quot;name&quot;: &quot;jiang-model&quot;,//å‘å¸ƒçš„åŒ…åï¼Œé»˜è®¤æ˜¯ä¸Šçº§æ–‡ä»¶å¤¹åã€‚ä¸å¾—ä¸ŽçŽ°åœ¨npmä¸­çš„åŒ…åé‡å¤ã€‚åŒ…åä¸èƒ½æœ‰å¤§å†™å­—æ¯/ç©ºæ ¼/ä¸‹æ»‘çº¿! &quot;version&quot;: &quot;1.0.0&quot;,//é»˜è®¤ç‰ˆæœ¬å· &quot;description&quot;: &quot;&quot;,//é¡¹ç›®ç®€ä»‹ &quot;main&quot;: &quot;index.js&quot;,//å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯Index.jsï¼Œå¯ä»¥ä¿®æ”¹æˆè‡ªå·±çš„æ–‡ä»¶ &quot;scripts&quot;: &#123; //åŒ…å«å„ç§è„šæœ¬æ‰§è¡Œå‘½ä»¤ &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot; &#125;, &quot;keywords&quot;: [], &quot;author&quot;: &quot;&quot;,//ä½œè€… &quot;license&quot;: &quot;ISC&quot;//å¼€æºæ–‡ä»¶åè®®&#125; 123456789101112131415161718193ã€å‘å¸ƒåˆ°npm 3-1ã€åˆ‡æ¢ä¸‹è½½æº å®‰è£… npm install -g nrm nrm ls //æŸ¥çœ‹å½“å‰çš„ä¸‹è½½æºï¼Œå¸¦*æŒ‡å‘çš„å°±æ˜¯å½“å‰çš„ä¸‹è½½æºï¼Œå¦‚æžœä¸ºnpmåˆ™ä¸éœ€è¦åˆ‡æ¢ nrm use npm //åˆ‡æ¢åˆ°npmçš„ä¸‹è½½æº 3-2ã€è¿žæŽ¥npmè´¦æˆ· 3-2-1ã€å¦‚æžœæ˜¯æœ¬æœºç¬¬ä¸€æ¬¡å‘å¸ƒnpmåŒ… åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤ï¼šnpm addUser æç¤ºè¾“å…¥è´¦å·ï¼Œå¯†ç å’Œé‚®ç®±ï¼Œç„¶åŽå°†æç¤ºåˆ›å»ºæˆåŠŸ 3-2-2ã€éžç¬¬ä¸€æ¬¡å‘å¸ƒnpmåŒ… åœ¨ç»ˆç«¯è¾“å…¥npm loginï¼Œç„¶åŽè¾“å…¥ä½ åˆ›å»ºçš„è´¦å·å’Œå¯†ç ï¼Œå’Œé‚®ç®±ï¼Œç™»é™† 3-3ã€å‘å¸ƒnpmåŒ… npm publish 3-4ã€æ›´æ–°npmå‘å¸ƒåŽçš„åŒ… æ›´æ–°npmåŒ…ä¹Ÿæ˜¯ä½¿ç”¨npm publishå‘½ä»¤å‘å¸ƒï¼Œä¸è¿‡å¿…é¡»æ›´æ”¹npmåŒ…çš„ç‰ˆæœ¬å·ï¼Œä¹Ÿå°±æ˜¯package.jsonä¸­çš„versionå­—æ®µï¼Œå¦åˆ™ä¼šæŠ¥é”™ 3-5ã€æ’¤é”€å‘½ä»¤ ï¼ˆä¸€èˆ¬æ˜¯æ…Žé‡æ’¤é”€ï¼‰ npm unpublish åŒ…å@ç‰ˆæœ¬å· --force eg:npm unpublish testtoast@1.0.0 --force è¯´æ˜Žï¼šæ’¤é”€å‘å¸ƒçš„åŒ…è¢«è®¤ä¸ºæ˜¯ä¸€ç§ä¸å¥½çš„è¡Œä¸ºï¼Œå› ä¸ºå¦‚æžœæœ‰å›¢é˜Ÿä½¿ç”¨å’Œä¾èµ–ä½ çš„åŒ…æ—¶ï¼Œæ’¤é”€ä¾¿ä¼šé€ æˆå¾ˆå¤§çš„å½±å“ã€‚ 1.æ ¹æ®è§„èŒƒï¼Œåªæœ‰åœ¨å‘åŒ…çš„24å°æ—¶å†…æ‰å…è®¸æ’¤é”€å‘å¸ƒçš„åŒ… 2.å³ä½¿ä½ æ’¤é”€äº†å‘å¸ƒçš„åŒ…ï¼Œå‘åŒ…çš„æ—¶å€™ä¹Ÿä¸èƒ½å†å’Œè¢«æ’¤é”€çš„åŒ…çš„åç§°å’Œç‰ˆæœ¬é‡å¤äº†ï¼ˆå³ä¸èƒ½åç§°ç›¸åŒï¼Œç‰ˆæœ¬ç›¸åŒï¼Œå› ä¸ºè¿™ä¸¤è€…æž„æˆçš„å”¯ä¸€æ ‡è¯†å·²ç»è¢«â€œå ç”¨â€äº†ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293å¯èƒ½é‡åˆ°çš„é”™è¯¯1ã€éœ€è¦æé«˜ç‰ˆæœ¬å·#1ã€å‘åŒ… npm publish å¤±è´¥sh-neverleave:z-tool neverleave$ npm publishnpm ERR! publish Failed PUT 400npm ERR! code E400npm ERR! deprecations must be strings : z-toolnpm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T10_52_01_742Z-debug.logsh-neverleave:z-tool neverleave$ npm publish#2ã€å‘åŒ… npm publish å¤±è´¥sh-neverleave:z-tool neverleave$ npm publishnpm ERR! publish Failed PUT 403npm ERR! code E403npm ERR! You cannot publish over the previously published versions: 1.0.3. : z-toolnpm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T11_24_57_662Z-debug.logsh-neverleave:z-tool neverleave$ 2ã€å‘åŒ… npm publish å¤±è´¥è§£å†³æ–¹æ¡ˆï¼šç»ˆç«¯æ‰§è¡Œï¼š npm publish --access publicå‚è€ƒï¼šhttps://stackoverflow.com/questions/53420758/npm-publish-gives-unscoped-packages-cannot-be-private#1ã€å‘åŒ… npm publish å¤±è´¥sh-neverleave:npm neverleave$ npm publishnpm ERR! publish Failed PUT 400npm ERR! code E400npm ERR! unscoped packages cannot be private : z-toolnpm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T08_44_21_310Z-debug.logsh-neverleave:npm neverleave$ #è§£å†³æ–¹æ¡ˆï¼šç»ˆç«¯æ‰§è¡Œï¼š npm publish --access publicsh-neverleave:npm neverleave$ npm publish --access public+ z-tool@1.0.0sh-neverleave:npm neverleave$ 3ã€ç¡®ä¿ç™»å½•çš„ç”¨æˆ·è´¦å·æ­£ç¡®sh-neverleave:npm neverleave$ npm publishnpm ERR! publish Failed PUT 404npm ERR! code E404npm ERR! 404 User not found : z-toolnpm ERR! 404 npm ERR! 404 &apos;z-tool&apos; is not in the npm registry.npm ERR! 404 You should bug the author to publish it (or use the name yourself!)npm ERR! 404 npm ERR! 404 Note that you can also install from anpm ERR! 404 tarball, folder, http url, or git url.npm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T07_32_28_518Z-debug.log4ã€ç™»å½•æ—¶éœ€è¦åœ¨username å‰åŠ â€˜~â€™ï¼Œå…·ä½“å¤§å®¶å¯ä»¥éªŒè¯sh-neverleave:npm neverleave$ npm loginUsername: (~neverleave) neverleavePassword: (&lt;default hidden&gt;) Email: (this IS public) (1063588359@qq.com) npm ERR! code EAUTHIPnpm ERR! Unable to authenticate, need: Basicnpm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T07_27_50_877Z-debug.logsh-neverleave:npm neverleave$ 5ã€æ— æƒé™åˆ é™¤çº¿ä¸Šçš„åŒ…ï¼ˆæ’¤åŒ…æœ‰æ—¶é—´é™åˆ¶ï¼Œ24å°æ—¶ï¼‰è§£å†³æ–¹æ¡ˆï¼šåŠ ä¸Š --forcesh-neverleave:z-tool neverleave$ npm unpublish z-toolnpm ERR! Refusing to delete entire project.npm ERR! Run with --force to do this.npm ERR! npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]sh-neverleave:z-tool neverleave$ #è§£å†³æ–¹æ¡ˆï¼ˆå†…éƒ¨æœ‰è¢«é„™è§†çš„è¯ï¼ŒðŸ˜„ I sure hope you know what you are doing.ï¼‰sh-neverleave:z-tool neverleave$ npm unpublish z-tool --forcenpm WARN using --force I sure hope you know what you are doing.- z-toolsh-neverleave:z-tool neverleave$ 6ã€åˆ é™¤npmå¸‚åœºçš„åŒ…åŒåçš„24å°æ—¶åŽæ‰èƒ½é‡æ–°å‘å¸ƒsh-neverleave:z-tool neverleave$ npm publishnpm ERR! publish Failed PUT 403npm ERR! code E403npm ERR! z-tool cannot be republished until 24 hours have passed. : z-toolnpm ERR! A complete log of this run can be found in:npm ERR! /Users/neverleave/.npm/_logs/2018-11-23T11_41_24_086Z-debug.logsh-neverleave:z-tool neverleave$]]></content>
      <categories>
        <category>npm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[js æ­£åˆ™æ ¡éªŒ]]></title>
    <url>%2F2020%2F03%2F17%2Fjs_03%2F</url>
    <content type="text"><![CDATA[1234// ä¸å…è®¸è¾“å…¥ç‰¹æ®Šå­—ç¬¦value.replace(/[^u4e00-u9fa5w]/g, &quot;&quot;)//åªå…è®¸è¾“å…¥æ­£æ•´æ•°value.replace(/^(0+)|[^\d]+/g, &quot;&quot;)]]></content>
      <categories>
        <category>js</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[hexo å‘å¸ƒå‘½ä»¤]]></title>
    <url>%2F2020%2F03%2F11%2Fhexo_01%2F</url>
    <content type="text"><![CDATA[1234567hexo n &quot;æˆ‘çš„åšå®¢&quot; == hexo new &quot;æˆ‘çš„åšå®¢&quot; #æ–°å»ºæ–‡ç« hexo g == hexo generate#ç”Ÿæˆhexo s == hexo server #å¯åŠ¨æœåŠ¡é¢„è§ˆhexo d == hexo deploy#éƒ¨ç½²æ¯æ¬¡å‘å¸ƒæ—¶ï¼Œä½¿ç”¨ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[react ä¸Šä¼ å›¾ç‰‡è£å‰ª]]></title>
    <url>%2F2020%2F03%2F11%2Freact_03%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101import Cropper from &quot;react-cropper&quot;;import &quot;cropperjs/dist/cropper.css&quot;;public cropperModal() &#123; return &lt;div className=&#123;styles[&quot;class-cropper-modal&quot;]&#125;&gt; &lt;div className=&#123;styles[&quot;modal-panel&quot;]&#125;&gt; &lt;div className=&#123;styles[&quot;cropper-container-container&quot;]&#125;&gt; &lt;div className=&#123;styles[&quot;cropper-container&quot;]&#125;&gt; &lt;Cropper src=&#123;this.state.src&#125; className=&quot;cropper&quot; ref=&quot;cropper&quot; viewMode=&#123;1&#125; movable=&#123;false&#125; zoomable=&#123;false&#125; // æ˜¯å¦å…è®¸æ”¾å¤§å›¾åƒ aspectRatio=&#123;1&#125; // å›ºå®šä¸º1:1 å¯ä»¥è‡ªå·±è®¾ç½®æ¯”ä¾‹, é»˜è®¤æƒ…å†µä¸ºè‡ªç”±æ¯”ä¾‹ guides=&#123;true&#125; background=&#123;false&#125; // æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯çš„é©¬èµ›å…‹ rotatable=&#123;false&#125; // æ˜¯å¦æ—‹è½¬ preview=&quot;.cropper-preview&quot; cropBoxResizable=&#123;false&#125; style=&#123;&#123; height: &quot;100%&quot;, width: CLIENTWIDTH &#125;&#125; /&gt; &lt;/div&gt; &lt;div className=&#123;styles[&quot;preview-container&quot;]&#125;&gt; &lt;div className=&#123;styles[&quot;cropper-preview&quot;]&#125; /&gt; &lt;/div&gt; &lt;div style=&#123;&#123; position: &quot;fixed&quot;, right: &quot;10px&quot;, top: &quot;10px&quot;, width: &quot;60px&quot;, height: &quot;30px&quot;, backgroundColor: &quot;rgb(255, 166, 54)&quot;, color: &quot;#fff&quot;, borderRadius: &quot;4px&quot;, display: &quot;flex&quot;, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot;, &#125;&#125; onClick=&#123;this.handleSubmit.bind(this)&#125;&gt; ä¿å­˜ &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;;&#125;public async handleSubmit() &#123; (this.refs.cropper as any).getCroppedCanvas().toBlob(async blob =&gt; &#123; // ä¸Šä¼ æ“ä½œ &#125;);&#125;.class-cropper-modal &#123; position: fixed; background-color: rgba(0, 0, 0, 0.3); top: 0; bottom: 0; left: 0; right: 0; display: flex; justify-content: center; align-items: center;&#125;.modal-panel &#123; width: 100%; height: 100%; background: white; display: flex; flex-direction: column; align-items: stretch;&#125;.cropper-container-container &#123; flex: 1; display: flex; align-items: stretch; justify-content: space-between; height: 100%;&#125;.cropper-container &#123; flex: 0 0 600px; margin-right: 20px;&#125;.cropper-container img &#123; width: 100%;&#125;.cropper &#123; width: 100%; height: 100%;&#125;.preview-container &#123; flex: 1; display: flex; align-items: flex-end;&#125;.cropper-preview &#123; width: 180px; height: 180px; overflow: hidden; border: 1px solid #383838;&#125;]]></content>
      <categories>
        <category>React</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[jséªŒè¯å‡½æ•°]]></title>
    <url>%2F2020%2F02%2F07%2Fjs_02%2F</url>
    <content type="text"><![CDATA[123456789// åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦æ­£ç¡®function isEffectPhone(phone: any) &#123; const reg = /^[1][3,4,5,6,7,8][0-9]&#123;9&#125;$/; if (!reg.test(phone)) &#123; return false; &#125; else &#123; return true; &#125;&#125; 1234// åˆ¤æ–­ä¼ å…¥æ—¶é—´æ˜¯å¦å¤§äºŽå½“å‰å®žé™…æ—¶é—´export function contrastTime(start) &#123; return start.getTime() - new Date().getTime();&#125; 123456//èŽ·å–å±å¹•å®½åº¦function getClientWidth() &#123; const width = (document.documentElement &amp;&amp; document.documentElement.clientWidth) ? document.documentElement.clientWidth : document.body.clientWidth; return (width &lt;= 1470);&#125; 1234æˆªå–å­—ç¬¦ä¸²åŽå‡ ä½function subStringEnd(string, n: number) &#123; return string.substring(string.length - n)&#125; 123456789101112// æ ¹æ®æ•°æ®èŽ·å–æ‰€æœ‰å€¼çš„å’Œfunction getSum(arr, type?: string) &#123; let result = 0; for (var i = 0; i &lt; arr.length; i++) &#123; if (type) &#123; result += (arr[i][type] * 1000); &#125; else &#123; result += arr[i]; &#125; &#125; return result / 1000;&#125; 1234// éšè—æ‰‹æœºå·ä¸­é—´å››ä½function getTel(tel: string) &#123; return tel.substring(0, 3) + &apos;****&apos; + tel.substring(tel.length - 4);&#125; 12345678910111213141516171819202122// åˆ¤æ–­æ‰‹æœºæ˜¯iod/androidfunction checkPlatform() &#123; if (/android/i.test(navigator.userAgent)) &#123; // console.log(&quot;This is Android&apos;browser.&quot;);//è¿™æ˜¯Androidå¹³å°ä¸‹æµè§ˆå™¨ return &apos;0&apos;; &#125; if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) &#123; // console.log(&quot;This is iOS&apos;browser.&quot;);//è¿™æ˜¯iOSå¹³å°ä¸‹æµè§ˆå™¨ return &apos;1&apos;; &#125; if (/Linux/i.test(navigator.userAgent)) &#123; // console.log(&quot;This is Linux&apos;browser.&quot;);//è¿™æ˜¯Linuxå¹³å°ä¸‹æµè§ˆå™¨ return &apos;2&apos;; &#125; if (/Linux/i.test(navigator.platform)) &#123; // console.log(&quot;This is Linux operating system.&quot;);//è¿™æ˜¯Linuxæ“ä½œç³»ç»Ÿå¹³å° return &apos;2&apos;; &#125; if (/MicroMessenger/i.test(navigator.userAgent)) &#123; // console.log(&quot;This is MicroMessenger&apos;browser.&quot;);//è¿™æ˜¯å¾®ä¿¡å¹³å°ä¸‹æµè§ˆå™¨ &#125;&#125; 12345678// ç”Ÿæˆéšæœºçš„nä½æ•°function generateFiveRandomNum(n) &#123; let code = &apos;&apos;; for (let i = 0; i &lt; n+1; i++) &#123; code += Math.floor(Math.random() * 10); &#125; return code;&#125; 12345678// blobè½¬base64function blobToDataURI(blob: any, callback: any) &#123; var reader = new FileReader(); reader.onload = function (e: any) &#123; callback(e.target.result); &#125; reader.readAsDataURL(blob);&#125;]]></content>
      <categories>
        <category>js</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[jså›¾ç‰‡ç›¸å…³æ“ä½œ]]></title>
    <url>%2F2020%2F02%2F07%2Fjs_01%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718base64è½¬Blobfunction base64ToBlob(base64) &#123; return new Promise(resolve =&gt; &#123; if (typeof base64 !== &quot;string&quot;) &#123; return resolve(base64); &#125; const bytes = window.atob(base64.split(&quot;,&quot;)[1]); // å¤„ç†å¼‚å¸¸ï¼Œå°†asciiç å°äºŽ0çš„è½¬æ¢ä¸ºå¤§äºŽ0 const buffer = new ArrayBuffer(bytes.length); const arr = new Uint8Array(buffer); for (let i = 0; i &lt; bytes.length; i++) &#123; arr[i] = bytes.charCodeAt(i); &#125; resolve(new Blob([buffer], &#123; type: &quot;image/jpeg&quot; &#125;)); &#125;);&#125; 12345678910111213base64è½¬File public dataURLtoFile(dataurl, filename) &#123; // å°†base64è½¬æ¢ä¸ºæ–‡ä»¶ const arr = dataurl.split(&quot;,&quot;); const mime = arr[0].match(/:(.*?);/)[1]; const bstr = atob(arr[1]); let n = bstr.length; const u8arr = new Uint8Array(n); while (n--) &#123; u8arr[n] = bstr.charCodeAt(n); &#125; return new File([u8arr], filename, &#123; type: mime &#125;);&#125; 12345678910111213base64è½¬ArrayBufferå¯¹è±¡function base64ToArrayBuffer(base64) &#123; base64 = base64.replace(/^data\:([^\;]+)\;base64,/gmi, &quot;&quot;); const binary = atob(base64); const len = binary.length; const buffer = new ArrayBuffer(len); const view = new Uint8Array(buffer); for (let i = 0; i &lt; len; i++) &#123; view[i] = binary.charCodeAt(i); &#125; return buffer;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768èŽ·å–å›¾ç‰‡çš„exifçš„è§’åº¦function getOrientation(arrayBuffer) &#123; const dataView = new DataView(arrayBuffer); let length = dataView.byteLength; let orientation; let exifIDCode; let tiffOffset; let firstIFDOffset; let littleEndian; let endianness; let app1Start; let ifdStart; let offset; let i; // Only handle JPEG image (start by 0xFFD8) if (dataView.getUint8(0) === 0xFF &amp;&amp; dataView.getUint8(1) === 0xD8) &#123; offset = 2; while (offset &lt; length) &#123; if (dataView.getUint8(offset) === 0xFF &amp;&amp; dataView.getUint8(offset + 1) === 0xE1) &#123; app1Start = offset; break; &#125; offset++; &#125; &#125; if (app1Start) &#123; exifIDCode = app1Start + 4; tiffOffset = app1Start + 10; if (getStringFromCharCode(dataView, exifIDCode, 4) === &quot;Exif&quot;) &#123; endianness = dataView.getUint16(tiffOffset); littleEndian = endianness === 0x4949; if (littleEndian || endianness === 0x4D4D /* bigEndian */) &#123; if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) &#123; firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian); if (firstIFDOffset &gt;= 0x00000008) &#123; ifdStart = tiffOffset + firstIFDOffset; &#125; &#125; &#125; &#125; &#125; if (ifdStart) &#123; length = dataView.getUint16(ifdStart, littleEndian); for (i = 0; i &lt; length; i++) &#123; offset = ifdStart + i * 12 + 2; if (dataView.getUint16(offset, littleEndian) === 0x0112 /* Orientation */) &#123; // 8 is the offset of the current tag&apos;s value offset += 8; // Get the original orientation value orientation = dataView.getUint16(offset, littleEndian); // Override the orientation with its default value for Safari (#120) if (true) &#123; dataView.setUint16(offset, 1, littleEndian); &#125; break; &#125; &#125; &#125; return orientation;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556ioså›¾ç‰‡æ—‹è½¬é—®é¢˜function rotateImg(img, direction, canvas) &#123; // æœ€å°ä¸Žæœ€å¤§æ—‹è½¬æ–¹å‘ï¼Œå›¾ç‰‡æ—‹è½¬4æ¬¡åŽå›žåˆ°åŽŸæ–¹å‘ // tslint:disable-next-line:variable-name const min_step = 0; // tslint:disable-next-line:variable-name const max_step = 3; if (img == null) &#123; return; &#125; const height = img.height; const width = img.width; let step = 2; if (step == null) &#123; step = min_step; &#125; if (direction === &quot;right&quot;) &#123; step++; // æ—‹è½¬åˆ°åŽŸä½ç½®ï¼Œå³è¶…è¿‡æœ€å¤§å€¼ // tslint:disable-next-line:no-unused-expression step &gt; max_step &amp;&amp; (step = min_step); &#125; else &#123; step--; // tslint:disable-next-line:no-unused-expression step &lt; min_step &amp;&amp; (step = max_step); &#125; // æ—‹è½¬è§’åº¦ä»¥å¼§åº¦å€¼ä¸ºå‚æ•° const degree = step * 90 * Math.PI / 180; const ctx = canvas.getContext(&quot;2d&quot;); switch (step) &#123; case 0: canvas.width = width; canvas.height = height; ctx.drawImage(img, 0, 0); break; case 1: canvas.width = height; canvas.height = width; ctx.rotate(degree); ctx.drawImage(img, 0, -height); break; case 2: canvas.width = width; canvas.height = height; ctx.rotate(degree); ctx.drawImage(img, -width, -height); break; case 3: canvas.width = height; canvas.height = width; ctx.rotate(degree); ctx.drawImage(img, -width, 0); break; &#125;&#125; 123456789// åˆ¤æ–­å›¾ç‰‡å¤§å°function testMaxSize(size, maxSize) &#123; let isAllow = false; isAllow = size &lt;= maxSize; if (!isAllow) &#123; return false; &#125; return isAllow;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667æ—‹è½¬å›¾ç‰‡å®žé™…ä¾‹å­const reader = new FileReader();reader.readAsDataURL(file);reader.onload = () =&gt; &#123; dealImage(reader.result, file, 800, (data) =&gt; &#123; const size = this.testMaxSize(data.size, 1048576); if (!size) &#123; Message.error(&quot;å›¾ç‰‡è¿‡å¤§,è¯·ä¸Šä¼ å°äºŽ1Mçš„å›¾ç‰‡&quot;); return; &#125; &#125;)&#125;function dealImage(base64Url, files, w, bacllback) &#123; const newImage = new Image(); let orientation; orientation = getOrientation(base64ToArrayBuffer(base64Url)); newImage.src = base64Url; newImage.onload = async () =&gt; &#123; const canvas = document.createElement(&quot;canvas&quot;); if (orientation &amp;&amp; orientation !== 1) &#123; if (orientation === 6) &#123; this.rotateImg(newImage, &quot;left&quot;, canvas); this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files); &#125; else if (orientation === 8) &#123; this.rotateImg(newImage, &quot;right&quot;, canvas); this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files); &#125; else if (orientation === 3) &#123; this.rotateImg(newImage, &quot;right&quot;, canvas); this.rotateImg(newImage, &quot;right&quot;, canvas); this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files); &#125; &#125; else &#123; this.yasuo(base64Url, w, callback, files); &#125; &#125;;&#125;function yasuo(base64Url, w, callback, files) &#123; let imgWidth; let imgHeight; let blob: any; const img = new Image(); img.src = base64Url; img.onload = async () =&gt; &#123; imgWidth = img.width; imgHeight = img.height; const canvas = document.createElement(&quot;canvas&quot;); const ctx: any = canvas.getContext(&quot;2d&quot;); if (Math.max(imgWidth, imgHeight) &gt; w) &#123; if (imgWidth &gt; imgHeight) &#123; canvas.width = w; canvas.height = w * imgHeight / imgWidth; &#125; else &#123; canvas.height = w; canvas.width = w * imgWidth / imgHeight; &#125; &#125; else &#123; canvas.width = imgWidth; canvas.height = imgHeight; &#125; ctx.drawImage(img, 0, 0, canvas.width, canvas.height); blob = await this.dataURLtoFile(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), files.name); callback(blob); &#125;;&#125;]]></content>
      <categories>
        <category>js</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F06%2F10%2Fimmutable_01%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[React Keyå¯¹æ¸²æŸ“çš„å½±å“]]></title>
    <url>%2F2019%2F06%2F10%2Freact_02%2F</url>
    <content type="text"><![CDATA[12345678910ä½¿ç”¨Reactçš„å¼€å‘ç‰ˆæœ¬æ—¶å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šæ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œä¸ä¸ºæ•°ç»„çš„æ¯ä¸€é¡¹è®¾ç½®keyï¼Œåˆ™æŽ§åˆ¶å°ä¼šè­¦å‘Šï¼ŒWarningï¼šEach child in an array or iterator should have a unique &apos;key&apos; propå¸¸æœ‰äººä¸ºäº†æ¶ˆé™¤è­¦å‘Šï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡(index)ä½œä¸ºkeyï¼Œä½†æ˜¯å½“Reactæ¸²æŸ“åˆ—è¡¨æ—¶ï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡ä½œä¸ºkeyæ—¶ä¸æ­£ç¡®çš„ï¼Œå®ƒèƒ½åšçš„ï¼Œä»…ä»…æ˜¯æ¶ˆé™¤å‘Šè­¦è€Œå·²ï¼Œå¯¹æ¸²æŸ“æ¯«æ— å¸®åŠ©ã€‚Reactçš„keyåº”è¯¥æ˜¯ç¨³å®šçš„ï¼Œå”¯ä¸€çš„(åªè¦åœ¨åˆ—è¡¨é¡¹ä¸­å”¯ä¸€å°±è¡Œ)ï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡ä½œä¸ºkeyçš„ç¼ºç‚¹åœ¨äºŽæ²¡æœ‰æ»¡è¶³ç¨³å®šæ€§è¦æ±‚ï¼ŒæŽ¨èæŠŠidæˆ–è€…uuidç­‰å­—æ®µä½œä¸ºReactçš„keyï¼Œå‡å°‘Reactå¯¹DOMæ“ä½œ]]></content>
      <categories>
        <category>React</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åˆ—è¡¨]]></title>
    <url>%2F2019%2F04%2F10%2Falg-01%2F</url>
    <content type="text"><![CDATA[12]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Gitcæ’¤é”€å·²ç»commitä½†æ˜¯è¿˜æ²¡æœ‰pushçš„ä»£ç ]]></title>
    <url>%2F2019%2F04%2F09%2Fgit_01%2F</url>
    <content type="text"><![CDATA[123456789åœ¨git commitä¹‹åŽï¼Œæ­£æƒ³ç€pushï¼Œçªç„¶å‘çŽ°æœ‰äº›ä¸œè¥¿æˆ‘ä»¬ä¸æƒ³pushä¸ŠåŽ»è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æƒ³æŠŠæäº¤çš„æ’¤é”€æŽ‰ï¼Œé‡æ–°æäº¤æˆ‘ä»¬æƒ³æäº¤çš„ï¼Œpushæˆ‘ä»¬æƒ³è¦pushçš„1ã€æ‰¾åˆ°ä¹‹å‰æäº¤çš„git commitçš„idgit log æ‰¾åˆ°æƒ³è¦æ’¤é”€çš„id2ã€git reset -hard idå®Œæˆæ’¤é”€ï¼ŒåŒæ—¶å°†ä»£ç æ¢å¤åˆ°å‰commit_idå¯¹åº”çš„ç‰ˆæœ¬ï¼Œå¼ºåˆ¶å›žæ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬3ã€git reset idå®Œæˆæ’¤é”€ï¼Œåœç•™åœ¨å½“å‰ç‰ˆæœ¬ï¼Œä¸å¯¹ä»£ç ä¿®æ”¹è¿›è¡Œæ’¤é”€ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡git commité‡æ–°æäº¤å¯¹æœ¬åœ°ä»£ç çš„ä¿®æ”¹ã€‚]]></content>
      <categories>
        <category>Git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨nw.jsæ‰“åŒ…reacté¡¹ç›®]]></title>
    <url>%2F2019%2F04%2F09%2Fface_02%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617nw.jsåŽŸånode-webkitï¼Œå®ƒé€šè¿‡Chromiumå†…æ ¸ï¼Œå¯ä»¥åœ¨nodeçŽ¯å¢ƒä¸‹æ¨¡æ‹Ÿæµè§ˆå™¨è¿è¡Œæ—¶ï¼Œå› æ­¤å¯ä»¥å°†jså°è£…æˆç‹¬ç«‹åº”ç”¨ï¼Œä»Žè€Œå®žçŽ°è·¨å¹³å°ã€‚#### nw.jså®‰è£…å®˜æ–¹åœ°å€https://nwjs.io/ï¼Œé€‰æ‹©å¯¹åº”ä½ è‡ªå·±çš„ç³»ç»Ÿï¼Œå¼€å‘çš„è¯å¯ä»¥ä¸‹è½½SDKï¼ŒSDKå¯ä»¥æ‰“å¼€æŽ§åˆ¶å°ï¼Œä¸Šçº¿ä¹‹ç±»çš„å¯ä»¥é€‰æ‹©Normalç‰ˆæœ¬ã€‚#### å‡†å¤‡index.htmlæ–‡ä»¶å°†reacté¡¹ç›®buildä¹‹åŽï¼Œå°†buildç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°åˆšæ‰ä¸‹è½½çš„æ–‡ä»¶å¤¹é‡Œé¢ï¼Œå’Œnw.exeåŒç›®å½•#### å‡†å¤‡package.jsonæœ€åŽéœ€è¦æ–°å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œè¿™æ˜¯nwæ‰“åŒ…çš„é…ç½®æ–‡ä»¶å’Œå…¥å£æ–‡ä»¶ï¼Œæœ€åŸºç¡€çš„æ˜¯nameï¼Œmain&#123; name: &apos;nwDemo&apos;, main: &apos;index.html&apos;&#125;å°†package.jsonæ–‡ä»¶æ‹·è´åˆ°nw.exeåŒç›®å½•ä¸‹ï¼Œè¿è¡Œnw.exeå³å¯]]></content>
      <categories>
        <category>äººè„¸è¯†åˆ«</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Reactå’Œface-api.jsæä¾›é¢éƒ¨è¯†åˆ«]]></title>
    <url>%2F2019%2F03%2F21%2Fface_01%2F</url>
    <content type="text"><![CDATA[12345678 face-api.jsæä¾›äº†Tiny Face Detectorã€SSD mobileNetå’ŒMTCNNä¸‰ç§æ¨¡åž‹ï¼Œæ­¤APIäººè„¸è¯†åˆ«çš„åŽŸç†å°±æ˜¯ä¸€æ—¦æ£€æµ‹åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªäººè„¸ï¼Œäººè„¸æ£€æµ‹å™¨æ¨¡åž‹å°†è¿”å›žæ¯ä¸ªäººè„¸çš„è¾¹ç•Œæ¡†ï¼Œå‘Šè¯‰æˆ‘ä»¬äººè„¸åœ¨å›¾åƒä¸­çš„ä½ç½®ã€‚ç„¶åŽåˆ©ç”¨äººè„¸æ ‡å¿—ç½‘ç»œå¯¹äººè„¸æ ‡å¿—è¿›è¡Œ68ä¸ªç‚¹çš„æ ‡è®°ï¼Œåœ¨äººè„¸è¯†åˆ«ç½‘ç»œè¿›è¡Œè¾“å…¥å‰ï¼Œåˆ©ç”¨å¯¹é½æ¨¡åž‹ç¡®å®šäººè„¸çš„ä¸­å¿ƒä½ç½®ã€‚ äººè„¸è¯†åˆ«ç½‘ç»œæ˜¯å¦ä¸€ä¸ªç¥žç»ç½‘ç»œè¿”å›žä¸€ä¸ªäººè„¸æè¿°ç¬¦ï¼ˆç‰¹å¾å‘é‡åŒ…å«128ä¸ªå€¼ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ¯”è¾ƒå’Œè¯†åˆ«å›¾åƒä¸­çš„äººã€‚å°±åƒæŒ‡çº¹ä¸€æ ·ï¼Œè„¸éƒ¨æè¿°ç¬¦æ˜¯æ¯ä¸ªè„¸éƒ¨çš„ç‹¬ç‰¹ä»·å€¼ã€‚å½“æˆ‘ä»¬æ¯”è¾ƒå®ƒä»¬æ—¶ï¼Œæ¥è‡ªä¸åŒå›¾åƒæºçš„åŒä¸€ä¸ªäººçš„äººè„¸æè¿°ç¬¦åº”è¯¥éžå¸¸æŽ¥è¿‘ã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¬§å‡ é‡Œå¾·è·ç¦»è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æžœè·ç¦»å°äºŽæˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼ï¼Œæˆ‘ä»¬ç¡®å®šä»–ä»¬å¯èƒ½æ˜¯åŒä¸€ä¸ªäººã€‚ ï¼ˆè·ç¦»è¶Šè¿œï¼Œä¿¡å¿ƒè¶Šé«˜ï¼‰ é€šå¸¸ï¼Œç³»ç»Ÿå°†æ¯ä¸ªäººçš„é¢éƒ¨æè¿°ç¬¦ä¸Žä»–æˆ–å¥¹çš„åç§°ä¸€èµ·å­˜å‚¨ä¸ºæ ‡è®°ã€‚å½“æˆ‘ä»¬æä¾›æŸ¥è¯¢å›¾åƒæ—¶ï¼Œç³»ç»Ÿä¼šå°†æ–°å›¾åƒçš„è„¸éƒ¨æè¿°ç¬¦ä¸Žæ‰€æœ‰å‚è€ƒæè¿°ç¬¦è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è¯†åˆ«å…·æœ‰æœ€ä½Žå›¾åƒæè¿°ç¬¦çš„äººã€‚å¦‚æžœæ²¡æœ‰æ¯”è¾ƒä½ŽäºŽé˜ˆå€¼çš„äººï¼Œåˆ™è¯¥äººå°†è¢«è¯†åˆ«ä¸ºæœªçŸ¥ã€‚ 12ä»Šå¤©è¿™é‡Œå®žçŽ°ä¸¤ä¸ªåŠŸèƒ½ã€‚ä¸€ç§æ˜¯ä»Žè¾“å…¥å›¾åƒä¸­è¯†åˆ«ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨å®žæ—¶è§†é¢‘ä½œä¸ºè¾“å…¥ã€‚è®©æˆ‘ä»¬ä»Žcreate-react-appå¼€å§‹ï¼Œå®‰è£…react-router-domï¼Œç„¶åŽå¯åŠ¨App 123456create-react-app face-democd face-demoyarn add react-router-domyarn startè¿™æ—¶ä¼šè‡ªåŠ¨æ‰“å¼€é»˜è®¤çš„é¡µé¢ 1å°†src/App.jsæ–‡ä»¶ç”¨react-router-domè®¾ç½®ä¸€ä¸‹]]></content>
      <categories>
        <category>äººè„¸è¯†åˆ«</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React Nativeè§£å†³'libgnustl_shared.so is 32-bit instead if 64-bit'æŠ¥é”™]]></title>
    <url>%2F2019%2F01%2F15%2Frn_02%2F</url>
    <content type="text"><![CDATA[React Nativeé¡¹ç›®åœ¨64ä½Androidæ‰‹æœºä¸Šè¿è¡Œï¼Œä¼šæç¤ºâ€œ/data/data/com.xxx.xxx/lib-main/libgnustl_shared.soâ€is 32-bit instead of 64-bitè¿™ä¸ªé”™è¯¯ã€‚ è§£å†³æ–¹æ³•å°±æ˜¯å–æ¶ˆæŽ‰æ‰€æœ‰64ä½çš„.soæ–‡ä»¶ï¼Œå…¨éƒ¨åŠ è½½32ä½çš„å°±å¯ä»¥äº†ï¼Œä¸‹é¢æ˜¯æ­¥éª¤ åœ¨é¡¹ç›®çš„æ ¹éƒ¨å½•çš„gradle.propertiesé‡Œé¢æ·»åŠ ä¸€è¡Œä»£ç ï¼Œandroid.useDeprecatedNdk = true. åœ¨build.gradleæ–‡ä»¶é‡Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12345678910111213android &#123; ... defaultConfig &#123; ... ndk &#123; abiFilters: &quot;armeabi-v7a&quot;,&quot;x86&quot; &#125; packagingOptions &#123; exclude &quot;lib/arm64-v8a/librealm-jni.so&quot; &#125; &#125;&#125;]]></content>
      <categories>
        <category>React Native</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³bootstrapæ¨¡æ€æ¡†åˆ‡æ¢æ—¶é¡µé¢æŠ–åŠ¨oré¡µé¢æ»šåŠ¨æ¡]]></title>
    <url>%2F2019%2F01%2F15%2Fbootstrap%2F</url>
    <content type="text"><![CDATA[Bootstrapä¸ºäº†è®©æ‰€æœ‰çš„é¡µé¢(è¿™é‡ŒæŒ‡å†…å®¹æº¢å‡ºå’Œä¸æº¢å‡º)æ˜¾ç¤ºæ•ˆæžœä¸€æ ·ï¼Œé‡‡å–çš„æ–¹æ³•å¦‚ä¸‹: å½“Modalæ˜¾ç¤ºæ—¶ï¼Œè®¾ç½® 1234body &#123; overflow: hidden; margin-right: 15px&#125; (è®¾ç½®15pxæ˜¯å› ä¸ºæµè§ˆå™¨çš„æ»šåŠ¨æ¡å ä½æ—¶15px) åœ¨modalæ˜¾ç¤ºæ—¶ç»™bodyæ·»åŠ  1234.modal-open &#123; overflow: auto; overflow-y: scroll;&#125; è¿™æ ·è®¾ç½®çš„æ•ˆæžœæ˜¯ï¼š 1ã€å½“é¡µé¢å†…å®¹è¶…å‡º(å³é¡µé¢æœ¬èº«å­˜åœ¨æ»šåŠ¨æ¡)ï¼Œåˆ™modalå¼¹å‡ºåŽï¼ŒåŽŸbodyæ»šåŠ¨ç¦æ­¢ï¼Œbodyçš„margin-rightå’Œmodalçš„æ»šåŠ¨æ¡ä½ç½®é‡å ï¼Œæ­¤æ—¶é¡µé¢æ˜¯ä¸ä¼šå‡ºçŽ°æŠ–åŠ¨çŽ°è±¡çš„ã€‚2ã€å½“é¡µé¢å†…å®¹æœªè¶…å‡º(å³é¡µé¢æœ¬èº«ä¸å­˜åœ¨æ»šåŠ¨æ¡)ï¼Œåˆ™modalå¼¹å‡ºåŽï¼Œç”±äºŽbodyè®¾ç½®äº†margin-rightï¼Œä¼šä½¿å¾—é¡µé¢å‘å·¦åç§»ï¼Œå½“modalå…³é—­åŽï¼Œbodyçš„margin-rightä¸º0ï¼Œé¡µé¢å‘å³åç§»ï¼Œå°±å‡ºçŽ°é¡µé¢æŠ–åŠ¨ã€‚ æ ¹æ®ä¸Šé¢çš„æè¿°ï¼Œè§£å†³é¡µé¢æŠ–åŠ¨çš„æ€è·¯æ˜¯ï¼š æ ¹æ®scrollHeightå’ŒclientHeightï¼Œåˆ†åˆ«åœ¨modalåŠ è½½å‰å’Œå…³é—­æ—¶è°ƒæ•´bodyçš„overflowã€margin-rightå’Œ.modalçš„overflowå±žæ€§ï¼Œä»¥è¦†ç›–bootstrap.cssä¸­çš„æ ·å¼ å‡½æ•°å¦‚ä¸‹ï¼š 1234//è§£å†³Modalå¼¹å‡ºæ—¶é¡µé¢å·¦å³ç§»åŠ¨é—®é¢˜æœ€ä½³çš„åŠžæ³•åº”è¯¥æ˜¯CSSï¼šå¼•ç”¨@åƒµå”å”çš„ç­”æ¡ˆï¼šbody&#123; overflow: auto !important;&#125; .modal&#123; overflow: auto !important;&#125;]]></content>
      <categories>
        <category>Bootstrap</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Reactç”Ÿå‘½å‘¨æœŸ]]></title>
    <url>%2F2019%2F01%2F15%2Freact_01%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223reactçš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–é˜¶æ®µã€æ›´æ–°é˜¶æ®µã€é”€æ¯é˜¶æ®µã€é”™è¯¯å¤„ç†é˜¶æ®µ#### åˆå§‹åŒ–é˜¶æ®µ- constructor- static getDerivedStateFromProps- componentWillMount()- render- componentDidmount()#### æ›´æ–°é˜¶æ®µ- componentWillReceiveProps- static getDerivedStateFromprops()- shouldComponentUpdate()- componentWillUpdate()- render()- getSnapshotBeforeUpdate()- componentDidUpdate()#### é”€æ¯é˜¶æ®µ- compinentWillUnmount()#### é”™è¯¯å¤„ç†- componentDidCatch() 12345678910111213141516171819202122232425262728293031323334353637383940414243444546åˆå§‹åŒ–é˜¶æ®µè¯¦ç»†#### constructor //è‡ªåŠ¨æ‰§è¡Œï¼Œä¸€å¼€å§‹å°±ä¼šæ‰§è¡ŒReactç»„ä»¶çš„æž„é€ å‡½æ•°åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚åœ¨å®žçŽ°React.Componentæž„é€ å‡½æ•°æ—¶ï¼Œéœ€è¦çŽ°åœ¨æ·»åŠ å…¶ä»–å†…å®¹å‰ï¼Œè°ƒç”¨super(props)ï¼Œç”¨æ¥å°†çˆ¶ç»„ä»¶ä¼ æ¥çš„propsç»‘å®šåˆ°è¿™ä¸ªç±»ä¸­ï¼Œä½¿ç”¨this.propså°†ä¼šå¾—åˆ°ã€‚æ­¥å­å•Šè¿™é‡Œç”Ÿå‘½æˆ–è€…æ‰§è¡Œäº‹ä»¶constructorä¸­åº”å½“åšäº›åˆå§‹åŒ–çš„åŠ¨ä½œï¼Œå¦‚ï¼šåˆå§‹åŒ–stateï¼Œå°†æ—¶é—´ç»‘å®šåˆ°ç±»å®žä¾‹ä¸Šï¼Œä½†ä¹Ÿä¸è¦ä½¿ç”¨setState()ã€‚å¦‚æžœæ²¡æœ‰å¿…è¦åˆå§‹åŒ–stateæˆ–ç»‘å®šæ–¹æ³•ï¼Œåˆ™ä¸éœ€è¦æž„é€ constructorï¼Œæˆ–è€…æŠŠè¿™ä¸ªç»„ä»¶æ¢æˆçº¯å‡½æ•°å†™æ³•ã€‚#### static getDerivedStateFromProps(nextprops) //è‡ªåŠ¨æ‰§è¡Œï¼Œå¿…é¡»æœ‰è¿”å›žå€¼ï¼Œè¾“å‡ºå‚æ•°ä¸ºæ–°å€¼getDerivedStateFromPropsæ˜¯react16.3ä¹‹åŽæ–°å¢žï¼Œåœ¨ç»„ä»¶å®žä¾‹åŒ–åŽï¼Œå’ŒæŽ¥å—æ–°çš„propsåŽè¢«è°ƒç”¨ã€‚ä»–å¿…é¡»è¿”å›žä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›žnullè¡¨ç¤ºæ–°çš„propsä¸éœ€è¦ä»»ä½•stateçš„æ›´æ–°ã€‚å¦‚æžœæ˜¯ç”±äºŽçˆ¶ç»„ä»¶çš„propsæ›´æ”¹ï¼Œæ‰€å¸¦æ¥çš„é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚è°ƒç”¨setState()ä¸ä¼šè§¦å‘getDerivedStateFromProps()ä¹‹å‰è¿™é‡Œéƒ½æ˜¯ä½¿ç”¨constructor + componentWillRecievePropså®Œæˆç›¸åŒçš„åŠŸèƒ½çš„#### componentWillMount() //render()å‰è°ƒç”¨ï¼Œå¯ä»¥ç›´æŽ¥ä¿®æ”¹stateè‡ªåŠ¨æ‰§è¡Œï¼Œå³å°†æŒ‚è½½ç»„ä»¶componentWillMount()å°†åœ¨Reactæœªæ¥ç‰ˆæœ¬ä¸­è¢«å¼ƒç”¨ï¼Œå®˜æ–¹éƒ½å»ºè®®ä½¿ç”¨componentDidMount()ä»£æ›¿ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨äºŽåœ¨æœåŠ¡å™¨æ¸²æŸ“ä¸Šçš„å”¯ä¸€æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å› ä¸ºæ˜¯åœ¨æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼Œä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥ç›´æŽ¥åŒæ­¥ä¿®æ”¹stateçš„åœ°æ–¹#### render() //ç›´æŽ¥æ‰§è¡Œï¼Œå¿…é¡»è¦æœ‰çš„ï¼Œä¸€èˆ¬è¿”å›žhtmlä»£ç render()æ–¹æ³•æ˜¯å¿…éœ€çš„ã€‚å½“ä»–è¢«è°ƒç”¨æ—¶ï¼Œä»–å°†è®¡ç®—this.propså’Œthis.stateï¼Œå¹¶è¿”å›žä»¥ä¸‹ä¸€ç§ç±»åž‹ï¼š1ã€Reactå…ƒç´ ã€‚é€šè¿‡jsxåˆ›å»ºï¼Œæ—¢å¯ä»¥æ—¶domå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚2ã€å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚ä»–ä»¬å°†ä¼šä»¥æ–‡æœ¬èŠ‚ç‚¹å½¢å¼æ¸²æŸ“åˆ°domä¸­3ã€Portalsã€‚react 16ç‰ˆæœ¬ä¸­æå‡ºçš„æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç»„ä»¶è„±ç¦»çˆ¶ç»„ä»¶å±‚çº§ç›´æŽ¥æŒ‚è½½åœ¨DOMæ ‘çš„ä»»ä½•ä½ç½®ã€‚4ã€nullï¼Œä»€ä¹ˆä¹Ÿä¸æ¸²æŸ“5ã€å¸ƒå°”å€¼ã€‚ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“ã€‚å½“è¿”å›žnullï¼Œfalseï¼ŒReactDOM.findDOMNode(this)å°†ä¼šè¿”å›žnullï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ¸²æŸ“render()æ–¹æ³•å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä»–ä¸åº”è¯¥æ”¹å˜stateï¼Œä¹Ÿä¸èƒ½ç›´æŽ¥å’Œæµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼Œåº”è¯¥å°†äº‹ä»¶æ”¾åœ¨å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ã€‚å¦‚æžœshouldComponentUpdate()è¿”å›žfalseï¼Œrender()ä¸ä¼šè¢«è°ƒç”¨ã€‚#### componentDidMount() //ç›´æŽ¥æ‰§è¡Œï¼Œå¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œç¬¬ä¸‰æ–¹å®žä¾‹åŒ–ï¼Œæ‹¿åˆ°çœŸå®ždomï¼Œå†™æ­»çš„æ•°æ®å¯ä»¥ç›´æŽ¥å†™åœ¨è¿™é‡Œï¼Œå¦‚æžœæ˜¯èŽ·å–åˆ°çš„ä¼šå˜å¾—æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®šæ—¶å™¨ï¼Œä¸è¦çš„è¯å‡½æ•°ä¸€ç›´å†è§¦å‘ï¼Œä¼šå¯¼è‡´æ›´æ–°ä¸äº†è§†å›¾ï¼Œéœ€è¦åœ¨domå…ƒç´ æ›´æ–°å®Œä¹‹åŽæ‰§è¡ŒcomponentDidMountåœ¨ç»„ä»¶è¢«è£…é…åŽç«‹å³è°ƒç”¨ã€‚åˆå§‹åŒ–ä½¿å¾—DOMèŠ‚ç‚¹åº”è¯¥è¿›è¡Œåˆ°è¿™é‡Œ 123456789101112131415161718192021222324252627282930313233343536373839æ›´æ–°é˜¶æ®µ#### componentWillReceiveProps()/UNSAFE_componentWillReceiveProps(nextProps) //æ”¹å˜stateæˆ–è€…propsæ—¶è§¦å‘å®˜æ–¹å»ºè®®ä½¿ç”¨getDerivedStateFromPropså‡½æ•°æ›¿ä»£æ­¤å‡½æ•°ã€‚å½“ç»„ä»¶æŒ‚è½½åŽï¼ŒæŽ¥æ”¶åˆ°æ–°çš„propsåŽä¼šè¢«è°ƒç”¨ã€‚å¦‚æžœéœ€è¦æ›´æ–°stateæ¥å“åº”propsçš„æ›´æ”¹ï¼Œåˆ™å¯ä»¥è¿›è¡Œthis.propså’ŒnextPropsçš„æ¯”è¾ƒï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­ä½¿ç”¨this.setState()å¦‚æžœçˆ¶ç»„ä»¶ä¼šè®©è¿™ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•Reactä¸ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–propsæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è°ƒç”¨this.setStateä¹Ÿä¸ä¼šè§¦å‘#### shouldComponentUpdate(nextprops, nextstate) //å‚æ•°ä¸ºæ–°çš„çŠ¶æ€å’Œå±žæ€§ï¼Œå¦‚æžœè¿”å›žå€¼ä¸ºfalseï¼ŒçŠ¶æ€æ”¹å˜ï¼Œè§†å›¾ä¸æ›´æ–°ï¼Œæ•°æ®æ”¹å˜æ—¶è§¦å‘ï¼Œæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ä¹‹ä¸€è°ƒç”¨shouldComponentUpdateä½¿ReactçŸ¥é“ï¼Œç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—stateå’Œpropsçš„å½±å“ã€‚é»˜è®¤æ¯ä¸ªçŠ¶æ€çš„æ›´æ”¹éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä¿æŒè¿™ä¸ªé»˜è®¤è¡Œä¸ºã€‚åœ¨æ¸²æŸ“æ–°çš„propsæˆ–stateå‰ï¼ŒshouldComponentUpdateä¼šè¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šåœ¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚è¿”å›žfalseä¸ä¼šé˜»æ­¢å­ç»„ä»¶åœ¨stateæ›´æ”¹æ—¶é‡æ–°æ¸²æŸ“ã€‚å¦‚æžœshouldComponentUpdate()è¿”å›žfalseï¼ŒcomponentWillUpdate,renderå’ŒcomponentDidUpdateä¸ä¼šè¢«è°ƒç”¨UNSAFE_componentWillUpdate(nextprops, nextstate) //æ¸²æŸ“æ–°çš„æ•°æ®æ—¶è°ƒç”¨åœ¨æ¸²æŸ“æ–°çš„stateæˆ–propsæ—¶ï¼ŒUNSAFE_componentWillUpdateä¼šè¢«è°ƒç”¨ï¼Œå°†æ­¤ä½œä¸ºåœ¨æ›´æ–°å‘ç”Ÿä¹‹å‰è¿›è¡Œå‡†å¤‡çš„æœºä¼šã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ã€‚åœ¨è¿™é‡Œæ”¹å˜æ•°æ®ä¼šå¯¼è‡´æ­»å¾ªçŽ¯ï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰å¤ªå¤§çš„å®žé™…ä½œç”¨ä¸èƒ½åœ¨è¿™é‡Œä½¿ç”¨this.setStae()ï¼Œä¹Ÿä¸èƒ½åšä¼šè§¦å‘è§†å›¾æ›´æ–°çš„æ“ä½œã€‚å¦‚æžœéœ€è¦æ›´æ–°stateæˆ–propsï¼Œè°ƒç”¨getDerivedFromProps.#### getsnapshotBeforeUpdate() //æ–°çš„æ•°æ®æ¸²æŸ“å‰è°ƒç”¨ï¼Œå¯ä»¥è®°å½•scrollæ»šåŠ¨æ¡åœ¨react render()åŽçš„è¾“å‡ºè¢«æ¸²æŸ“åˆ°DOMä¹‹å‰è¢«è°ƒç”¨ã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶èƒ½å¤Ÿåœ¨å®ƒä»¬è¢«æ½œåœ¨æ›´æ”¹ä¹‹å‰æ•èŽ·å½“å‰å€¼ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿”å›žçš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()#### componentDidUpdate( prevprops,prevstate,snapshot )//ç¬¬ä¸‰ä¸ªå‚æ•°æ¥è‡ªgetSnapshopBeforeUpdate()å‡½æ•°çš„è¿”å›žå€¼ 1234567891011121314151617é”€æ¯é˜¶æ®µcomponentWillUnmount()// è¿ždomç»“æž„éƒ½ä¼šæ¸…é™¤æŽ‰åœ¨ç»„ä»¶è¢«å¸è½½å¹¶é”€æ¯ä¹‹å‰ç«‹å³è¢«è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†ï¼Œä¾‹å¦‚ä½¿å®šæ—¶å™¨æ— æ•ˆï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…ç†åœ¨componentDidMountä¸­åˆ›å»ºçš„ä»»ä½•ç›‘å¬componentDidCatch(err, info)å‡ºé”™æ—¶é¡µé¢ä¸ä¼šå´©æºƒï¼Œä½†æ˜¯ä¼šåœ¨æŽ§åˆ¶å°è¾“å‡ºé”™è¯¯é”™è¯¯è¾¹ç•Œæ˜¯Reactç»„ä»¶ï¼Œå¯ä»¥åœ¨å…¶å­ç»„ä»¶æ ‘ä¸­çš„ä»»ä½•ä½ç½®æ•èŽ·jsé”™è¯¯ï¼Œè®°å½•è¿™äº›é”™è¯¯å¹¶æ˜¾ç¤ºå›žé€€uiï¼Œè€Œä¸æ˜¯å´©æºƒçš„ç»„ä»¶æ ‘ã€‚é”™è¯¯è¾¹ç•Œåœ¨æ¸²æŸ“æœŸé—´ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥åŠæ•´ä¸ªæ ‘ä¸‹çš„æž„é€ å‡½æ•°ä¸­æ•èŽ·é”™è¯¯ã€‚å¦‚æžœç±»ç»„ä»¶å®šä¹‰äº†æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåˆ™å®ƒå°†æˆé”™è¯¯è¾¹ç•Œã€‚åœ¨å®ƒä¸­è°ƒç”¨setState()å¯ä»¥è®©ä½ åœ¨ä¸‹é¢çš„æ ‘ä¸­æ•èŽ·æœªå¤„ç†çš„JavaScripté”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªåŽå¤‡UIã€‚åªèƒ½ä½¿ç”¨é”™è¯¯è¾¹ç•Œä»Žæ„å¤–å¼‚å¸¸ä¸­æ¢å¤; ä¸è¦è¯•å›¾å°†å®ƒä»¬ç”¨äºŽæŽ§åˆ¶æµç¨‹ã€‚é”™è¯¯è¾¹ç•Œåªä¼šæ•èŽ·æ ‘ä¸­ä¸‹é¢ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚é”™è¯¯è¾¹ç•Œæœ¬èº«ä¸èƒ½æ•èŽ·é”™è¯¯ã€‚]]></content>
      <categories>
        <category>React</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è¶…è¿‡å›ºå®šå®½åº¦(æˆ–è¡Œæ•°)æ˜¾ç¤º...(æˆ–çœç•¥)]]></title>
    <url>%2F2019%2F01%2F15%2Fcss_02%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºå‰ç«¯ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªéœ€æ±‚ã€‚å¯¹äºŽä¸€äº›æ¯”è¾ƒé•¿çš„æ–‡æœ¬åšé™åˆ¶ï¼Œä¸æ˜¾ç¤ºï¼Œæˆ–è€…æ˜¾ç¤ºçœç•¥å·ã€‚ä»Šå¤©æ•´ç†ä¸€ä¸‹ã€‚ 1ã€è¶…å‡ºå›ºå®šé•¿åº¦æ˜¾ç¤ºâ€¦123456.class &#123; width: 400px; overflow: hidden; //è¿™ä¸ªæ˜¯è®¾ç½®éšè—çš„ã€‚è¿˜æœ‰å…¶ä»–çš„ï¼Œä¾‹å¦‚scrollï¼Œæ˜¯è¶…å‡ºå›ºå®šé•¿åº¦ï¼Œåº•éƒ¨æ˜¾ç¤ºæ»šåŠ¨æ¡çš„ã€‚ text-overflow: ellipsis; //è¿™ä¸ªå°±æ˜¯è®¾ç½®ç›´æŽ¥éšè—æŽ‰æ–‡å­—ï¼Œè¿˜æ˜¯æ˜¾ç¤º...çš„ã€‚å½“å‰æ˜¯æ˜¾ç¤ºçœç•¥å·ï¼Œç›´æŽ¥çœç•¥æ˜¯clipã€‚ display: inline-block; //æ ¹æ®ä¸åŒæ ‡ç­¾displayå€¼ï¼Œæœ‰çš„ä¸ç”¨åŠ &#125; 2ã€è¶…å‡ºå›ºå®šè¡Œæ•°æ˜¾ç¤ºâ€¦è¶…å‡ºå›ºå®šè¡Œæ•°ã€‚æ˜¾ç¤ºçœç•¥å·ï¼Œå’Œä¸Šé¢å·®ä¸å¤šã€‚overflowå’Œtext-overflowè§ä¸Šæ–¹è§£é‡Šã€‚ 1234567.class &#123; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; //è¿™é‡Œå°±æ˜¯è®¾ç½®è¶…å‡ºå‡ è¡Œéšè— -webkit-box-orient: vertical; display: -webkit-box; //æ ¹æ®ä¸åŒæ ‡ç­¾displayï¼Œæœ‰çš„ä¸ç”¨åŠ ã€‚æˆ–è€…è®¾ç½®æˆåˆ«çš„å±žæ€§ï¼Œè‡ªå·±å¯ä»¥éšä¾¿è¯•è¯•&#125; å·¨å‘æé†’(å¤šè¡Œéšè—)æœ‰çš„æ—¶å€™ï¼Œä½ æŒ‰ç…§ä¸Šé¢çš„è®¾ç½®ã€‚å°±æ˜¯ä¸ç”Ÿæ•ˆã€‚æˆ–è€…æœ¬åœ°ç”Ÿæ•ˆäº†ï¼Œreactï¼ˆæˆ–è€…vueï¼‰æ‰“åŒ…åˆ°æœåŠ¡å™¨ä¸Šå°±ä¸ç”Ÿæ•ˆäº†ã€‚ä½ å¯ä»¥åœ¨æŽ§åˆ¶å°çœ‹çœ‹ã€‚æ˜¯ä¸æ˜¯-webkit-box-orientè¿™ä¸ªå±žæ€§æ¶ˆå¤±äº†ã€‚å¦‚æžœæ˜¯è¿™æ ·çš„è¯ï¼Œè¯·çœ‹ä¸‹é¢çš„è§£å†³æ–¹æ³•ã€‚ 12345678910111213//åŠžæ³•1ç›´æŽ¥åœ¨styleé‡Œé¢å†™ä¸Šdisplay: -webkit-box; å°±è¡Œ//åŠžæ³•2.class &#123; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; /* autoprefixer: off */ //å¯¹ï¼Œå°±æ˜¯åŠ è¿™ä¸¤ä¸ªæ³¨é‡Šå°±è¡Œ. -webkit-box-orient: vertical; /* autoprefixer: on */ display:-webkit-box;&#125;]]></content>
      <categories>
        <category>css</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React Naitve æ€§èƒ½ä¼˜åŒ–]]></title>
    <url>%2F2019%2F01%2F15%2Frn_01%2F</url>
    <content type="text"><![CDATA[1ã€åˆ©ç”¨shouldComponentUpdateå‡½æ•°ä¼˜åŒ–reactæ€§èƒ½ä»¥åŠå¼•å…¥immutableåº“çš„å¿…è¦æ€§(ä¹Ÿé€‚ç”¨äºŽreact-native)123setState()å‡½æ•°åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ¸²æŸ“å—ï¼Ÿå¦‚æžœsetState()ä¸­å‚æ•°è¿˜æ˜¯åŽŸæ¥æ²¡æœ‰å‘ç”Ÿä»»ä½•å˜åŒ–çš„statenï¼Ÿå¦‚æžœç»„ä»¶çš„stateæ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸”ä»Žçˆ¶ç»„ä»¶æŽ¥æ”¶çš„propsä¹Ÿæ²¡æœ‰å˜åŒ–ï¼Œé‚£å®ƒå°±ä¸€å®šä¸ä¼šé‡æ¸²æŸ“å—ï¼Ÿå¦‚æžœ1ï¼Œ2ä¸¤ç§æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´é‡æ¸²æŸ“ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é¿å…è¿™ç§å†—æ‚çš„æ“ä½œï¼Œä»Žè€Œä¼˜åŒ–æ€§èƒ½ï¼Ÿ å‚è€ƒ https://www.cnblogs.com/penghuwan/p/6707254.html]]></content>
      <categories>
        <category>React Native</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React Naitve é”™è¯¯é›†é”¦]]></title>
    <url>%2F2019%2F01%2F15%2Frn_03%2F</url>
    <content type="text"><![CDATA[1ã€åœ¨androidåŽä¸ºæ‰‹æœºä¸Šè¿è¡ŒReact-nativeå·¥ç¨‹æ—¶å‡ºçŽ°äº†å¦‚ä¸‹é”™: 1æŠ¥é”™ï¼šunable to load script from assets &apos;index.android.bundle&apos;, make sure your bundle is packaged correctly or youuâ€™re running a packager server è§£å†³åŠžæ³•ï¼š 1ã€åœ¨Android/app/src/mainç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„assetsæ–‡ä»¶å¤¹ 2ã€è¿›å…¥é¡¹ç›®è·Ÿç›®å½•æ‰§è¡Œä¸‹é¢ä»£ç : 1react-native bundle --platform android --dev false --entry-file index.android.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res/ 1è¿è¡Œå®Œæ¯•åŽassetsæ–‡ä»¶å¤¹ä¸‹ä¼šå¤šå‡ºindex.android.bundleå’Œindex.android.bundle.metaä¸¤ä¸ªæ–‡ä»¶ é‡æ–°è¿è¡Œ æ€»ç»“:index.android.bundleæ˜¯ç”¨æ¥è°ƒç”¨åŽŸç”ŸæŽ§ä»¶çš„jsè„šæœ¬ï¼Œæ¯æ¬¡å½“æ”¹å˜index.android.js,éƒ½éœ€è¦ä½¿ç”¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µï¼Œæ¥åŠæ—¶çš„æ›´æ–°index.android.bundleæ–‡ä»¶ï¼Œç„¶åŽæ‰“åŒ…æ‰å¯ä»¥æŠŠæ–°çš„index.android.jsåº”ç”¨ä¸Šï¼Œæ‰€ä»¥æ²¡æœ‰index.android.bundleæ–‡ä»¶æ—¶ï¼ŒReact-Nativeé¡¹ç›®æ—¶æ— æ³•è¿è¡Œçš„ã€‚]]></content>
      <categories>
        <category>React Native</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[css3éš”è¡Œå˜è‰²]]></title>
    <url>%2F2019%2F01%2F15%2Fcss_01%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657div:nth-of-type(odd)&#123;background:#fff&#125; /*å¥‡æ•°è¡Œ*/div:nth-of-type(even)&#123;background:#000&#125; /*å¶æ•°è¡Œ */div:nth-child(4n+1)&#123;background:#fff&#125; /*ä»Žç¬¬ä¸€è¡Œå¼€å§‹ç®—èµ· æ¯éš”å››ä¸ªï¼ˆåŒ…å«ç¬¬å››ä¸ªï¼‰ä½¿ç”¨æ­¤æ ·å¼*/div:nth-child(4n+2)&#123;background:#fff&#125; /*ä»Žç¬¬äºŒè¡Œå¼€å§‹ç®—èµ· æ¯éš”å››ä¸ªï¼ˆåŒ…å«ç¬¬å››ä¸ªï¼‰ä½¿ç”¨æ­¤æ ·å¼*/&lt;strong&gt;E:nth-child(n)&lt;/strong&gt;æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯ä½ åŒ—æœé²œç»µç¬¬nä¸ªå­å…ƒç´ .nå¯ä»¥æ˜¯æ•°å­—(1,2,3),å…³é”®å­—(odd,even),å…¬å¼(2n,2n+3),æ•°å­—æ˜¯ä»Ž1å¼€å§‹çš„,ä¸æ˜¯0.å¦‚:tr:nth-child(3)åŒ¹é…æ‰€æœ‰è¡¨æ ¼é‡Œç¬¬3è¡Œçš„trtr:nth-child(2n+1)åŒ¹é…æ‰€æœ‰è¡¨æ ¼çš„å¥‡æ•°è¡Œtr:nth-child(2n)åŒ¹é…æ‰€æœ‰çš„å¶æ•°è¡Œtr:nth-child(odd)åŒ¹é…æ‰€æœ‰çš„å¥‡æ•°è¡Œtr:nth-child(even)åŒ¹é…æ‰€æœ‰çš„å¶æ•°è¡Œ&lt;strong&gt;E:nth-last-child(n)&lt;/strong&gt;é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ çš„å€’æ•°ç¬¬nä¸ªå­å…ƒç´ &lt;strong&gt;E:nth-of-type(n)&lt;/strong&gt;é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ æ‰€æœ‰å­å…ƒç´ ä¸­ç±»åž‹ä¸ºEçš„å­å…ƒç´ é›†åˆä¸­çš„ç¬¬nä¸ª,nå¯ä»¥æ˜¯æ•°å­—(1,2,3),å…³é”®å­—(odd,even),å…¬å¼(2n,2n+3),æ•°å­—æ˜¯ä»Ž1å¼€å§‹çš„,ä¸æ˜¯0.å¦‚p:nth-of-type(2)åŒ¹é…å‡º,&amp;lt;div&amp;gt;&amp;lt;h1&amp;gt;&amp;lt;/h1&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­ç¬¬äºŒä¸ªpå…ƒç´ &lt;strong&gt;E:nth-last-of-type(n)&lt;/strong&gt;é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ çš„å€’æ•°ç¬¬nä¸ªå­èŠ‚ç‚¹&lt;strong&gt;E:last-child&lt;/strong&gt;æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­çš„æœ€åŽä¸€ä¸ªå­—èŠ‚ç‚¹&lt;strong&gt;E:first-of-tpe&lt;/strong&gt;æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­æ˜¯ç¬¬ä¸€ä¸ªè¯¥ç±»åž‹çš„å…ƒç´ ,å¦‚p:first-of-typeåŒ¹é…&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;ä¸­çš„ç¬¬ä¸€ä¸ªpå…ƒç´ .&lt;strong&gt;E:last-of-type&lt;/strong&gt;æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­çš„æœ€åŽä¸€ä¸ªè¯¥ç±»åž‹çš„å…ƒç´ .å¦‚:p:last-of-typeåŒ¹é…,&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­çš„æœ€åŽä¸€ä¸ªpå…ƒç´ ,å®ƒåŒE:nth-last-of-tpe(1)æ„ä¹‰ç›¸åŒ&lt;strong&gt;E:only-child&lt;/strong&gt;æ‰¾å‡ºçˆ¶å…ƒç´ ä¸­åªåŒ…æ‹¬ä¸€ä¸ªçš„å­å…ƒç´ ,ä¸”è¯¥å…ƒç´ æ˜¯E&lt;strong&gt;E:only-of-type&lt;/strong&gt;é€‰æ‹©å…¶çˆ¶å…ƒç´ åªåŒ…å«ä¸€ä¸ªåŒç±»åž‹çš„å­å…ƒç´ ,ä¸”è¯¥å­å…ƒç´ åŒ¹é…E.å¦‚p:only-of-typeåŒ¹é…&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­çš„p,å› ä¸ºdivä¸­åªåŒ…æ‹¬ä¸€ä¸ªpå…ƒç´ &lt;strong&gt;E:empty&lt;/strong&gt;åŒ¹é…Eå…ƒç´ ,ä¸”è¯¥å…ƒç´ ä¸åŒ…å«å­èŠ‚ç‚¹,æ³¨æ„,æ–‡å­—ä¹Ÿå±žäºŽèŠ‚ç‚¹]]></content>
      <categories>
        <category>css</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidç‰ˆæœ¬åç§°ã€ç‰ˆæœ¬å·ã€API levelå¯¹åº”å…³ç³»]]></title>
    <url>%2F2019%2F01%2F15%2Fandroid_01%2F</url>
    <content type="text"><![CDATA[- Code name Version API level 1 no code name 1.0 API level 1 2 no code name 1.1 API level 2 3 Cupcake 1.5 API level 3,NDK 1 4 Donut 1.6 API level 4,NDK 2 5 Eclair 2.0 API level 5 6 Eclair 2.0.1 API level 6 7 Eclair 2.1 API level 7,NDK3 8 Froyo 2.2.x API level 8,NDK 4 9 Gingerbread 2.3-2.3.2 API level 9,NDK5 10 Gingerbread 2.3.3-2.3.7 API level 10 11 Honeycomb 3.0 API level 11 12 Honeycomb 3.1 API level 12,NDK 6 13 Honeycomb 3.2x API level 13 14 Ice Cream Sandwich 4.0.1-4.0.2 API level 14,NDK 7 15 Ice Cream Sandwich 4.0.3-4.0.4 API level 15,NDK 8 16 Jelly Bean 4.1x API level 16 17 Jelly Bean 4.2x API level 17 18 Jelly Bean 4.3x API level 18 19 Jelly Bean 4.4-4.4.4 API level 19 20 Lollipop 5.0 API level 21 21 Lollipop 5.1 API level 22 22 Marshmallow 6.0 API level 23 23 Nougat 7.0 API level 24 24 Nougat 7.1.1 API level 25]]></content>
      <categories>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Macæ˜¾ç¤ºéšè—æ–‡ä»¶]]></title>
    <url>%2F2019%2F01%2F15%2Fmac_01%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç§ï¼šåœ¨macOS Sierra, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ·é”®âŒ˜â‡§.(Command + Shift + .)æ¥å¿«é€Ÿ(åœ¨Finderä¸­)æ˜¾ç¤ºå’Œéšè—æ–‡ä»¶ ç¬¬äºŒç§åœ¨ç»ˆç«¯ä½¿ç”¨ï¼š 1234//æ˜¾ç¤ºéšè—æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool true//ä¸æ˜¾ç¤ºéšè—æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool false]]></content>
      <categories>
        <category>Mac</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯å¼€å‘è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆï¼ˆé˜¿é‡Œå›¢é˜Ÿé«˜æ¸…æ–¹æ¡ˆï¼‰]]></title>
    <url>%2F2019%2F01%2F15%2Fmobile_01%2F</url>
    <content type="text"><![CDATA[ç§»åŠ¨ç«¯è‡ªé€‚åº”æ–¹æ¡ˆæœ‰å¾ˆå¤š1ã€æµå¼å¸ƒå±€ ä¹Ÿå°±æ˜¯å›ºå®šé«˜åº¦ï¼Œå®½åº¦æ˜¯ç”¨ç™¾åˆ†æ¯”çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¼šå¯¼è‡´ä¸€äº›å…ƒç´ åœ¨å¤§å±æ‰‹æœºä¸Šæ‹‰ä¼¸ä¸¥é‡çš„æƒ…å†µï¼Œå½±å“è§†è§‰æ•ˆæžœï¼Œåªæœ‰åœ¨å¾ˆå°‘ä¸€éƒ¨åˆ†æ‰‹æœºä¸Šèƒ½å®Œç¾Žçš„å±•ç¤ºè®¾è®¡å¸ˆæƒ³è¦çš„æ•ˆæžœã€‚ 2ã€å›ºå®šå®½åº¦åšæ³• æ¯”å¦‚æ—©æœŸçš„æ·˜å®webpageï¼Œé¡µé¢è®¾ç½®æˆ320çš„å®½åº¦ï¼Œè¶…å‡ºéƒ¨åˆ†ç•™ç™½ï¼Œåœ¨å¤§å±å¹•æ‰‹æœºä¸Šï¼Œå°±ä¼šå‡ºçŽ°ä¸¤æ¡å¤§ç™½è¾¹ï¼Œåˆ†è¾¨æ—…é«˜çš„æ‰‹æœºï¼Œé¡µé¢çœ‹èµ·æ¥å°±ä¼šç‰¹åˆ«å°ï¼ŒæŒ‰é’®ï¼Œæ–‡å­—ä¹Ÿå¾ˆå°ã€‚ 3ã€å“åº”å¼åšæ³• ç”¨ä¸€äº›cssæ¡†æž¶ï¼Œæ¯”å¦‚bootstrapï¼Œæˆ–è€…juqeryUIï¼Œä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼Œè¿™ç§æ–¹å¼ç»´æŠ¤æˆæœ¬é«˜ï¼Œå¾ˆå°‘æœ‰å¤§åž‹ç½‘ç«™ä½¿ç”¨è¿™ç§å¸ƒå±€ã€‚ 4ã€è®¾ç½®viewportè¿›è¡Œç¼©æ”¾ å¤©çŒ«çš„web appçš„é¦–é¡µå°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼åŽ»åšçš„ï¼Œä»¥320å®½åº¦ä¸ºåŸºå‡†ï¼Œè¿›è¡Œç¼©æ”¾ï¼Œæœ€å¤§ç¼©æ”¾ä¸º320*1.3 = 416ï¼ŒåŸºæœ¬ç¼©æ”¾åˆ°416éƒ½å¯ä»¥å…¼å®¹iphone6 plusçš„å±å¹•äº†ï¼Œè¿™ä¸ªæ–¹æ³•ç®€å•ç²—æš´ï¼Œåˆé«˜æ•ˆã€‚ä¸è¿‡æœ‰æ—¶å€™ä½¿ç”¨è¿‡ç¨‹ä¸­ç¼©æ”¾ä¼šå¯¼è‡´æœ‰äº›é¡µé¢å…ƒç´ ä¼šç³Šã€‚ 5ã€remå¸ƒå±€ remæ˜¯css3æ–°å¼•å…¥çš„å•ä½ï¼Œåœ¨pcç«¯ä¼šæœ‰å…¼å®¹é—®é¢˜ï¼Œå¯¹ç§»åŠ¨ç«¯æ¯”è¾ƒå‹å¥½ã€‚ç®€è€Œè¨€ä¹‹å°±æ˜¯é€šè¿‡åŠ¨æ€è®¾ç½®htmlè·Ÿå…ƒç´ çš„fontsizeï¼Œç­‰æ¯”ç¼©æ”¾å…ƒç´ å¤§å°æ¥è‡ªé€‚åº”ç§»åŠ¨è®¾å¤‡ã€‚ 1234567891011121314151617181920212223242526272829303132333435! function(e) &#123; function t(a) &#123; if (i[a]) return i[a].exports; var n = i[a] = &#123; exports: &#123;&#125;, id: a, loaded: !1 &#125;; return e[a].call(n.exports, n, n.exports, t), n.loaded = !0, n.exports &#125; var i = &#123;&#125;; return t.m = e, t.c = i, t.p = &quot;&quot;, t(0)&#125;([function(e, t) &#123; &quot;use strict&quot;; Object.defineProperty(t, &quot;__esModule&quot;, &#123; value: !0 &#125;); var i = window; t[&quot;default&quot;] = i.flex = function(e, t) &#123; var a = e || 100, n = t || 1, r = i.document, o = navigator.userAgent, d = o.match(/Android[\S\s]+AppleWebkit\/(\d&#123;3&#125;)/i), l = o.match(/U3\/((\d+|\.)&#123;5,&#125;)/i), c = l &amp;&amp; parseInt(l[1].split(&quot;.&quot;).join(&quot;&quot;), 10) &gt;= 80, p = navigator.appVersion.match(/(iphone|ipad|ipod)/gi), s = i.devicePixelRatio || 1; p || d &amp;&amp; d[1] &gt; 534 || c || (s = 1); var u = 1 / s, m = r.querySelector(&apos;meta[name=&quot;viewport&quot;]&apos;); m || (m = r.createElement(&quot;meta&quot;), m.setAttribute(&quot;name&quot;, &quot;viewport&quot;), r.head.appendChild(m)), m.setAttribute(&quot;content&quot;, &quot;width=device-width,user-scalable=no,initial-scale=&quot; + u + &quot;,maximum-scale=&quot; + u + &quot;,minimum-scale=&quot; + u), r.documentElement.style.fontSize = a / 2 * s * n + &quot;px&quot; &#125;, e.exports = t[&quot;default&quot;]&#125;]);flex(100, 1); ä»£ç åŽŸç†1ã€æ ¹æ®è®¾å¤‡å±å¹•çš„DPR(è®¾å¤‡åƒç´ æ¯”ï¼Œæ¯”å¦‚dpr=2æ—¶ï¼Œè¡¨ç¤ºä¸€ä¸ªcssåƒç´ ç”±2x2ä¸ªç‰©ç†åƒç´ ç‚¹ç»„æˆ)åŠ¨æ€è®¾ç½®htmlçš„font-sizeã€‚2ã€åŒäº‹æ ¹æ®è®¾å¤‡DPRè°ƒæ•´é¡µé¢çš„ç¼©æ”¾å€¼ï¼Œè¿›è€Œè¾¾åˆ°é«˜æ¸…æ•ˆæžœã€‚ æ–¹æ¡ˆä¼˜åŠ¿1ã€å¼•ç”¨ç®€å•ï¼Œæ–¹ä¾¿å¸ƒå±€(åªè¦æŠŠjsä»£ç è´´åˆ°headæ ‡ç­¾é‡Œé¢ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œè®¾è®¡ç¨¿ä¸€èˆ¬æ˜¯640æˆ–è€…750ï¼Œä¸éœ€è¦è¿›è¡Œå•ä½æ¢ç®—ï¼Œç›´æŽ¥ç”¨è®¾è®¡ç¨¿çš„å°ºå¯¸å°±å¯ä»¥ï¼Œæ¯”å¦‚è®¾è®¡ç¨¿åˆä¸€ä¸ªbtnçš„é«˜åº¦ä¸º80pxï¼Œå®½åº¦ä¸º120pxï¼Œé«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem=100pxï¼Œé‚£ä¹ˆbtnçš„å®½åº¦å°±è®¾ç½®ä¸º:) 1234.btn &#123; width: 0.8rem, height: 1.2rem&#125; 2ã€æ ¹æ®è®¾å¤‡å±å¹•çš„DPRï¼Œè‡ªåŠ¨è®¾ç½®æœ€åˆé€‚çš„é«˜æ¸…ç¼©æ”¾ã€‚ä¿è¯äº†ä¸åŒè®¾å¤‡è§†è§‰ä½“éªŒçš„ä¸€è‡´æ€§ã€‚3ã€æœ‰æ•ˆè§£å†³ç§»åŠ¨ç«¯çœŸæ˜¯1pxé—®é¢˜(è¿™é‡Œçš„1pxæ˜¯è®¾å¤‡å±å¹•ä¸Šçš„ç‰©ç†åƒç´ ) 1234567æ³¨æ„ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰ç”¨pxçš„åœ°æ–¹éƒ½è¦ç”¨remï¼Œremå¸ƒå±€åªé’ˆå¯¹å›ºå®šå®½åº¦ã€‚ä¾éœ€æ±‚è€Œå®šï¼Œæ¯”å¦‚æ·˜å®é¡µé¢åº•ä¸‹çš„tabarï¼Œå’Œå¤´éƒ¨çš„æœç´¢åŒºåŸŸï¼Œéƒ½æ˜¯ç”¨ç™¾åˆ†æ¯”æ¥å¸ƒå±€çš„ï¼Œæˆ–è€…flexå’Œæ¨¡åž‹ï¼Œå½“åœ¨ipadä¸Šæ‰“å¼€çš„æ—¶å€™å°±å¯ä»¥çœ‹è§ï¼Œå¤´éƒ¨å’Œtabæ˜¯æ’‘æ»¡å…¨å±çš„ã€‚ä¸­é—´çš„ä¸»è¦å†…å®¹ï¼ˆæœ€å¤–éƒ¨çš„å®¹å™¨ï¼‰è¦è®¾ç½®ä¸€ä¸ªmax-widthï¼Œdemoè®¾ç½®çš„æ˜¯max-widthï¼š10remï¼Œè¿™é‡Œæˆ‘ä¸å¤ªæ˜Žç™½ä¸ºä»€ä¹ˆè¦è®¾ç½®æˆ10remï¼Œæœ‰å¼„æ˜Žç™½çš„å°ä¼™ä¼´å¸Œæœ›èƒ½å‘Šè¯‰æˆ‘ã€‚è°¢è°¢ï¼ˆå·²è§£å†³ï¼Œå’Œè®¾ç½®æœ€å¤–å±‚å®½åº¦ä¸º100%æ˜¯ä¸€æ ·çš„é“ç†ï¼Œ10rem å¯ä»¥é€‚é…åˆ°æ‰€æœ‰æ‰‹æœºè®¾å¤‡ã€‚1000%å¯ä»¥é€‚é…ipadï¼Œdemoè¯•è¯•å°±çŸ¥é“äº†ï¼‰ï¼ˆåº”ç”¨äº†æ­¤æ–¹æ¡ˆï¼Œä¸ç®¡è®¾è®¡å›¾å¤šå®½ï¼ˆå½“ç„¶ï¼Œä¸€èˆ¬å®½åº¦ä¸º750ï¼Œ640ä¹Ÿå¯ä»¥ï¼‰ï¼Œæœ€å¤–å±‚çš„divå®½åº¦è®¾ä¸º100%å°±è¡Œï¼Œç„¶åŽå°±å¯ä»¥æ„‰å¿«çš„å¸ƒå±€äº†ï¼Œä¸ä¼šå‡ºçŽ°ä½ è¯´çš„ç™½è¾¹çš„æƒ…å†µã€‚ï¼‰å¯¹äºŽå°ºå¯¸æ¯”è¾ƒå¤§çš„å…ƒç´ ï¼Œåº”è¯¥è€ƒè™‘ç”¨ç™¾åˆ†æ¯”ã€‚remåšå•ä½çš„å…ƒç´ åœ¨å“ªç§è®¾å¤‡ä¸‹éƒ½æ˜¯å›ºå®šå¤§å°ï¼Œè¿™ç‚¹å¿…é¡»ç‰¢è®°ï¼ï¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š1.é—®ï¼šä¸ºå•¥æ‰‹æœºç½‘é¡µæ•ˆæžœå›¾å®½åº¦æ˜¯è¦640æˆ–è€…750çš„ï¼Œæˆ‘éžå¾—å¼„ä¸ª666çš„ä¸è¡Œå’©ï¼Ÿç­”ï¼šè€å®žè¯´å½“ç„¶å¯ä»¥ï¼Œä¸è¿‡ä¸ºäº†è§„èŒƒï¼Œ640æˆ–è€…750æ˜¯ç›¸å¯¹åˆé€‚çš„ã€‚æ‹¿Iphone 5s ä¸¾ä¾‹ï¼Œå®ƒçš„cssåƒç´ å®½åº¦æ˜¯320pxï¼Œç”±äºŽå®ƒçš„dpr=2ï¼Œæ‰€ä»¥å®ƒçš„ç‰©ç†åƒç´ å®½åº¦ä¸º320 Ã— 2 = 640pxï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆï¼Œä½ åœ¨5sä¸Šæˆªäº†ä¸€å¼ å›¾ï¼Œåœ¨ç”µè„‘ä¸Šæ‰“å¼€ï¼Œå®ƒçš„åŽŸå§‹å®½åº¦æ˜¯640pxçš„åŽŸå› ã€‚é‚£ iphone 6 çš„æˆªå›¾å®½åº¦å‘¢ï¼Ÿ 375 Ã— 2 = 750é‚£ iphone 6 sp çš„æˆªå›¾å®½åº¦å‘¢ï¼Ÿ 414 Ã— 3 = 1242ä»¥æ­¤ç±»æŽ¨ï¼Œä½ çŽ°åœ¨èƒ½æ˜Žç™½æ•ˆæžœå›¾ä¸ºä»€ä¹ˆä¸€èˆ¬æ˜¯ 640 ï¼Œ750 ç”šè‡³æ˜¯ 1242 çš„åŽŸå› äº†ä¹ˆï¼Ÿï¼ˆçœŸæ²¡æœ‰æ­§è§†å®‰å“æœºçš„æ„æ€ã€‚ã€‚ã€‚ï¼‰2.é—®ï¼šå®½åº¦ç”¨remå†™çš„æƒ…å†µä¸‹ï¼Œ åœ¨ iphone6 ä¸Šæ²¡é—®é¢˜ï¼Œ åœ¨ iphone5ä¸Šä¼šæœ‰æ¨ªå‘æ»šåŠ¨æ¡ï¼Œä½•è§£ï¼Ÿç­”ï¼šå‡è®¾ä½ çš„æ•ˆæžœå›¾å®½åº¦æ˜¯750ï¼Œåœ¨è¿™ä¸ªæ•ˆæžœå›¾ä¸Šå¯èƒ½æœ‰ä¸€ä¸ªå®½åº¦ä¸º7remï¼ˆé«˜æ¸…æ–¹æ¡ˆé»˜è®¤ 1rem = 100pxï¼‰çš„å…ƒç´ ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œé«˜æ¸…æ–¹æ¡ˆçš„ç‰¹ç‚¹å°±æ˜¯å‡ ä¹Žå®Œç¾Žè¿˜åŽŸæ•ˆæžœå›¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å†™äº†ä¸€ä¸ªå®½åº¦ä¸º 7rem çš„å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨ç›®å‰ä¸»æµç§»åŠ¨è®¾å¤‡ä¸Šéƒ½æ˜¯7remã€‚ç„¶è€Œï¼Œiphone 5 çš„å®½åº¦ä¸º640ï¼Œä¹Ÿå°±æ˜¯6.4remã€‚äºŽæ˜¯æ¨ªå‘æ»šåŠ¨æ¡ä¸å¯é¿å…çš„å‡ºçŽ°äº†ã€‚æ€Žä¹ˆåŠžå‘¢ï¼Ÿ è¿™æ˜¯æˆ‘ç›®å‰æŽ¨èçš„æ¯”è¾ƒå®‰å…¨çš„æ–¹å¼ï¼šå¦‚æžœå…ƒç´ çš„å®½åº¦è¶…è¿‡æ•ˆæžœå›¾å®½åº¦çš„ä¸€åŠï¼ˆæ•ˆæžœå›¾å®½ä¸º640æˆ–750ï¼‰ï¼Œæžœæ–­ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦ï¼Œæˆ–è€…flexå¸ƒå±€ã€‚å°±åƒæŠŠç­‰å±å®½çš„å›¾ç‰‡å®½åº¦è®¾ä¸º100%ä¸€æ ·ã€‚3.é—®ï¼šä¸æ˜¯ 1rem = 100pxå—ï¼Œä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç å†™äº†ä¸€ä¸ªå®½åº¦ä¸º3remçš„å…ƒç´ ï¼Œåœ¨ç”µè„‘ç«¯çš„è°·æ­Œæµè§ˆå™¨ä¸Šå®½åº¦åªæœ‰150px?ç­”ï¼šå…ˆè¯´é«˜æ¸…æ–¹æ¡ˆä»£ç ï¼Œå†æ¬¡å¼ºè°ƒå’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆä»£ç æ˜¯æ ¹æ®è®¾å¤‡çš„dpråŠ¨æ€è®¾ç½®html çš„ font-sizeï¼Œå¦‚æžœdpr=1(å¦‚ç”µè„‘ç«¯ï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º50pxï¼Œæ­¤æ—¶ 1rem = 50pxå¦‚æžœdpr=2(å¦‚iphone 5 å’Œ 6ï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º100pxï¼Œæ­¤æ—¶ 1rem = 100pxå¦‚æžœdpr=3(å¦‚iphone 6 spï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º150pxï¼Œæ­¤æ—¶ 1rem = 150pxå¦‚æžœdprä¸ºå…¶ä»–å€¼ï¼Œå³ä¾¿ä¸æ˜¯æ•´æ•°ï¼Œå¦‚3.4 , ä¹Ÿæ˜¯ä¸€æ ·ç›´æŽ¥å°†dpr ä¹˜ä»¥ 50 ã€‚å†æ¥è¯´è¯´æ•ˆæžœå›¾ï¼Œä¸€èˆ¬æ¥è®²ï¼Œæˆ‘ä»¬çš„æ•ˆæžœå›¾å®½åº¦è¦ä¹ˆæ˜¯640ï¼Œè¦ä¹ˆæ˜¯750ï¼Œæ— è®ºå“ªä¸€ä¸ªï¼Œå®ƒä»¬å¯¹åº”è®¾å¤‡çš„dpr=2ï¼Œæ­¤æ—¶ï¼Œ1 rem = 50 Ã— 2 = 100pxã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆé«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem = 100pxã€‚è€Œå°†1remé»˜è®¤100pxä¹Ÿæ˜¯å¥½å¤„å¤šå¤šï¼Œå¯ä»¥å¸®ä½ å¿«é€Ÿæ¢ç®—å•ä½ï¼Œæ¯”å¦‚åœ¨750å®½åº¦ä¸‹çš„æ•ˆæžœå›¾ï¼ŒæŸå…ƒç´ å®½åº¦ä¸º53pxï¼Œé‚£ä¹ˆcsså®½åº¦ç›´æŽ¥è®¾ä¸º53/100=0.53remäº†ã€‚ç„¶è€Œæžå°‘æƒ…å†µä¸‹ï¼Œæœ‰è®¾è®¡å¸ˆå°†æ•ˆæžœå›¾å®½å®šä¸º1242pxï¼Œå› ä¸ºä»–æ‰‹é‡Œåªæœ‰ä¸€ä¸ªiphone 6 sp (dpr = 3)ï¼Œè®¾è®¡å®Œæ•ˆæžœå›¾åˆšå¥½å¯ä»¥åœ¨ä»–çš„iphone 6 spé‡ŒæŸ¥çœ‹è°ƒæ•´ã€‚ä¸€åˆ‡å®Œæ¯•ä¹‹åŽï¼Œä»–å°†è¿™ä¸ªæ•ˆæžœå›¾äº¤ç»™ä½ æ¥åˆ‡å›¾ã€‚ç”±äºŽè¿™ä¸ªæ•ˆæžœå›¾å¯¹åº”è®¾å¤‡çš„dpr=3ï¼Œä¹Ÿå°±æ˜¯1rem = 50 Ã— 3 = 150pxã€‚æ‰€ä»¥å¦‚æžœä½ é‡å–äº†ä¸€ä¸ªå®½åº¦ä¸º90pxçš„å…ƒç´ ï¼Œå®ƒçš„csså®½åº¦åº”è¯¥ä¸º 90/150=0.6remã€‚ç”±äºŽå’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem=100pxï¼Œä¸ºäº†è¿˜åŽŸæ•ˆæžœå›¾ï¼Œä½ éœ€è¦è¿™æ ·æ¢ç®—ã€‚å½“ç„¶ï¼Œä¸€ä¸ªæŠ€å·§å°±æ˜¯ä½ å¯ä»¥ç›´æŽ¥ä¿®æ”¹å’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆçš„é»˜è®¤è®¾ç½®ã€‚åœ¨ä»£ç çš„æœ€åŽ ä½ ä¼šçœ‹åˆ° flex(100, 1) ï¼Œå°†å…¶ä¿®æ”¹æˆflex(66.66667, 1)ï¼ˆæ„Ÿè°¢ç®€å‹ï¼šVæ—…è¡ŒæŒ‡å‡ºæ­¤å¤„é”™è¯¯ï¼ 2017/3/24ï¼‰å°±ä¸ç”¨é‚£ä¹ˆéº»çƒ¦çš„æ¢ç®—äº†ï¼Œæ­¤æ—¶é‚£ä¸ª90pxçš„ç›´æŽ¥å†™æˆ0.9remå°±å¯ä»¥äº†ã€‚4.é—®ï¼šé«˜æ¸…æ–¹æ¡ˆåœ¨å¾®ä¿¡ä¸Šï¼Œæœ‰æ—¶å€™å­—ä½“ä¼šä¸å—æŽ§åˆ¶å˜çš„å¾ˆå¤§ï¼Œæ€Žä¹ˆåŠžï¼Ÿç­”ï¼šç‚¹æˆ‘ï¼Œè¿™æ˜¯æˆ‘å¯¹è¯¥é—®é¢˜çš„æ€»ç»“5.é—®ï¼šæˆ‘åœ¨åº•éƒ¨å¯¼èˆªç”¨çš„flexæ„Ÿè§‰æ›´åˆé€‚ä¸€äº›ï¼Œè¯·é—®è¿™æ ·å­æ··ç€ç”¨å¯ä»¥å—ï¼Ÿç­”ï¼šå’±ä»¬çš„remé€‚åˆå†™å›ºå®šå°ºå¯¸ã€‚å…¶ä½™çš„æ ¹æ®éœ€è¦æ¢æˆflexæˆ–è€…ç™¾åˆ†æ¯”ã€‚æºç ç¤ºä¾‹ä¸­å°±æœ‰è¿™ä¸‰ç§çš„ç»¼åˆè¿ç”¨ã€‚6.é—®ï¼šåœ¨é«˜æ¸…æ–¹æ¡ˆä¸‹ï¼Œä¸€ä¸ªæ ‡å‡†çš„ï¼Œè¾ƒä¸ºç†æƒ³çš„å®½åº¦ä¸º640çš„é¡µé¢æ•ˆæžœå›¾åº”è¯¥æ˜¯æ€Žæ ·çš„ï¼Ÿ7.è¿™ä¸ªä¼šå’Œbootstrapå†²çªã€‚è§£å†³åŠžæ³•ï¼š1ï¼Œå°†bootstrap ä¸­ï¼Œå‡¡æ˜¯ç”¨åˆ°pxçš„å•ä½ä¸€å¾‹æ¢æˆrem2ï¼Œå¦‚æžœä½ æœ‰ä½¿ç”¨webpackï¼Œå»ºè®®ä½¿ç”¨å°†cssè½¬æˆremçš„åŒ…ï¼ˆpostcss-pxtoremï¼‰å°†è‡ªåŠ¨å®Œæˆç¬¬ä¸€æ­¥çš„æ“ä½œã€‚8.@2xå’Œ@3xçš„å›¾ç‰‡è¿˜è¦åˆ¤æ–­ä¸åŒçš„dprä¸‹ç”¨ä¸åŒçš„å›¾ç‰‡ã€‚Normalize.css æ˜¯ä¸€ä¸ªå¯ä»¥å®šåˆ¶çš„CSSæ–‡ä»¶ï¼Œå®ƒè®©ä¸åŒçš„æµè§ˆå™¨åœ¨æ¸²æŸ“ç½‘é¡µå…ƒç´ çš„æ—¶å€™å½¢å¼æ›´ç»Ÿä¸€ã€‚Normalize.css èƒ½å¹²ä»€ä¹ˆï¼šä¿ç•™æœ‰ç”¨çš„é»˜è®¤å€¼ï¼Œä¸åŒäºŽè®¸å¤š CSS çš„é‡ç½®æ ‡å‡†åŒ–çš„æ ·å¼ï¼Œé€‚ç”¨èŒƒå›´å¹¿çš„å…ƒç´ ã€‚çº æ­£é”™è¯¯å’Œå¸¸è§çš„æµè§ˆå™¨çš„ä¸ä¸€è‡´æ€§ã€‚ä¸€äº›ç»†å¾®çš„æ”¹è¿›ï¼Œæé«˜äº†æ˜“ç”¨æ€§ã€‚ä½¿ç”¨è¯¦ç»†çš„æ³¨é‡Šæ¥è§£é‡Šä»£ç ã€‚æ”¯æŒçš„æµè§ˆå™¨ï¼šGoogle Chrome (latest)Mozilla Firefox (latest)Mozilla Firefox ESROpera (latest)Apple Safari 6+Internet Explorer 8+ å¼•ç”¨äºŽhttps://www.jianshu.com/p/07669cb3e7c5]]></content>
      <categories>
        <category>ç§»åŠ¨ç«¯</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React NativeåŠ¨ç”»]]></title>
    <url>%2F2019%2F01%2F15%2Frn_04%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘é¡¹ç›®è¦åšå°æ¸¸æˆï¼Œå°æ¸¸æˆå½“ç„¶å°±å°‘ä¸äº†åŠ¨ç”»äº†ï¼Œä¸€å¼€å§‹æ‰“ç®—ç”¨h5åšï¼Œä½†æ˜¯è€ƒè™‘åˆ°å†…åµŒh5å‘å¯èƒ½æœ‰ç‚¹å¤šï¼Œæ‰€ä»¥æœ€åŽè¿˜æ˜¯é€‰æ‹©react nativeçš„åŠ¨ç”»ï¼ˆé¡¹ç›®æœ¬èº«å°±æ˜¯react nativeå†™çš„ï¼Œä¹‹åŽç”¨rnä»£è¡¨react naitveï¼‰ 1ã€requestAnimationFrame12345678910111213141516171819202122232425262728293031323334353637383940414243444546export default class demo1 Component &#123; constructor(props) &#123; super(props); this.state = &#123; width: 100, height: 100 &#125;; &#125; startAnimation() &#123; let count = 0; let &#123; width, height &#125; = this.state; requestAnimationFrame(() =&gt; &#123; this.setState(&#123; widthL: width + 1, height: height + 1 &#125;) &#125;) &#125; render() &#123; let &#123; width, height &#125; = this.state; return( &lt;View style = &#123; styles.container &#125;&gt; &lt;Image source = &#123;require(./icon.jpg)&#125; style = &#123;&#123; width: width, height: height &#125;&#125; /&gt; &lt;TouchableOpacity style = &#123; styles.instructions &#125; onPress = &#123;()=&gt;this.startAnimation()&#125; &gt; &lt;Text style = &#123;&#123; alignSelf: &apos;center&apos;, color: &apos;#fff&apos; &#125;&#125;&gt; click me! &lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ) &#125;&#125; è¿™ä¸ªæ–¹å¼å®žçŽ°çš„åŠ¨ç”»æœ‰å‡ ä¸ªé—®é¢˜ï¼š å®žçŽ°æ–¹å¼æ˜¯é€šè¿‡ä¸æ–­é”€æ¯ã€åˆ›å»ºè§†å›¾æ¥å®Œæˆï¼Œä¸€æ–¹é¢å¦‚æžœä½ çš„è§†å›¾çš„æ•°æ®æ˜¯åŠ¨æ€èŽ·å–çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä»¥åˆé€‚çš„æ–¹å¼æ¢å¤æ•°æ®ï¼›å¦ä¸€æ–¹é¢ï¼Œè¿™ç§æ–¹å¼å¿…ç„¶é€ æˆæ€§èƒ½å’Œå†…å­˜å¼€é”€çš„é—®é¢˜ã€‚ å¦‚æžœéœ€è¦åˆ·æ–°çš„Viewçš„å±‚çº§æ¯”è¾ƒæ·±ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼ä¼šå¸¦æ¥ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ requestAnimationFrameæ¯•ç«Ÿæ˜¯webä¸Šcssçš„ç”¨æ³•ï¼Œåœ¨æ‰‹æœºä¸Šï¼ŒåŠ¨ç”»çš„æ•ˆæžœæ¯”è¾ƒç”Ÿç¡¬ï¼Œå¦‚æžœéœ€è¦â€˜å¼¹æ€§åŠ¨ç”»â€™ï¼Œâ€˜æ·¡å…¥æ·¡å‡ºâ€™ç­‰æ•ˆæžœï¼Œåˆ™æ˜¯æ¯”è¾ƒéš¾ä»¥å®žçŽ°çš„ï¼ˆéœ€è¦è¾…åŠ©å„ç§å‡½æ•°ï¼‰ã€‚ 2ã€setNativeProps å¦‚æžœæ‰§æ„ä½¿ç”¨ä¿®æ”¹stateçš„æ–¹å¼ï¼Œè§‰å¾—è¿™ç§æ–¹å¼æ›´ç¬¦åˆå½“å‰éœ€æ±‚å¯¹åŠ¨ç”»çš„æŽ§åˆ¶ï¼Œé‚£ä¹ˆåˆ™åº”å½“ä½¿ç”¨åŽŸç”Ÿç»„ä»¶çš„setNativePropsæ–¹æ³•æ¥åšå¯¹åº”å®žçŽ°ï¼Œå®ƒä¼šç›´æŽ¥ä¿®æ”¹ç»„ä»¶åº•å±‚ç‰¹æ€§ï¼Œä¼šé‡ç»˜ç»„ä»¶ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿè¿œèƒœåŠ¨æ€ä¿®æ”¹ç»„ä»¶å†…è”styleçš„æ–¹æ³•ã€‚æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸‹startAnimationæ–¹æ³•ï¼š 12345678910111213startAnimation() &#123; var count = 0; while (++count &lt; 50) &#123; requestAnimationFrame(() = &gt;&#123; this.refs.image.setNativeProps(&#123; style: &#123; width: this.state.width++, height: this.state.height++ &#125; &#125;); &#125;); &#125;&#125; å…¶ä¸­this.refs.imageæŒ‡å‘çš„æ˜¯imageè§†å›¾ï¼Œæ•ˆæžœæ¯”ä¸Šé¢çš„å¥½å¤šäº†ã€‚ ä¼˜ç‚¹ï¼šsetNativePropsç›´æŽ¥ä¿®æ”¹ç»„ä»¶åº•å±‚ç‰¹æ€§ï¼Œä¸ä¼šé‡ç»˜ç»„ä»¶ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿè¿œèƒœåŠ¨æ€ä¿®æ”¹ç»„ä»¶å†…è”styleçš„æ–¹æ³•ã€‚ ç¼ºç‚¹ï¼š setNativePropså±žäºŽåŽŸç”Ÿè§†å›¾çš„æ–¹æ³•ï¼Œå¦‚æžœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŠ¨ç”»ï¼Œå•çº¯åªæ˜¯ä¸ºäº†è·Ÿè¸ªå®ƒçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸åˆæ—¶å®œã€‚ è¿˜æ˜¯å’Œä¸Šé¢ä¸€ç§æ–¹å¼ä¸€æ ·ï¼Œå¦‚æžœéœ€è¦å®žçŽ°â€˜å¼¹æ€§åŠ¨ç”»â€™ï¼Œâ€˜æ·¡å…¥æ·¡å‡ºâ€™ç­‰æ•ˆæžœï¼Œåˆ™è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚ 3ã€LayoutAnimationå½“å¸ƒå±€å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨å°†è§†å›¾è¿åŠ¨åˆ°å®ƒä»¬æ–°çš„ä½ç½®ä¸Šã€‚ä¸€ä¸ªå¸¸ç”¨çš„è°ƒç”¨æ­¤APIçš„åŠžæ³•æ˜¯è°ƒç”¨LayoutAnimation.configureNext(config)ï¼Œç„¶åŽè°ƒç”¨setStateã€‚å…¶ä¸­confå‚æ•°æ ¼å¼å‚è€ƒï¼š 1234567891011&#123; duration: 700, //æŒç»­æ—¶é—´ create: &#123; //è‹¥æ˜¯æ–°å¸ƒå±€çš„åŠ¨ç”»ç±»åž‹ type: &apos;linear&apos;, //çº¿æ€§æ¨¡å¼ property: &apos;opacity&apos; //åŠ¨ç”»å±žæ€§ï¼Œé™¤äº†opacityè¿˜æœ‰ä¸€ä¸ªscaleXYå¯ä»¥é…ç½® &#125;, update: &#123; //è‹¥æ˜¯å¸ƒå±€æ›´æ–°çš„åŠ¨ç”»ç±»åž‹ type: &apos;spring&apos;, //å¼¹è·³æ¨¡å¼ springDamping: 0.4 //å¼¹è·³é˜»å°¼ç³»æ•° &#125;&#125; å…¶ä¸­åŠ¨ç”»typeçš„ç±»åž‹å¯æžšä¸¾ä¸ºï¼š 123456spring //å¼¹è·³linear //çº¿æ€§easeInEaseOut //ç¼“å…¥ç¼“å‡ºeaseIn //ç¼“å…¥easeOut //ç¼“å‡ºkeyboard // é”®å…¥ è¦æ³¨æ„çš„æ—¶ï¼Œå®‰å“å¹³å°ä½¿ç”¨LayoutAnimationåŠ¨ç”»å¿…é¡»åŠ ä¸Šè¿™ä¹ˆä¸€å¥ä»£ç (å¦åˆ™åŠ¨ç”»ä¼šå¤±æ•ˆ): 1UIManager.setLayoutAnimationEnabledExperimental &amp;&amp; UIManager.setLayoutAnimationEnabledExperimental(true); äºŽæ˜¯æˆ‘ä»¬ä¸€å¼€å§‹çš„åŠ¨ç”»å°±å¯ä»¥è¿™ä¹ˆæ¥å†™ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647export default class demo2 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; w: 200, h: 20 &#125;; &#125; _onPress() &#123; LayoutAnimation.configureNext(&#123; duration: 700, create: &#123; type: &apos;linear&apos;, property: &apos;opacity&apos; &#125;, update: &#123; type: &apos;spring&apos;, springDamping: 0.4 &#125; &#125;); this.setState(&#123; w: this.state.w + 30, h: this.state.h + 30 &#125;) &#125; render() &#123; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/View&gt; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ) &#125; &#125; è¿™æ ·åŠ¨ç”»çµæ´»å’Œæµç•…å¤šäº†ï¼Œæˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„ä»…ä»…æ˜¯å±€éƒ¨æ›´æ–°çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ–°å¸ƒå±€è¢«åˆ›å»ºï¼ˆæœ‰æ–°ç»„å»ºåŠ å…¥åˆ°è§†å›¾ä¸Šï¼‰çš„æƒ…å†µå¦‚ä½•ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253export default class demo3 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; showNewOne: false, w: 200, h: 20 &#125;; &#125; _onPress() &#123; LayoutAnimation.configureNext(&#123; duration: 1200, create: &#123; type: &apos;linear&apos;, property: &apos;opacity&apos; //æ³¨æ„è¿™é‡Œï¼Œæˆ‘ä»¬è®¾ç½®æ–°å¸ƒå±€è¢«åˆ›å»ºæ—¶çš„åŠ¨ç”»ç‰¹æ€§ä¸ºé€æ˜Žåº¦ &#125;, update: &#123; type: &apos;spring&apos;, springDamping: 0.4 &#125; &#125;); this.setState(&#123;w: this.state.w + 30, h: this.state.h + 30, showNewOne : true&#125;) &#125; render() &#123; let &#123; showNewOne &#125; = this.state; let newOne = showNewOne ? ( &lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;new one&lt;/Text&gt; &lt;/View&gt; ) : null; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/View&gt; &#123;newOne&#125; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ) &#125;&#125; 4ã€Animatedé€šè¿‡Animatedæˆ‘ä»¬å¯ä»¥åœ¨ç¡®ä¿æ€§èƒ½è‰¯å¥½çš„å‰æä¸‹åˆ›é€ æ›´ä¸ºçµæ´»ä¸°å¯Œä¸”æ˜“ç»´æŠ¤çš„åŠ¨ç”»ã€‚ä¸åŒäºŽä¸Šè¿°çš„åŠ¨ç”»å®žçŽ°æ–¹å¼ï¼Œæˆ‘ä»¬å¾—åœ¨ Animated.Viewã€Animated.Text æˆ– Animated.Image åŠ¨ç”»ç»„ä»¶ä¸Šè¿ç”¨ Animate æ¨¡å—çš„åŠ¨ç”»èƒ½åŠ›(å¦‚æžœæœ‰åœ¨å…¶ä»–ç»„ä»¶ä¸Šçš„éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨Animated.createAnimatedComponentæ–¹æ³•æ¥å¯¹å…¶å®ƒç±»åž‹çš„ç»„ä»¶åˆ›å»ºåŠ¨ç”»)ä¸‹é¢æ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778import React, &#123; Component &#125; from &apos;react&apos;;import &#123; AppRegistry, StyleSheet, Text, View, Easing, Animated, TouchableOpacity,&#125; from &apos;react-native&apos;const _animateHandler;export default class demo4 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; opacityAnmValue: new Animated.Value(0) &#125;; &#125; componentDidMount() &#123; _animateHandler = Animated.timing( this.state.opacityAnmValue, &#123; toValue: 1, //é€æ˜Žåº¦åŠ¨ç”»æœ€ç»ˆå€¼ duration: 3000, easing: Easing.bezier(0.15,0.73,0.37,1.2) //ç¼“å†²å‡½æ•° &#125; ) &#125; _onPress() &#123; _animateHandler.start &amp;&amp; _animateHandler.start() &#125; render() &#123; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/Animated.View&gt; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity &gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;&#125;const styles = StyleSheet.create(&#123; container: &#123; flex: 1, justifyContent: &apos;center&apos;, alignItems: &apos;center&apos; &#125;, content: &#123; justifyContent: &apos;center&apos;, backgroundColor: &apos;yellow&apos;, &#125;, button: &#123; marginTop: 10, paddingVertical: 10, paddingHorizontal: 20, backgroundColor: &apos;black&apos; &#125;, buttonText: &#123; color: &apos;white&apos;, fontSize: 16, fontWeight: &apos;bold&apos;, &#125;&#125;) ç‚¹å‡»æŒ‰é’®åŽ,Animated.Viewä¼šä»¥bezieræ›²çº¿å½¢å¼æ‰§è¡Œæ—¶é•¿3ç§’çš„é€æ˜Žåº¦åŠ¨ç”»(ç”±0åˆ°1): 1ã€ä»¥ new Animated.Value(0) å®žä¾‹åŒ–åŠ¨ç”»çš„åˆå§‹å€¼ç»™stateï¼š 1234this.state = &#123; //è®¾ç½®é€æ˜Žåº¦åŠ¨ç”»åˆå§‹å€¼ opacityAnmValue: new Animated.Value(0)&#125; 2ã€é€šè¿‡ Animated.timing æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŠ¨ç”»äº‹ä»¶ï¼Œåœ¨åŽç»­å¯ä»¥ä»¥ .start() æˆ– .stop() æ–¹æ³•æ¥å¼€å§‹/åœæ­¢è¯¥åŠ¨ç”»ï¼š 1234567componentDidMount() &#123; _animateHandler = Animated.timing(this.state.opacityAnmValue, &#123; toValue: 1, //é€æ˜Žåº¦åŠ¨ç”»æœ€ç»ˆå€¼ duration: 3000, //åŠ¨ç”»æ—¶é•¿3000æ¯«ç§’ easing: Easing.bezier(0.15, 0.73, 0.37, 1.2) &#125;)&#125; æˆ‘ä»¬åœ¨ç‚¹å‡»äº‹ä»¶ä¸­è§¦å‘äº†åŠ¨ç”»çš„.startæ–¹æ³•è®©å®ƒè·‘èµ·æ¥: 123_onPress() &#123; _animateHandler.start &amp;&amp; _animateHandler.start()&#125; start æ–¹æ³•æŽ¥å—ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œä¼šåœ¨åŠ¨ç”»ç»“æŸæ—¶è§¦å‘ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå‚æ•° {finished: true/false}ï¼Œè‹¥åŠ¨ç”»æ˜¯æ­£å¸¸ç»“æŸçš„ï¼Œfinished å­—æ®µå€¼ä¸ºtrueï¼Œè‹¥åŠ¨ç”»æ˜¯å› ä¸ºè¢«è°ƒç”¨ .stop() æ–¹æ³•è€Œæå‰ç»“æŸçš„ï¼Œåˆ™ finished å­—æ®µå€¼ä¸ºfalseã€‚ 3ã€åŠ¨ç”»çš„ç»‘å®šæ˜¯åœ¨ ä¸Šçš„ï¼Œæˆ‘ä»¬æŠŠå®žä¾‹åŒ–çš„åŠ¨ç”»åˆå§‹å€¼ä¼ å…¥ style ä¸­ï¼š 123&lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt;&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;&lt;/Animated.View&gt; ç„¶åŽã€‚ã€‚ã€‚å°±æ²¡æœ‰ç„¶åŽäº†ï¼Œå¾ˆç®€å•å§ã€‚ è¿™é‡Œéœ€è¦è®²ä¸€ä¸‹çš„åº”è¯¥æ˜¯å®šä¹‰åŠ¨ç”»äº‹ä»¶çš„Animated.timing(animateValue, conf) æ–¹æ³•ï¼Œå…¶ä¸­è®¾ç½®å‚æ•°æ ¼å¼ä¸ºï¼š 12345&#123; duration: åŠ¨ç”»æŒç»­çš„æ—¶é—´ï¼ˆå•ä½æ˜¯æ¯«ç§’ï¼‰ï¼Œé»˜è®¤ä¸º500ã€‚ easingï¼šä¸€ä¸ªç”¨äºŽå®šä¹‰æ›²çº¿çš„æ¸å˜å‡½æ•°ã€‚é˜…è¯»Easingæ¨¡å—å¯ä»¥æ‰¾åˆ°è®¸å¤šé¢„å®šä¹‰çš„å‡½æ•°ã€‚iOSé»˜è®¤ä¸ºEasing.inOut(Easing.ease)ã€‚ delay: åœ¨ä¸€æ®µæ—¶é—´ä¹‹åŽå¼€å§‹åŠ¨ç”»ï¼ˆå•ä½æ˜¯æ¯«ç§’ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚&#125; è¿™é‡ŒæåŠçš„ Easing åŠ¨ç”»å‡½æ•°æ¨¡å—åœ¨ react-native/Libraries/Animated/src/ ç›®å½•ä¸‹ï¼Œè¯¥æ¨¡å—é¢„ç½®äº† linearã€easeã€elasticã€bezier ç­‰è¯¸å¤šç¼“åŠ¨ç‰¹æ€§ï¼Œæœ‰å…´è¶£å¯ä»¥åŽ»äº†è§£ã€‚ å¦å¤–é™¤äº† Animated.timingï¼ŒAnimated è¿˜æä¾›äº†å¦å¤–ä¸¤ä¸ªåŠ¨ç”»äº‹ä»¶åˆ›å»ºæŽ¥å£ï¼š 1ã€Animated.spring(animateValue, conf) â€”â€” åŸºç¡€çš„å•æ¬¡å¼¹è·³ç‰©ç†æ¨¡åž‹ï¼Œæ”¯æŒorigamiæ ‡å‡†ï¼Œconfå‚è€ƒï¼š 1234&#123; friction: æŽ§åˆ¶â€œå¼¹è·³ç³»æ•°â€ã€å¤¸å¼ ç³»æ•°ï¼Œé»˜è®¤ä¸º7ã€‚ tension: æŽ§åˆ¶é€Ÿåº¦ï¼Œé»˜è®¤40ã€‚&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import React, &#123; Component &#125; from &apos;react&apos;;import &#123; AppRegistry, StyleSheet, Text, View, Easing, Animated, TouchableOpacity,&#125; from &apos;react-native&apos;let _animateHandler;export default class demo5 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; bounceValue : new Animated.Value(0) //è®¾ç½®ç¼©æ”¾åŠ¨ç”»åˆå§‹å€¼ &#125;; &#125; componentDidMount() &#123; this.state.bounceValue.setValue(1.5); // è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„åˆå§‹å€¼ _animateHandler = Animated.spring(this.state.bounceValue, &#123; toValue: 1, friction: 8, tension: 35 &#125;) &#125; _onPress() &#123; _animateHandler.start &amp;&amp; _animateHandler.start() &#125; _reload() &#123; AppRegistry.reload() &#125; render() &#123; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, transform: [&#123;scale: this.state.bounceValue&#125;]&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/Animated.View&gt; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity onPress=&#123;this._reload&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;&#125;const styles = StyleSheet.create(&#123; container: &#123; flex: 1, justifyContent: &apos;center&apos;, alignItems: &apos;center&apos; &#125;, content: &#123; justifyContent: &apos;center&apos;, backgroundColor: &apos;yellow&apos;, &#125;, button: &#123; marginTop: 10, paddingVertical: 10, paddingHorizontal: 20, backgroundColor: &apos;black&apos; &#125;, buttonText: &#123; color: &apos;white&apos;, fontSize: 16, fontWeight: &apos;bold&apos;, &#125;&#125;) ç•™æ„è¿™é‡Œæˆ‘ä»¬ç”¨äº† animateValue.setValue(1.5) æ–¹æ³•æ¥ä¿®æ”¹åŠ¨ç”»å±žæ€§å€¼ã€‚ 2ã€Animated.decay(animateValue, conf) â€”â€” ä»¥ä¸€ä¸ªåˆå§‹é€Ÿåº¦å¼€å§‹å¹¶ä¸”é€æ¸å‡æ…¢åœæ­¢ï¼Œconfå‚è€ƒï¼š 1234&#123; velocity: èµ·å§‹é€Ÿåº¦ï¼Œå¿…å¡«å‚æ•°ã€‚ deceleration: é€Ÿåº¦è¡°å‡æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0.997ã€‚&#125; å‚è€ƒä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940let _animateHandler;export default class demo6 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; bounceValue : new Animated.Value(0.1) &#125;; &#125; componentDidMount() &#123; _animateHandler = Animated.decay(this.state.bounceValue, &#123; toValue: 0.2, velocity: 0.1 &#125;) &#125; _onPress() &#123; _animateHandler.start &amp;&amp; _animateHandler.start() &#125; render() &#123; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 30, transform: [&#123;scale: this.state.bounceValue&#125;]&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/Animated.View&gt; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;&#125; å¯¹äºŽæœ€åŽä»‹ç»çš„ä¸¤ä¸ªåŠ¨ç”»æ•ˆæžœï¼Œå¯èƒ½å¾—ç†Ÿæ‚‰ä¸€äº›ç‰©ç†ã€æ•°å­¦æ¨¡åž‹æ‰èƒ½æ›´å¥½åœ°æ¥åšæŽ§åˆ¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå’±ä»¬ç›´æŽ¥ä½¿ç”¨ Animated.timing å°±è¶³å¤Ÿæ»¡è¶³éœ€æ±‚äº†ã€‚ ç›‘å¬åŠ¨ç”»1ã€æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨åŠ¨ç”»çš„è¿‡ç¨‹ä¸­ç›‘å¬åˆ°æŸåŠ¨ç”»æ—¶åˆ»çš„å±žæ€§å€¼ï¼Œå¯ä»¥é€šè¿‡animateValue.stopAnimation(callback) æˆ– animateValue.addListener(callback) æ¥å®žçŽ°å…¶ä¸­stopAnimationä¼šåœæ­¢å½“å‰åŠ¨ç”»å¹¶åœ¨å›žè°ƒå‡½æ•°ä¸­è¿”å›žä¸€ä¸ª{value : number}å¯¹è±¡ï¼Œvalueå¯¹åº”æœ€åŽä¸€åˆ»çš„åŠ¨ç”»å±žæ€§å€¼ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556const _animateHandler, _isFirsPress = 0;export default class demo7 extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; opacityAnmValue : new Animated.Value(0) //è®¾ç½®é€æ˜Žåº¦åŠ¨ç”»åˆå§‹å€¼ &#125;; &#125; componentDidMount() &#123; _animateHandler = Animated.timing( this.state.opacityAnmValue, &#123; toValue: 1, duration: 6000, easing: Easing.linear &#125; ) &#125; _onPress() &#123; if(_isFirstPress === 0) &#123; _animateHandler.start &amp;&amp; _animateHandler.start(); _isFirsPress = 1 &#125; else &#123; this.state.opacityAnmValue.stopAnimation(value =&gt; &#123; Alert.alert( &quot;åŠ¨ç”»ç»“æŸï¼Œæœ€ç»ˆå€¼&quot;, JSON.stringify(value), [ &#123;text: &apos;OK&apos;, onPress: () =&gt; &#123;&#125;&#125; ] ) &#125;) &#125; &#125; render() &#123; return( &lt;View style=&#123;styles.container&#125;&gt; &lt;Animated.View style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/Animated.View&gt; &lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity &gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;&#125; è€ŒaddListeneræ–¹æ³•ä¼šåœ¨åŠ¨ç”»çš„æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨callbackå›žè°ƒå‡½æ•°ï¼Œæä¾›ä¸€ä¸ªæœ€è¿‘çš„å€¼ä½œä¸ºå‚æ•°ã€‚ 2ã€æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨æŸä¸ªäº¤äº’äº‹ä»¶ï¼ˆç‰¹åˆ«æ˜¯æ‰‹åŠ¿ï¼‰ä¸­æ›´çµæ´»åœ°æ•èŽ·æŸä¸ªäº‹ä»¶å¯¹è±¡å±žæ€§å€¼ï¼Œå¹¶åŠ¨æ€èµ‹äºˆæŸä¸ªå˜é‡ï¼Œå¯¹äºŽè¿™ç§éœ€æ±‚å¯ä»¥é€šè¿‡ Animated.event æ¥å®žçŽ°ã€‚ å®ƒæŽ¥å—ä¸€ä¸ªæ•°ç»„ä¸ºå‚æ•°ï¼Œæ•°ç»„ä¸­çš„å±‚æ¬¡å¯¹åº”ç»‘å®šäº‹ä»¶å‚æ•°çš„ç›¸åº”æ˜ å°„ï¼Œå¬ç€æœ‰ç‚¹ç»•ï¼Œçœ‹ä¾‹å­å°±å¾ˆå¥½ç†è§£äº†ï¼š 12345678910111213var scrollX = 0, pan = &#123; x: 0, y: 0 &#125;;//...onScroll : Animated.event( [&#123;nativeEvent: &#123;contentOffset: &#123;x: scrollX&#125;&#125;&#125;] // scrollX = e.nativeEvent.contentOffset.x)onPanResponderMove : Animated.event([ null, // å¿½ç•¥åŽŸç”Ÿäº‹ä»¶ &#123;dx: pan.x, dy: pan.y&#125; // ä»ŽgestureStateä¸­è§£æžå‡ºdxå’Œdyçš„å€¼]); onScrollæ˜¯ç»‘å®šç»™æŸä¸ªç»„ä»¶çš„æ»šåŠ¨äº‹ä»¶ï¼Œè€ŒonPanResponderMoveæ˜¯ PanResponder æ¨¡å—ä¸‹çš„å“åº”äº‹ä»¶ã€‚ æ‹¿ä¸Šæ–¹onPanResponderMoveçš„ä¾‹å­æ¥è®²ï¼Œè¯¥äº‹ä»¶æ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•° e å’Œ gestureStateï¼Œå…¶ä¸­gestureStateçš„å±žæ€§æœ‰ï¼š 12345678910stateID - è§¦æ‘¸çŠ¶æ€çš„IDã€‚åœ¨å±å¹•ä¸Šæœ‰è‡³å°‘ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªIDä¼šä¸€ç›´æœ‰æ•ˆã€‚moveX - æœ€è¿‘ä¸€æ¬¡ç§»åŠ¨æ—¶çš„å±å¹•æ¨ªåæ ‡moveY - æœ€è¿‘ä¸€æ¬¡ç§»åŠ¨æ—¶çš„å±å¹•çºµåæ ‡x0 - å½“å“åº”å™¨äº§ç”Ÿæ—¶çš„å±å¹•åæ ‡y0 - å½“å“åº”å™¨äº§ç”Ÿæ—¶çš„å±å¹•åæ ‡dx - ä»Žè§¦æ‘¸æ“ä½œå¼€å§‹æ—¶çš„ç´¯è®¡æ¨ªå‘è·¯ç¨‹dy - ä»Žè§¦æ‘¸æ“ä½œå¼€å§‹æ—¶çš„ç´¯è®¡çºµå‘è·¯ç¨‹vx - å½“å‰çš„æ¨ªå‘ç§»åŠ¨é€Ÿåº¦vy - å½“å‰çš„çºµå‘ç§»åŠ¨é€Ÿåº¦numberActiveTouches - å½“å‰åœ¨å±å¹•ä¸Šçš„æœ‰æ•ˆè§¦æ‘¸ç‚¹çš„æ•°é‡ æ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950class AwesomeProject extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; transY : new Animated.Value(0) &#125;; this._panResponder = &#123;&#125; &#125;componentWillMountå¤„é¢„å…ˆåˆ›å»ºæ‰‹åŠ¿å“åº”å™¨ componentWillMount() &#123; this._panResponder = PanResponder.create(&#123; onStartShouldSetPanResponder: this._returnTrue.bind(this), onMoveShouldSetPanResponder: this._returnTrue.bind(this), //æ‰‹åŠ¿å¼€å§‹å¤„ç† //æ‰‹åŠ¿ç§»åŠ¨æ—¶çš„å¤„ç† onPanResponderMove: Animated.event([null, &#123; dy : this.state.transY &#125;]) &#125;); &#125; _returnTrue(e, gestureState) &#123; return true; &#125; render() &#123; return ( &lt;View style=&#123;styles.container&#125;&gt; &lt;Animated.View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h, transform: [&#123; translateY : this.state.transY &#125;] &#125;]&#125;&gt; &lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt; &lt;/Animated.View&gt; &lt;TouchableOpacity&gt; &lt;View style=&#123;styles.button&#125; &#123;...this._panResponder.panHandlers&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;control&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;TouchableOpacity&gt; &lt;View style=&#123;styles.button&#125;&gt; &lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æ­¤æŒ‰é’®&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;&#125;]]></content>
      <categories>
        <category>React Native</category>
      </categories>
  </entry>
</search>
