<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ–°çš„gitä»“åº“</title>
      <link href="/2020/06/05/git/"/>
      <url>/2020/06/05/git/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">touch README.md</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m â€œadd READMEâ€</span><br><span class="line">git push -u origin master</span><br><span class="line">git checkout -b develop</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å‘å¸ƒnpmåŒ…</title>
      <link href="/2020/04/23/npm_01/"/>
      <url>/2020/04/23/npm_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1ã€æ³¨å†Œè´¦å·</span><br><span class="line">    - è¿›å…¥ç½‘å€: https://www.npmjs.com æ³¨å†Œä¸€ä¸ªnpmè´¦å·ã€‚</span><br><span class="line">    - è¿›é‚®ç®±éªŒè¯npmè´¦å·(å¦åˆ™å‘å¸ƒä¼šæŠ¥é”™)</span><br><span class="line"></span><br><span class="line">2ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„npmåŒ…</span><br><span class="line">    2-1ã€åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼šå¦‚ï¼šachirsh-demoï¼ˆæ³¨æ„åå­—åº”è¯¥æ˜¯npm</span><br><span class="line">        ä¸Šæ²¡æœ‰çš„ï¼Œå¯ä»¥åœ¨npmä¸Šæœç´¢ä¸€ä¸‹çœ‹ä½ å‘½çš„åå­—æ˜¯å¦å­˜åœ¨ï¼‰</span><br><span class="line">    2-2ã€cdè¿›å…¥è¯¥æ–‡ä»¶å¤¹</span><br><span class="line">    2-3ã€åˆå§‹åŒ–é¡¹ç›®ï¼Œæ‰§è¡Œ npm init -y å¾—åˆ°package.jsonæ–‡ä»¶</span><br><span class="line">    2-4ã€åœ¨æ–‡ä»¶å¤¹jiang-modelä¸­åˆ›å»ºåä¸ºindex.jsçš„æ–‡ä»¶</span><br><span class="line">    2-5ã€åˆ›å»ºREADME.mdæ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//package.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;jiang-model&quot;,//å‘å¸ƒçš„åŒ…åï¼Œé»˜è®¤æ˜¯ä¸Šçº§æ–‡ä»¶å¤¹åã€‚ä¸å¾—ä¸ç°åœ¨npmä¸­çš„åŒ…åé‡å¤ã€‚åŒ…åä¸èƒ½æœ‰å¤§å†™å­—æ¯/ç©ºæ ¼/ä¸‹æ»‘çº¿!</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,//é»˜è®¤ç‰ˆæœ¬å·</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,//é¡¹ç›®ç®€ä»‹</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,//å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯Index.jsï¼Œå¯ä»¥ä¿®æ”¹æˆè‡ªå·±çš„æ–‡ä»¶ </span><br><span class="line">  &quot;scripts&quot;: &#123; //åŒ…å«å„ç§è„šæœ¬æ‰§è¡Œå‘½ä»¤</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [],</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,//ä½œè€…</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;//å¼€æºæ–‡ä»¶åè®®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">3ã€å‘å¸ƒåˆ°npm</span><br><span class="line">    3-1ã€åˆ‡æ¢ä¸‹è½½æº å®‰è£… npm install -g nrm</span><br><span class="line">        nrm ls //æŸ¥çœ‹å½“å‰çš„ä¸‹è½½æºï¼Œå¸¦*æŒ‡å‘çš„å°±æ˜¯å½“å‰çš„ä¸‹è½½æºï¼Œå¦‚æœä¸ºnpmåˆ™ä¸éœ€è¦åˆ‡æ¢</span><br><span class="line">        nrm use npm //åˆ‡æ¢åˆ°npmçš„ä¸‹è½½æº</span><br><span class="line">    3-2ã€è¿æ¥npmè´¦æˆ·</span><br><span class="line">        3-2-1ã€å¦‚æœæ˜¯æœ¬æœºç¬¬ä¸€æ¬¡å‘å¸ƒnpmåŒ…</span><br><span class="line">               åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤ï¼šnpm addUser æç¤ºè¾“å…¥è´¦å·ï¼Œå¯†ç å’Œé‚®ç®±ï¼Œç„¶åå°†æç¤ºåˆ›å»ºæˆåŠŸ</span><br><span class="line">        3-2-2ã€éç¬¬ä¸€æ¬¡å‘å¸ƒnpmåŒ…</span><br><span class="line">               åœ¨ç»ˆç«¯è¾“å…¥npm loginï¼Œç„¶åè¾“å…¥ä½ åˆ›å»ºçš„è´¦å·å’Œå¯†ç ï¼Œå’Œé‚®ç®±ï¼Œç™»é™†</span><br><span class="line">    3-3ã€å‘å¸ƒnpmåŒ…</span><br><span class="line">         npm publish</span><br><span class="line">    3-4ã€æ›´æ–°npmå‘å¸ƒåçš„åŒ…</span><br><span class="line">         æ›´æ–°npmåŒ…ä¹Ÿæ˜¯ä½¿ç”¨npm publishå‘½ä»¤å‘å¸ƒï¼Œä¸è¿‡å¿…é¡»æ›´æ”¹npmåŒ…çš„ç‰ˆæœ¬å·ï¼Œä¹Ÿå°±æ˜¯package.jsonä¸­çš„versionå­—æ®µï¼Œå¦åˆ™ä¼šæŠ¥é”™</span><br><span class="line">    3-5ã€æ’¤é”€å‘½ä»¤ ï¼ˆä¸€èˆ¬æ˜¯æ…é‡æ’¤é”€ï¼‰         </span><br><span class="line">         npm unpublish åŒ…å@ç‰ˆæœ¬å· --force</span><br><span class="line">         eg:npm unpublish testtoast@1.0.0 --force</span><br><span class="line">         è¯´æ˜ï¼šæ’¤é”€å‘å¸ƒçš„åŒ…è¢«è®¤ä¸ºæ˜¯ä¸€ç§ä¸å¥½çš„è¡Œä¸ºï¼Œå› ä¸ºå¦‚æœæœ‰å›¢é˜Ÿä½¿ç”¨å’Œä¾èµ–ä½ çš„åŒ…æ—¶ï¼Œæ’¤é”€ä¾¿ä¼šé€ æˆå¾ˆå¤§çš„å½±å“ã€‚</span><br><span class="line">         1.æ ¹æ®è§„èŒƒï¼Œåªæœ‰åœ¨å‘åŒ…çš„24å°æ—¶å†…æ‰å…è®¸æ’¤é”€å‘å¸ƒçš„åŒ…</span><br><span class="line">         2.å³ä½¿ä½ æ’¤é”€äº†å‘å¸ƒçš„åŒ…ï¼Œå‘åŒ…çš„æ—¶å€™ä¹Ÿä¸èƒ½å†å’Œè¢«æ’¤é”€çš„åŒ…çš„åç§°å’Œç‰ˆæœ¬é‡å¤äº†ï¼ˆå³ä¸èƒ½åç§°ç›¸åŒï¼Œç‰ˆæœ¬ç›¸åŒï¼Œå› ä¸ºè¿™ä¸¤è€…æ„æˆçš„å”¯ä¸€æ ‡è¯†å·²ç»è¢«â€œå ç”¨â€äº†ï¼‰</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½é‡åˆ°çš„é”™è¯¯</span><br><span class="line">1ã€éœ€è¦æé«˜ç‰ˆæœ¬å·</span><br><span class="line"></span><br><span class="line">#1ã€å‘åŒ… npm publish å¤±è´¥</span><br><span class="line">sh-neverleave:z-tool neverleave$ npm publish</span><br><span class="line">npm ERR! publish Failed PUT 400</span><br><span class="line">npm ERR! code E400</span><br><span class="line">npm ERR! deprecations must be strings : z-tool</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T10_52_01_742Z-debug.log</span><br><span class="line">sh-neverleave:z-tool neverleave$ npm publish</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#2ã€å‘åŒ… npm publish å¤±è´¥</span><br><span class="line">sh-neverleave:z-tool neverleave$ npm publish</span><br><span class="line">npm ERR! publish Failed PUT 403</span><br><span class="line">npm ERR! code E403</span><br><span class="line">npm ERR! You cannot publish over the previously published versions: 1.0.3. : z-tool</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T11_24_57_662Z-debug.log</span><br><span class="line">sh-neverleave:z-tool neverleave$ </span><br><span class="line">2ã€å‘åŒ… npm publish å¤±è´¥</span><br><span class="line">è§£å†³æ–¹æ¡ˆï¼šç»ˆç«¯æ‰§è¡Œï¼š npm publish --access public</span><br><span class="line"></span><br><span class="line">å‚è€ƒï¼šhttps://stackoverflow.com/questions/53420758/npm-publish-gives-unscoped-packages-cannot-be-private</span><br><span class="line"></span><br><span class="line">#1ã€å‘åŒ… npm publish å¤±è´¥</span><br><span class="line">sh-neverleave:npm neverleave$ npm publish</span><br><span class="line">npm ERR! publish Failed PUT 400</span><br><span class="line">npm ERR! code E400</span><br><span class="line">npm ERR! unscoped packages cannot be private : z-tool</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T08_44_21_310Z-debug.log</span><br><span class="line">sh-neverleave:npm neverleave$ </span><br><span class="line"></span><br><span class="line">#è§£å†³æ–¹æ¡ˆï¼šç»ˆç«¯æ‰§è¡Œï¼š npm publish --access public</span><br><span class="line">sh-neverleave:npm neverleave$ npm publish --access public</span><br><span class="line">+ z-tool@1.0.0</span><br><span class="line">sh-neverleave:npm neverleave$ </span><br><span class="line">3ã€ç¡®ä¿ç™»å½•çš„ç”¨æˆ·è´¦å·æ­£ç¡®</span><br><span class="line"></span><br><span class="line">sh-neverleave:npm neverleave$ npm publish</span><br><span class="line">npm ERR! publish Failed PUT 404</span><br><span class="line">npm ERR! code E404</span><br><span class="line">npm ERR! 404 User not found : z-tool</span><br><span class="line">npm ERR! 404 </span><br><span class="line">npm ERR! 404  &apos;z-tool&apos; is not in the npm registry.</span><br><span class="line">npm ERR! 404 You should bug the author to publish it (or use the name yourself!)</span><br><span class="line">npm ERR! 404 </span><br><span class="line">npm ERR! 404 Note that you can also install from a</span><br><span class="line">npm ERR! 404 tarball, folder, http url, or git url.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_32_28_518Z-debug.log</span><br><span class="line">4ã€ç™»å½•æ—¶éœ€è¦åœ¨username å‰åŠ â€˜~â€™ï¼Œå…·ä½“å¤§å®¶å¯ä»¥éªŒè¯</span><br><span class="line"></span><br><span class="line">sh-neverleave:npm neverleave$ npm login</span><br><span class="line">Username: (~neverleave) neverleave</span><br><span class="line">Password: (&lt;default hidden&gt;) </span><br><span class="line">Email: (this IS public) (1063588359@qq.com) </span><br><span class="line">npm ERR! code EAUTHIP</span><br><span class="line">npm ERR! Unable to authenticate, need: Basic</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_27_50_877Z-debug.log</span><br><span class="line">sh-neverleave:npm neverleave$ </span><br><span class="line">5ã€æ— æƒé™åˆ é™¤çº¿ä¸Šçš„åŒ…ï¼ˆæ’¤åŒ…æœ‰æ—¶é—´é™åˆ¶ï¼Œ24å°æ—¶ï¼‰</span><br><span class="line">è§£å†³æ–¹æ¡ˆï¼šåŠ ä¸Š --force</span><br><span class="line"></span><br><span class="line">sh-neverleave:z-tool neverleave$ npm unpublish z-tool</span><br><span class="line">npm ERR! Refusing to delete entire project.</span><br><span class="line">npm ERR! Run with --force to do this.</span><br><span class="line">npm ERR! npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span><br><span class="line">sh-neverleave:z-tool neverleave$ </span><br><span class="line"></span><br><span class="line">#è§£å†³æ–¹æ¡ˆï¼ˆå†…éƒ¨æœ‰è¢«é„™è§†çš„è¯ï¼ŒğŸ˜„ I sure hope you know what you are doing.ï¼‰</span><br><span class="line">sh-neverleave:z-tool neverleave$ npm unpublish z-tool --force</span><br><span class="line">npm WARN using --force I sure hope you know what you are doing.</span><br><span class="line">- z-tool</span><br><span class="line">sh-neverleave:z-tool neverleave$ </span><br><span class="line">6ã€åˆ é™¤npmå¸‚åœºçš„åŒ…åŒåçš„24å°æ—¶åæ‰èƒ½é‡æ–°å‘å¸ƒ</span><br><span class="line"></span><br><span class="line">sh-neverleave:z-tool neverleave$ npm publish</span><br><span class="line">npm ERR! publish Failed PUT 403</span><br><span class="line">npm ERR! code E403</span><br><span class="line">npm ERR! z-tool cannot be republished until 24 hours have passed. : z-tool</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T11_41_24_086Z-debug.log</span><br><span class="line">sh-neverleave:z-tool neverleave$</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> npm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>js æ­£åˆ™æ ¡éªŒ</title>
      <link href="/2020/03/17/js_03/"/>
      <url>/2020/03/17/js_03/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ä¸å…è®¸è¾“å…¥ç‰¹æ®Šå­—ç¬¦</span><br><span class="line">value.replace(/[^u4e00-u9fa5w]/g, &quot;&quot;)</span><br><span class="line">//åªå…è®¸è¾“å…¥æ­£æ•´æ•°</span><br><span class="line">value.replace(/^(0+)|[^\d]+/g, &quot;&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo å‘å¸ƒå‘½ä»¤</title>
      <link href="/2020/03/11/hexo_01/"/>
      <url>/2020/03/11/hexo_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hexo n &quot;æˆ‘çš„åšå®¢&quot; == hexo new &quot;æˆ‘çš„åšå®¢&quot; #æ–°å»ºæ–‡ç« </span><br><span class="line">hexo g == hexo generate#ç”Ÿæˆ</span><br><span class="line">hexo s == hexo server #å¯åŠ¨æœåŠ¡é¢„è§ˆ</span><br><span class="line">hexo d == hexo deploy#éƒ¨ç½²</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¯æ¬¡å‘å¸ƒæ—¶ï¼Œä½¿ç”¨ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>react ä¸Šä¼ å›¾ç‰‡è£å‰ª</title>
      <link href="/2020/03/11/react_03/"/>
      <url>/2020/03/11/react_03/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">import Cropper from &quot;react-cropper&quot;;</span><br><span class="line">import &quot;cropperjs/dist/cropper.css&quot;;</span><br><span class="line"></span><br><span class="line">public cropperModal() &#123;</span><br><span class="line">    return &lt;div className=&#123;styles[&quot;class-cropper-modal&quot;]&#125;&gt;</span><br><span class="line">        &lt;div className=&#123;styles[&quot;modal-panel&quot;]&#125;&gt;</span><br><span class="line">            &lt;div className=&#123;styles[&quot;cropper-container-container&quot;]&#125;&gt;</span><br><span class="line">                &lt;div className=&#123;styles[&quot;cropper-container&quot;]&#125;&gt;</span><br><span class="line">                    &lt;Cropper</span><br><span class="line">                        src=&#123;this.state.src&#125;</span><br><span class="line">                        className=&quot;cropper&quot;</span><br><span class="line">                        ref=&quot;cropper&quot;</span><br><span class="line">                        viewMode=&#123;1&#125;</span><br><span class="line">                        movable=&#123;false&#125;</span><br><span class="line">                        zoomable=&#123;false&#125;  // æ˜¯å¦å…è®¸æ”¾å¤§å›¾åƒ</span><br><span class="line">                        aspectRatio=&#123;1&#125; // å›ºå®šä¸º1:1  å¯ä»¥è‡ªå·±è®¾ç½®æ¯”ä¾‹, é»˜è®¤æƒ…å†µä¸ºè‡ªç”±æ¯”ä¾‹</span><br><span class="line">                        guides=&#123;true&#125;</span><br><span class="line">                        background=&#123;false&#125; // æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯çš„é©¬èµ›å…‹</span><br><span class="line">                        rotatable=&#123;false&#125; // æ˜¯å¦æ—‹è½¬</span><br><span class="line">                        preview=&quot;.cropper-preview&quot;</span><br><span class="line">                        cropBoxResizable=&#123;false&#125;</span><br><span class="line">                        style=&#123;&#123; height: &quot;100%&quot;, width: CLIENTWIDTH &#125;&#125;</span><br><span class="line">                    /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div className=&#123;styles[&quot;preview-container&quot;]&#125;&gt;</span><br><span class="line">                    &lt;div className=&#123;styles[&quot;cropper-preview&quot;]&#125; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div style=&#123;&#123;</span><br><span class="line">                    position: &quot;fixed&quot;, right: &quot;10px&quot;, top: &quot;10px&quot;,</span><br><span class="line">                    width: &quot;60px&quot;, height: &quot;30px&quot;, backgroundColor: &quot;rgb(255, 166, 54)&quot;,</span><br><span class="line">                    color: &quot;#fff&quot;, borderRadius: &quot;4px&quot;, display: &quot;flex&quot;,</span><br><span class="line">                    alignItems: &quot;center&quot;, justifyContent: &quot;center&quot;,</span><br><span class="line">                &#125;&#125; onClick=&#123;this.handleSubmit.bind(this)&#125;&gt;</span><br><span class="line">                    ä¿å­˜</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public async handleSubmit() &#123;</span><br><span class="line">    (this.refs.cropper as any).getCroppedCanvas().toBlob(async blob =&gt; &#123;</span><br><span class="line">       // ä¸Šä¼ æ“ä½œ</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.class-cropper-modal &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    background-color: rgba(0, 0, 0, 0.3);</span><br><span class="line">    top: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.modal-panel &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background: white;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: stretch;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cropper-container-container &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: stretch;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cropper-container &#123;</span><br><span class="line">    flex: 0 0 600px;</span><br><span class="line">    margin-right: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cropper-container img &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cropper &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.preview-container &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.cropper-preview &#123;</span><br><span class="line">    width: 180px;</span><br><span class="line">    height: 180px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    border: 1px solid #383838;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>jséªŒè¯å‡½æ•°</title>
      <link href="/2020/02/07/js_02/"/>
      <url>/2020/02/07/js_02/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦æ­£ç¡®</span><br><span class="line">function isEffectPhone(phone: any) &#123;</span><br><span class="line">    const reg = /^[1][3,4,5,6,7,8][0-9]&#123;9&#125;$/;</span><br><span class="line">    if (!reg.test(phone)) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// åˆ¤æ–­ä¼ å…¥æ—¶é—´æ˜¯å¦å¤§äºå½“å‰å®é™…æ—¶é—´</span><br><span class="line">export function contrastTime(start) &#123;</span><br><span class="line">    return start.getTime() - new Date().getTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//è·å–å±å¹•å®½åº¦</span><br><span class="line">function getClientWidth() &#123;</span><br><span class="line">    const width = (document.documentElement &amp;&amp; document.documentElement.clientWidth) ?</span><br><span class="line">        document.documentElement.clientWidth : document.body.clientWidth;</span><br><span class="line">    return (width &lt;= 1470);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æˆªå–å­—ç¬¦ä¸²åå‡ ä½</span><br><span class="line">function subStringEnd(string, n: number) &#123;</span><br><span class="line">    return string.substring(string.length - n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// æ ¹æ®æ•°æ®è·å–æ‰€æœ‰å€¼çš„å’Œ</span><br><span class="line">function getSum(arr, type?: string) &#123;</span><br><span class="line">    let result = 0;</span><br><span class="line">    for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (type) &#123;</span><br><span class="line">            result += (arr[i][type] * 1000);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            result += arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result / 1000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// éšè—æ‰‹æœºå·ä¸­é—´å››ä½</span><br><span class="line">function getTel(tel: string) &#123;</span><br><span class="line">    return tel.substring(0, 3) + &apos;****&apos; + tel.substring(tel.length - 4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// åˆ¤æ–­æ‰‹æœºæ˜¯iod/android</span><br><span class="line">function checkPlatform() &#123;</span><br><span class="line">    if (/android/i.test(navigator.userAgent)) &#123;</span><br><span class="line">        // console.log(&quot;This is Android&apos;browser.&quot;);//è¿™æ˜¯Androidå¹³å°ä¸‹æµè§ˆå™¨</span><br><span class="line">        return &apos;0&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) &#123;</span><br><span class="line">        // console.log(&quot;This is iOS&apos;browser.&quot;);//è¿™æ˜¯iOSå¹³å°ä¸‹æµè§ˆå™¨</span><br><span class="line">        return &apos;1&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (/Linux/i.test(navigator.userAgent)) &#123;</span><br><span class="line">        // console.log(&quot;This is Linux&apos;browser.&quot;);//è¿™æ˜¯Linuxå¹³å°ä¸‹æµè§ˆå™¨</span><br><span class="line">        return &apos;2&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (/Linux/i.test(navigator.platform)) &#123;</span><br><span class="line">        // console.log(&quot;This is Linux operating system.&quot;);//è¿™æ˜¯Linuxæ“ä½œç³»ç»Ÿå¹³å°</span><br><span class="line">        return &apos;2&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (/MicroMessenger/i.test(navigator.userAgent)) &#123;</span><br><span class="line">        // console.log(&quot;This is MicroMessenger&apos;browser.&quot;);//è¿™æ˜¯å¾®ä¿¡å¹³å°ä¸‹æµè§ˆå™¨</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ç”Ÿæˆéšæœºçš„nä½æ•°</span><br><span class="line">function generateFiveRandomNum(n) &#123;</span><br><span class="line">    let code = &apos;&apos;;</span><br><span class="line">    for (let i = 0; i &lt; n+1; i++) &#123;</span><br><span class="line">        code += Math.floor(Math.random() * 10);</span><br><span class="line">    &#125;</span><br><span class="line">    return code;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// blobè½¬base64</span><br><span class="line">function blobToDataURI(blob: any, callback: any) &#123;</span><br><span class="line">    var reader = new FileReader();</span><br><span class="line">    reader.onload = function (e: any) &#123;</span><br><span class="line">        callback(e.target.result);</span><br><span class="line">    &#125;</span><br><span class="line">    reader.readAsDataURL(blob);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>jså›¾ç‰‡ç›¸å…³æ“ä½œ</title>
      <link href="/2020/02/07/js_01/"/>
      <url>/2020/02/07/js_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">base64è½¬Blob</span><br><span class="line"></span><br><span class="line">function base64ToBlob(base64) &#123;</span><br><span class="line">    return new Promise(resolve =&gt; &#123;</span><br><span class="line">        if (typeof base64 !== &quot;string&quot;) &#123;</span><br><span class="line">            return resolve(base64);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        const bytes = window.atob(base64.split(&quot;,&quot;)[1]);</span><br><span class="line">        // å¤„ç†å¼‚å¸¸ï¼Œå°†asciiç å°äº0çš„è½¬æ¢ä¸ºå¤§äº0</span><br><span class="line">        const buffer = new ArrayBuffer(bytes.length);</span><br><span class="line">        const arr = new Uint8Array(buffer);</span><br><span class="line">        for (let i = 0; i &lt; bytes.length; i++) &#123;</span><br><span class="line">            arr[i] = bytes.charCodeAt(i);</span><br><span class="line">        &#125;</span><br><span class="line">        resolve(new Blob([buffer], &#123; type: &quot;image/jpeg&quot; &#125;));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">base64è½¬File</span><br><span class="line"></span><br><span class="line"> public dataURLtoFile(dataurl, filename) &#123; // å°†base64è½¬æ¢ä¸ºæ–‡ä»¶</span><br><span class="line">    const arr = dataurl.split(&quot;,&quot;);</span><br><span class="line">    const mime = arr[0].match(/:(.*?);/)[1];</span><br><span class="line">    const bstr = atob(arr[1]);</span><br><span class="line">    let n = bstr.length;</span><br><span class="line">    const u8arr = new Uint8Array(n);</span><br><span class="line">    while (n--) &#123;</span><br><span class="line">        u8arr[n] = bstr.charCodeAt(n);</span><br><span class="line">    &#125;</span><br><span class="line">    return new File([u8arr], filename, &#123; type: mime &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">base64è½¬ArrayBufferå¯¹è±¡</span><br><span class="line"></span><br><span class="line">function base64ToArrayBuffer(base64) &#123;</span><br><span class="line">    base64 = base64.replace(/^data\:([^\;]+)\;base64,/gmi, &quot;&quot;);</span><br><span class="line">    const binary = atob(base64);</span><br><span class="line">    const len = binary.length;</span><br><span class="line">    const buffer = new ArrayBuffer(len);</span><br><span class="line">    const view = new Uint8Array(buffer);</span><br><span class="line">    for (let i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        view[i] = binary.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    return buffer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">è·å–å›¾ç‰‡çš„exifçš„è§’åº¦</span><br><span class="line"></span><br><span class="line">function getOrientation(arrayBuffer) &#123;</span><br><span class="line">        const dataView = new DataView(arrayBuffer);</span><br><span class="line">    let length = dataView.byteLength;</span><br><span class="line">    let orientation;</span><br><span class="line">    let exifIDCode;</span><br><span class="line">    let tiffOffset;</span><br><span class="line">    let firstIFDOffset;</span><br><span class="line">    let littleEndian;</span><br><span class="line">    let endianness;</span><br><span class="line">    let app1Start;</span><br><span class="line">    let ifdStart;</span><br><span class="line">    let offset;</span><br><span class="line">    let i;</span><br><span class="line">    // Only handle JPEG image (start by 0xFFD8)</span><br><span class="line">    if (dataView.getUint8(0) === 0xFF &amp;&amp; dataView.getUint8(1) === 0xD8) &#123;</span><br><span class="line">        offset = 2;</span><br><span class="line">        while (offset &lt; length) &#123;</span><br><span class="line">            if (dataView.getUint8(offset) === 0xFF &amp;&amp; dataView.getUint8(offset + 1) === 0xE1) &#123;</span><br><span class="line">                app1Start = offset;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            offset++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (app1Start) &#123;</span><br><span class="line">        exifIDCode = app1Start + 4;</span><br><span class="line">        tiffOffset = app1Start + 10;</span><br><span class="line">        if (getStringFromCharCode(dataView, exifIDCode, 4) === &quot;Exif&quot;) &#123;</span><br><span class="line">            endianness = dataView.getUint16(tiffOffset);</span><br><span class="line">            littleEndian = endianness === 0x4949;</span><br><span class="line"></span><br><span class="line">            if (littleEndian || endianness === 0x4D4D /* bigEndian */) &#123;</span><br><span class="line">                if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) &#123;</span><br><span class="line">                    firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);</span><br><span class="line"></span><br><span class="line">                    if (firstIFDOffset &gt;= 0x00000008) &#123;</span><br><span class="line">                        ifdStart = tiffOffset + firstIFDOffset;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (ifdStart) &#123;</span><br><span class="line">        length = dataView.getUint16(ifdStart, littleEndian);</span><br><span class="line"></span><br><span class="line">        for (i = 0; i &lt; length; i++) &#123;</span><br><span class="line">            offset = ifdStart + i * 12 + 2;</span><br><span class="line">            if (dataView.getUint16(offset, littleEndian) === 0x0112 /* Orientation */) &#123;</span><br><span class="line"></span><br><span class="line">                // 8 is the offset of the current tag&apos;s value</span><br><span class="line">                offset += 8;</span><br><span class="line"></span><br><span class="line">                // Get the original orientation value</span><br><span class="line">                orientation = dataView.getUint16(offset, littleEndian);</span><br><span class="line"></span><br><span class="line">                // Override the orientation with its default value for Safari (#120)</span><br><span class="line">                if (true) &#123;</span><br><span class="line">                    dataView.setUint16(offset, 1, littleEndian);</span><br><span class="line">                &#125;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return orientation;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">ioså›¾ç‰‡æ—‹è½¬é—®é¢˜</span><br><span class="line"></span><br><span class="line">function rotateImg(img, direction, canvas) &#123;</span><br><span class="line">    // æœ€å°ä¸æœ€å¤§æ—‹è½¬æ–¹å‘ï¼Œå›¾ç‰‡æ—‹è½¬4æ¬¡åå›åˆ°åŸæ–¹å‘</span><br><span class="line">    // tslint:disable-next-line:variable-name</span><br><span class="line">    const min_step = 0;</span><br><span class="line">    // tslint:disable-next-line:variable-name</span><br><span class="line">    const max_step = 3;</span><br><span class="line">    if (img == null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    const height = img.height;</span><br><span class="line">    const width = img.width;</span><br><span class="line">    let step = 2;</span><br><span class="line">    if (step == null) &#123;</span><br><span class="line">        step = min_step;</span><br><span class="line">    &#125;</span><br><span class="line">    if (direction === &quot;right&quot;) &#123;</span><br><span class="line">        step++;</span><br><span class="line">        // æ—‹è½¬åˆ°åŸä½ç½®ï¼Œå³è¶…è¿‡æœ€å¤§å€¼</span><br><span class="line">        // tslint:disable-next-line:no-unused-expression</span><br><span class="line">        step &gt; max_step &amp;&amp; (step = min_step);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        step--;</span><br><span class="line">        // tslint:disable-next-line:no-unused-expression</span><br><span class="line">        step &lt; min_step &amp;&amp; (step = max_step);</span><br><span class="line">    &#125;</span><br><span class="line">    // æ—‹è½¬è§’åº¦ä»¥å¼§åº¦å€¼ä¸ºå‚æ•°</span><br><span class="line">    const degree = step * 90 * Math.PI / 180;</span><br><span class="line">    const ctx = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">    switch (step) &#123;</span><br><span class="line">        case 0:</span><br><span class="line">            canvas.width = width;</span><br><span class="line">            canvas.height = height;</span><br><span class="line">            ctx.drawImage(img, 0, 0);</span><br><span class="line">            break;</span><br><span class="line">        case 1:</span><br><span class="line">            canvas.width = height;</span><br><span class="line">            canvas.height = width;</span><br><span class="line">            ctx.rotate(degree);</span><br><span class="line">            ctx.drawImage(img, 0, -height);</span><br><span class="line">            break;</span><br><span class="line">        case 2:</span><br><span class="line">            canvas.width = width;</span><br><span class="line">            canvas.height = height;</span><br><span class="line">            ctx.rotate(degree);</span><br><span class="line">            ctx.drawImage(img, -width, -height);</span><br><span class="line">            break;</span><br><span class="line">        case 3:</span><br><span class="line">            canvas.width = height;</span><br><span class="line">            canvas.height = width;</span><br><span class="line">            ctx.rotate(degree);</span><br><span class="line">            ctx.drawImage(img, -width, 0);</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// åˆ¤æ–­å›¾ç‰‡å¤§å°</span><br><span class="line">function testMaxSize(size, maxSize) &#123;</span><br><span class="line">    let isAllow = false;</span><br><span class="line">    isAllow = size &lt;= maxSize;</span><br><span class="line">    if (!isAllow) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return isAllow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">æ—‹è½¬å›¾ç‰‡å®é™…ä¾‹å­</span><br><span class="line"></span><br><span class="line">const reader = new FileReader();</span><br><span class="line">reader.readAsDataURL(file);</span><br><span class="line">reader.onload = () =&gt; &#123;</span><br><span class="line">    dealImage(reader.result, file, 800, (data) =&gt; &#123;</span><br><span class="line">        const size = this.testMaxSize(data.size, 1048576);</span><br><span class="line">        if (!size) &#123;</span><br><span class="line">            Message.error(&quot;å›¾ç‰‡è¿‡å¤§,è¯·ä¸Šä¼ å°äº1Mçš„å›¾ç‰‡&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function dealImage(base64Url, files, w, bacllback) &#123;</span><br><span class="line">    const newImage = new Image();</span><br><span class="line">    let orientation;</span><br><span class="line">    orientation = getOrientation(base64ToArrayBuffer(base64Url));</span><br><span class="line">    newImage.src = base64Url;</span><br><span class="line">    newImage.onload = async () =&gt; &#123;</span><br><span class="line">        const canvas = document.createElement(&quot;canvas&quot;);</span><br><span class="line">        if (orientation &amp;&amp; orientation !== 1) &#123;</span><br><span class="line">            if (orientation === 6) &#123;</span><br><span class="line">                this.rotateImg(newImage, &quot;left&quot;, canvas);</span><br><span class="line">                this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files);</span><br><span class="line">            &#125; else if (orientation === 8) &#123;</span><br><span class="line">                this.rotateImg(newImage, &quot;right&quot;, canvas);</span><br><span class="line">                this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files);</span><br><span class="line">            &#125; else if (orientation === 3) &#123;</span><br><span class="line">                this.rotateImg(newImage, &quot;right&quot;, canvas);</span><br><span class="line">                this.rotateImg(newImage, &quot;right&quot;, canvas);</span><br><span class="line">                this.yasuo(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), w, callback, files);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            this.yasuo(base64Url, w, callback, files);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function yasuo(base64Url, w, callback, files) &#123;</span><br><span class="line">    let imgWidth;</span><br><span class="line">    let imgHeight;</span><br><span class="line">    let blob: any;</span><br><span class="line">    const img = new Image();</span><br><span class="line">    img.src = base64Url;</span><br><span class="line">    img.onload = async () =&gt; &#123;</span><br><span class="line">        imgWidth = img.width;</span><br><span class="line">        imgHeight = img.height;</span><br><span class="line">        const canvas = document.createElement(&quot;canvas&quot;);</span><br><span class="line">        const ctx: any = canvas.getContext(&quot;2d&quot;);</span><br><span class="line">        if (Math.max(imgWidth, imgHeight) &gt; w) &#123;</span><br><span class="line">            if (imgWidth &gt; imgHeight) &#123;</span><br><span class="line">                canvas.width = w;</span><br><span class="line">                canvas.height = w * imgHeight / imgWidth;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                canvas.height = w;</span><br><span class="line">                canvas.width = w * imgWidth / imgHeight;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            canvas.width = imgWidth;</span><br><span class="line">            canvas.height = imgHeight;</span><br><span class="line">        &#125;</span><br><span class="line">        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);</span><br><span class="line">        blob = await this.dataURLtoFile(canvas.toDataURL(&quot;image/jpeg&quot;, 0.8), files.name);</span><br><span class="line">        callback(blob);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2019/06/10/immutable_01/"/>
      <url>/2019/06/10/immutable_01/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>React Keyå¯¹æ¸²æŸ“çš„å½±å“</title>
      <link href="/2019/06/10/react_02/"/>
      <url>/2019/06/10/react_02/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨Reactçš„å¼€å‘ç‰ˆæœ¬æ—¶å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼š</span><br><span class="line"></span><br><span class="line">æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œä¸ä¸ºæ•°ç»„çš„æ¯ä¸€é¡¹è®¾ç½®keyï¼Œåˆ™æ§åˆ¶å°ä¼šè­¦å‘Šï¼Œ</span><br><span class="line">Warningï¼šEach child in an array or iterator should have a unique &apos;key&apos; prop</span><br><span class="line"></span><br><span class="line">å¸¸æœ‰äººä¸ºäº†æ¶ˆé™¤è­¦å‘Šï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡(index)ä½œä¸ºkeyï¼Œä½†æ˜¯å½“Reactæ¸²æŸ“åˆ—è¡¨æ—¶ï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡ä½œä¸º</span><br><span class="line">keyæ—¶ä¸æ­£ç¡®çš„ï¼Œå®ƒèƒ½åšçš„ï¼Œä»…ä»…æ˜¯æ¶ˆé™¤å‘Šè­¦è€Œå·²ï¼Œå¯¹æ¸²æŸ“æ¯«æ— å¸®åŠ©ã€‚</span><br><span class="line"></span><br><span class="line">Reactçš„keyåº”è¯¥æ˜¯ç¨³å®šçš„ï¼Œå”¯ä¸€çš„(åªè¦åœ¨åˆ—è¡¨é¡¹ä¸­å”¯ä¸€å°±è¡Œ)ï¼ŒæŠŠæ•°ç»„çš„ä¸‹æ ‡ä½œä¸ºkeyçš„ç¼ºç‚¹åœ¨äºæ²¡æœ‰</span><br><span class="line">æ»¡è¶³ç¨³å®šæ€§è¦æ±‚ï¼Œæ¨èæŠŠidæˆ–è€…uuidç­‰å­—æ®µä½œä¸ºReactçš„keyï¼Œå‡å°‘Reactå¯¹DOMæ“ä½œ</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åˆ—è¡¨</title>
      <link href="/2019/04/10/alg-01/"/>
      <url>/2019/04/10/alg-01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gitcæ’¤é”€å·²ç»commitä½†æ˜¯è¿˜æ²¡æœ‰pushçš„ä»£ç </title>
      <link href="/2019/04/09/git_01/"/>
      <url>/2019/04/09/git_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åœ¨git commitä¹‹åï¼Œæ­£æƒ³ç€pushï¼Œçªç„¶å‘ç°æœ‰äº›ä¸œè¥¿æˆ‘ä»¬ä¸æƒ³pushä¸Šå»</span><br><span class="line">è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æƒ³æŠŠæäº¤çš„æ’¤é”€æ‰ï¼Œé‡æ–°æäº¤æˆ‘ä»¬æƒ³æäº¤çš„ï¼Œpushæˆ‘ä»¬æƒ³è¦pushçš„</span><br><span class="line">1ã€æ‰¾åˆ°ä¹‹å‰æäº¤çš„git commitçš„id</span><br><span class="line">git log </span><br><span class="line">æ‰¾åˆ°æƒ³è¦æ’¤é”€çš„id</span><br><span class="line">2ã€git reset -hard id</span><br><span class="line">å®Œæˆæ’¤é”€ï¼ŒåŒæ—¶å°†ä»£ç æ¢å¤åˆ°å‰commit_idå¯¹åº”çš„ç‰ˆæœ¬ï¼Œå¼ºåˆ¶å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬</span><br><span class="line">3ã€git reset id</span><br><span class="line">å®Œæˆæ’¤é”€ï¼Œåœç•™åœ¨å½“å‰ç‰ˆæœ¬ï¼Œä¸å¯¹ä»£ç ä¿®æ”¹è¿›è¡Œæ’¤é”€ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡git commité‡æ–°æäº¤å¯¹æœ¬åœ°ä»£ç çš„ä¿®æ”¹ã€‚</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨nw.jsæ‰“åŒ…reacté¡¹ç›®</title>
      <link href="/2019/04/09/face_02/"/>
      <url>/2019/04/09/face_02/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">nw.jsåŸånode-webkitï¼Œå®ƒé€šè¿‡Chromiumå†…æ ¸ï¼Œå¯ä»¥åœ¨nodeç¯å¢ƒä¸‹æ¨¡æ‹Ÿæµè§ˆå™¨è¿è¡Œæ—¶ï¼Œå› æ­¤å¯ä»¥å°†jså°è£…æˆç‹¬ç«‹åº”ç”¨ï¼Œä»è€Œå®ç°è·¨å¹³å°ã€‚</span><br><span class="line"></span><br><span class="line">#### nw.jså®‰è£…</span><br><span class="line">å®˜æ–¹åœ°å€https://nwjs.io/ï¼Œé€‰æ‹©å¯¹åº”ä½ è‡ªå·±çš„ç³»ç»Ÿï¼Œå¼€å‘çš„è¯å¯ä»¥ä¸‹è½½SDKï¼ŒSDKå¯ä»¥æ‰“å¼€æ§åˆ¶å°ï¼Œä¸Šçº¿ä¹‹ç±»çš„å¯ä»¥é€‰æ‹©Normalç‰ˆæœ¬ã€‚</span><br><span class="line"></span><br><span class="line">#### å‡†å¤‡index.htmlæ–‡ä»¶</span><br><span class="line">å°†reacté¡¹ç›®buildä¹‹åï¼Œå°†buildç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°åˆšæ‰ä¸‹è½½çš„æ–‡ä»¶å¤¹é‡Œé¢ï¼Œå’Œnw.exeåŒç›®å½•</span><br><span class="line"></span><br><span class="line">#### å‡†å¤‡package.json</span><br><span class="line">æœ€åéœ€è¦æ–°å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œè¿™æ˜¯nwæ‰“åŒ…çš„é…ç½®æ–‡ä»¶å’Œå…¥å£æ–‡ä»¶ï¼Œæœ€åŸºç¡€çš„æ˜¯nameï¼Œmain</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    name: &apos;nwDemo&apos;,</span><br><span class="line">    main: &apos;index.html&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å°†package.jsonæ–‡ä»¶æ‹·è´åˆ°nw.exeåŒç›®å½•ä¸‹ï¼Œè¿è¡Œnw.exeå³å¯</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> äººè„¸è¯†åˆ« </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Reactå’Œface-api.jsæä¾›é¢éƒ¨è¯†åˆ«</title>
      <link href="/2019/03/21/face_01/"/>
      <url>/2019/03/21/face_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    face-api.jsæä¾›äº†Tiny Face Detectorã€SSD mobileNetå’ŒMTCNNä¸‰ç§æ¨¡å‹ï¼Œæ­¤APIäººè„¸è¯†åˆ«çš„åŸç†å°±æ˜¯ä¸€æ—¦æ£€æµ‹åˆ°ä¸€</span><br><span class="line">ä¸ªæˆ–å¤šä¸ªäººè„¸ï¼Œäººè„¸æ£€æµ‹å™¨æ¨¡å‹å°†è¿”å›æ¯ä¸ªäººè„¸çš„è¾¹ç•Œæ¡†ï¼Œå‘Šè¯‰æˆ‘ä»¬äººè„¸åœ¨å›¾åƒä¸­çš„ä½ç½®ã€‚ç„¶ååˆ©ç”¨äººè„¸æ ‡å¿—ç½‘ç»œå¯¹äººè„¸æ ‡å¿—è¿›è¡Œ68</span><br><span class="line">ä¸ªç‚¹çš„æ ‡è®°ï¼Œåœ¨äººè„¸è¯†åˆ«ç½‘ç»œè¿›è¡Œè¾“å…¥å‰ï¼Œåˆ©ç”¨å¯¹é½æ¨¡å‹ç¡®å®šäººè„¸çš„ä¸­å¿ƒä½ç½®ã€‚</span><br><span class="line">    äººè„¸è¯†åˆ«ç½‘ç»œæ˜¯å¦ä¸€ä¸ªç¥ç»ç½‘ç»œè¿”å›ä¸€ä¸ªäººè„¸æè¿°ç¬¦ï¼ˆç‰¹å¾å‘é‡åŒ…å«128ä¸ªå€¼ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ¯”è¾ƒå’Œè¯†åˆ«å›¾åƒä¸­çš„äººã€‚å°±åƒ</span><br><span class="line">æŒ‡çº¹ä¸€æ ·ï¼Œè„¸éƒ¨æè¿°ç¬¦æ˜¯æ¯ä¸ªè„¸éƒ¨çš„ç‹¬ç‰¹ä»·å€¼ã€‚å½“æˆ‘ä»¬æ¯”è¾ƒå®ƒä»¬æ—¶ï¼Œæ¥è‡ªä¸åŒå›¾åƒæºçš„åŒä¸€ä¸ªäººçš„äººè„¸æè¿°ç¬¦åº”è¯¥éå¸¸æ¥è¿‘ã€‚åœ¨è¿™ä¸ª</span><br><span class="line">é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¬§å‡ é‡Œå¾·è·ç¦»è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœè·ç¦»å°äºæˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼ï¼Œæˆ‘ä»¬ç¡®å®šä»–ä»¬å¯èƒ½æ˜¯åŒä¸€ä¸ªäººã€‚ ï¼ˆè·ç¦»è¶Šè¿œï¼Œä¿¡å¿ƒè¶Šé«˜ï¼‰</span><br><span class="line">    é€šå¸¸ï¼Œç³»ç»Ÿå°†æ¯ä¸ªäººçš„é¢éƒ¨æè¿°ç¬¦ä¸ä»–æˆ–å¥¹çš„åç§°ä¸€èµ·å­˜å‚¨ä¸ºæ ‡è®°ã€‚å½“æˆ‘ä»¬æä¾›æŸ¥è¯¢å›¾åƒæ—¶ï¼Œç³»ç»Ÿä¼šå°†æ–°å›¾åƒçš„è„¸éƒ¨æè¿°ç¬¦ä¸æ‰€</span><br><span class="line">æœ‰å‚è€ƒæè¿°ç¬¦è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è¯†åˆ«å…·æœ‰æœ€ä½å›¾åƒæè¿°ç¬¦çš„äººã€‚å¦‚æœæ²¡æœ‰æ¯”è¾ƒä½äºé˜ˆå€¼çš„äººï¼Œåˆ™è¯¥äººå°†è¢«è¯†åˆ«ä¸ºæœªçŸ¥ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä»Šå¤©è¿™é‡Œå®ç°ä¸¤ä¸ªåŠŸèƒ½ã€‚ä¸€ç§æ˜¯ä»è¾“å…¥å›¾åƒä¸­è¯†åˆ«ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨å®æ—¶è§†é¢‘ä½œä¸ºè¾“å…¥ã€‚</span><br><span class="line">è®©æˆ‘ä»¬ä»create-react-appå¼€å§‹ï¼Œå®‰è£…react-router-domï¼Œç„¶åå¯åŠ¨App</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create-react-app face-demo</span><br><span class="line">cd face-demo</span><br><span class="line">yarn add react-router-dom</span><br><span class="line"></span><br><span class="line">yarn start</span><br><span class="line">è¿™æ—¶ä¼šè‡ªåŠ¨æ‰“å¼€é»˜è®¤çš„é¡µé¢</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å°†src/App.jsæ–‡ä»¶ç”¨react-router-domè®¾ç½®ä¸€ä¸‹</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> äººè„¸è¯†åˆ« </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>css3éš”è¡Œå˜è‰²</title>
      <link href="/2019/01/15/css_01/"/>
      <url>/2019/01/15/css_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">div:nth-of-type(odd)&#123;background:#fff&#125;  /*å¥‡æ•°è¡Œ*/</span><br><span class="line"></span><br><span class="line">div:nth-of-type(even)&#123;background:#000&#125;   /*å¶æ•°è¡Œ */</span><br><span class="line"></span><br><span class="line">div:nth-child(4n+1)&#123;background:#fff&#125;  /*ä»ç¬¬ä¸€è¡Œå¼€å§‹ç®—èµ· æ¯éš”å››ä¸ªï¼ˆåŒ…å«ç¬¬å››ä¸ªï¼‰ä½¿ç”¨æ­¤æ ·å¼*/</span><br><span class="line"></span><br><span class="line">div:nth-child(4n+2)&#123;background:#fff&#125;  /*ä»ç¬¬äºŒè¡Œå¼€å§‹ç®—èµ· æ¯éš”å››ä¸ªï¼ˆåŒ…å«ç¬¬å››ä¸ªï¼‰ä½¿ç”¨æ­¤æ ·å¼*/</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:nth-child(n)&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯ä½ åŒ—æœé²œç»µç¬¬nä¸ªå­å…ƒç´ .nå¯ä»¥æ˜¯æ•°å­—(1,2,3),å…³é”®å­—(odd,even),å…¬å¼(2n,2n+3),æ•°å­—æ˜¯ä»1å¼€å§‹çš„,ä¸æ˜¯0.å¦‚:</span><br><span class="line"></span><br><span class="line">tr:nth-child(3)åŒ¹é…æ‰€æœ‰è¡¨æ ¼é‡Œç¬¬3è¡Œçš„tr</span><br><span class="line"></span><br><span class="line">tr:nth-child(2n+1)åŒ¹é…æ‰€æœ‰è¡¨æ ¼çš„å¥‡æ•°è¡Œ</span><br><span class="line"></span><br><span class="line">tr:nth-child(2n)åŒ¹é…æ‰€æœ‰çš„å¶æ•°è¡Œ</span><br><span class="line"></span><br><span class="line">tr:nth-child(odd)åŒ¹é…æ‰€æœ‰çš„å¥‡æ•°è¡Œ</span><br><span class="line"></span><br><span class="line">tr:nth-child(even)åŒ¹é…æ‰€æœ‰çš„å¶æ•°è¡Œ</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:nth-last-child(n)&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ çš„å€’æ•°ç¬¬nä¸ªå­å…ƒç´ </span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:nth-of-type(n)&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ æ‰€æœ‰å­å…ƒç´ ä¸­ç±»å‹ä¸ºEçš„å­å…ƒç´ é›†åˆä¸­çš„ç¬¬nä¸ª,nå¯ä»¥æ˜¯æ•°å­—(1,2,3),å…³é”®å­—(odd,even),å…¬å¼(2n,2n+3),æ•°å­—æ˜¯ä»1å¼€å§‹çš„,ä¸æ˜¯0.å¦‚p:nth-of-type(2)åŒ¹é…å‡º,&amp;lt;div&amp;gt;&amp;lt;h1&amp;gt;&amp;lt;/h1&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­ç¬¬äºŒä¸ªpå…ƒç´ </span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:nth-last-of-type(n)&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">é€‰æ‹©Eå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ çš„å€’æ•°ç¬¬nä¸ªå­èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:last-child&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­çš„æœ€åä¸€ä¸ªå­—èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:first-of-tpe&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­æ˜¯ç¬¬ä¸€ä¸ªè¯¥ç±»å‹çš„å…ƒç´ ,å¦‚p:first-of-typeåŒ¹é…&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;ä¸­çš„ç¬¬ä¸€ä¸ªpå…ƒç´ .</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:last-of-type&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">æ‰¾å‡ºEå…ƒç´ ,ä¸”å®ƒæ˜¯çˆ¶å…ƒç´ ä¸­çš„æœ€åä¸€ä¸ªè¯¥ç±»å‹çš„å…ƒç´ .å¦‚:p:last-of-typeåŒ¹é…,&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­çš„æœ€åä¸€ä¸ªpå…ƒç´ ,å®ƒåŒE:nth-last-of-tpe(1)æ„ä¹‰ç›¸åŒ</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:only-child&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">æ‰¾å‡ºçˆ¶å…ƒç´ ä¸­åªåŒ…æ‹¬ä¸€ä¸ªçš„å­å…ƒç´ ,ä¸”è¯¥å…ƒç´ æ˜¯E</span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:only-of-type&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">é€‰æ‹©å…¶çˆ¶å…ƒç´ åªåŒ…å«ä¸€ä¸ªåŒç±»å‹çš„å­å…ƒç´ ,ä¸”è¯¥å­å…ƒç´ åŒ¹é…E.å¦‚p:only-of-typeåŒ¹é…&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;ä¸­çš„p,å› ä¸ºdivä¸­åªåŒ…æ‹¬ä¸€ä¸ªpå…ƒç´ </span><br><span class="line"></span><br><span class="line">&lt;strong&gt;E:empty&lt;/strong&gt;</span><br><span class="line"></span><br><span class="line">åŒ¹é…Eå…ƒç´ ,ä¸”è¯¥å…ƒç´ ä¸åŒ…å«å­èŠ‚ç‚¹,æ³¨æ„,æ–‡å­—ä¹Ÿå±äºèŠ‚ç‚¹</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¶…è¿‡å›ºå®šå®½åº¦(æˆ–è¡Œæ•°)æ˜¾ç¤º...(æˆ–çœç•¥)</title>
      <link href="/2019/01/15/css_02/"/>
      <url>/2019/01/15/css_02/</url>
      
        <content type="html"><![CDATA[<p>ä½œä¸ºå‰ç«¯ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªéœ€æ±‚ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé•¿çš„æ–‡æœ¬åšé™åˆ¶ï¼Œä¸æ˜¾ç¤ºï¼Œæˆ–è€…æ˜¾ç¤ºçœç•¥å·ã€‚ä»Šå¤©æ•´ç†ä¸€ä¸‹ã€‚</p><h3 id="1ã€è¶…å‡ºå›ºå®šé•¿åº¦æ˜¾ç¤ºâ€¦"><a href="#1ã€è¶…å‡ºå›ºå®šé•¿åº¦æ˜¾ç¤ºâ€¦" class="headerlink" title="1ã€è¶…å‡ºå›ºå®šé•¿åº¦æ˜¾ç¤ºâ€¦"></a>1ã€è¶…å‡ºå›ºå®šé•¿åº¦æ˜¾ç¤ºâ€¦</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.class &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    overflow: hidden; //è¿™ä¸ªæ˜¯è®¾ç½®éšè—çš„ã€‚è¿˜æœ‰å…¶ä»–çš„ï¼Œä¾‹å¦‚scrollï¼Œæ˜¯è¶…å‡ºå›ºå®šé•¿åº¦ï¼Œåº•éƒ¨æ˜¾ç¤ºæ»šåŠ¨æ¡çš„ã€‚</span><br><span class="line">    text-overflow: ellipsis; //è¿™ä¸ªå°±æ˜¯è®¾ç½®ç›´æ¥éšè—æ‰æ–‡å­—ï¼Œè¿˜æ˜¯æ˜¾ç¤º...çš„ã€‚å½“å‰æ˜¯æ˜¾ç¤ºçœç•¥å·ï¼Œç›´æ¥çœç•¥æ˜¯clipã€‚</span><br><span class="line">    display: inline-block; //æ ¹æ®ä¸åŒæ ‡ç­¾displayå€¼ï¼Œæœ‰çš„ä¸ç”¨åŠ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€è¶…å‡ºå›ºå®šè¡Œæ•°æ˜¾ç¤ºâ€¦"><a href="#2ã€è¶…å‡ºå›ºå®šè¡Œæ•°æ˜¾ç¤ºâ€¦" class="headerlink" title="2ã€è¶…å‡ºå›ºå®šè¡Œæ•°æ˜¾ç¤ºâ€¦"></a>2ã€è¶…å‡ºå›ºå®šè¡Œæ•°æ˜¾ç¤ºâ€¦</h3><p>è¶…å‡ºå›ºå®šè¡Œæ•°ã€‚æ˜¾ç¤ºçœç•¥å·ï¼Œå’Œä¸Šé¢å·®ä¸å¤šã€‚overflowå’Œtext-overflowè§ä¸Šæ–¹è§£é‡Šã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.class &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    -webkit-line-clamp: 2; //è¿™é‡Œå°±æ˜¯è®¾ç½®è¶…å‡ºå‡ è¡Œéšè—</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    display: -webkit-box; //æ ¹æ®ä¸åŒæ ‡ç­¾displayï¼Œæœ‰çš„ä¸ç”¨åŠ ã€‚æˆ–è€…è®¾ç½®æˆåˆ«çš„å±æ€§ï¼Œè‡ªå·±å¯ä»¥éšä¾¿è¯•è¯•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å·¨å‘æé†’-å¤šè¡Œéšè—"><a href="#å·¨å‘æé†’-å¤šè¡Œéšè—" class="headerlink" title="å·¨å‘æé†’(å¤šè¡Œéšè—)"></a>å·¨å‘æé†’(å¤šè¡Œéšè—)</h4><p>æœ‰çš„æ—¶å€™ï¼Œä½ æŒ‰ç…§ä¸Šé¢çš„è®¾ç½®ã€‚å°±æ˜¯ä¸ç”Ÿæ•ˆã€‚æˆ–è€…æœ¬åœ°ç”Ÿæ•ˆäº†ï¼Œreactï¼ˆæˆ–è€…vueï¼‰æ‰“åŒ…åˆ°æœåŠ¡å™¨ä¸Šå°±ä¸ç”Ÿæ•ˆäº†ã€‚ä½ å¯ä»¥åœ¨æ§åˆ¶å°çœ‹çœ‹ã€‚æ˜¯ä¸æ˜¯-webkit-box-orientè¿™ä¸ªå±æ€§æ¶ˆå¤±äº†ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œè¯·çœ‹ä¸‹é¢çš„è§£å†³æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//åŠæ³•1</span><br><span class="line">ç›´æ¥åœ¨styleé‡Œé¢å†™ä¸Šdisplay: -webkit-box; å°±è¡Œ</span><br><span class="line"></span><br><span class="line">//åŠæ³•2</span><br><span class="line">.class &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    -webkit-line-clamp: 2;</span><br><span class="line">    /* autoprefixer: off */     //å¯¹ï¼Œå°±æ˜¯åŠ è¿™ä¸¤ä¸ªæ³¨é‡Šå°±è¡Œ.</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    /* autoprefixer: on */</span><br><span class="line">    display:-webkit-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Macæ˜¾ç¤ºéšè—æ–‡ä»¶</title>
      <link href="/2019/01/15/mac_01/"/>
      <url>/2019/01/15/mac_01/</url>
      
        <content type="html"><![CDATA[<h5 id="ç¬¬ä¸€ç§ï¼š"><a href="#ç¬¬ä¸€ç§ï¼š" class="headerlink" title="ç¬¬ä¸€ç§ï¼š"></a>ç¬¬ä¸€ç§ï¼š</h5><p>åœ¨macOS Sierra, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ·é”®âŒ˜â‡§.(Command + Shift + .)æ¥å¿«é€Ÿ(åœ¨Finderä¸­)æ˜¾ç¤ºå’Œéšè—æ–‡ä»¶</p><h5 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h5><p>åœ¨ç»ˆç«¯ä½¿ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//æ˜¾ç¤ºéšè—æ–‡ä»¶</span><br><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool true</span><br><span class="line">//ä¸æ˜¾ç¤ºéšè—æ–‡ä»¶</span><br><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool false</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React Naitve æ€§èƒ½ä¼˜åŒ–</title>
      <link href="/2019/01/15/rn_01/"/>
      <url>/2019/01/15/rn_01/</url>
      
        <content type="html"><![CDATA[<h5 id="1ã€åˆ©ç”¨shouldComponentUpdateå‡½æ•°ä¼˜åŒ–reactæ€§èƒ½ä»¥åŠå¼•å…¥immutableåº“çš„å¿…è¦æ€§-ä¹Ÿé€‚ç”¨äºreact-native"><a href="#1ã€åˆ©ç”¨shouldComponentUpdateå‡½æ•°ä¼˜åŒ–reactæ€§èƒ½ä»¥åŠå¼•å…¥immutableåº“çš„å¿…è¦æ€§-ä¹Ÿé€‚ç”¨äºreact-native" class="headerlink" title="1ã€åˆ©ç”¨shouldComponentUpdateå‡½æ•°ä¼˜åŒ–reactæ€§èƒ½ä»¥åŠå¼•å…¥immutableåº“çš„å¿…è¦æ€§(ä¹Ÿé€‚ç”¨äºreact-native)"></a>1ã€åˆ©ç”¨shouldComponentUpdateå‡½æ•°ä¼˜åŒ–reactæ€§èƒ½ä»¥åŠå¼•å…¥immutableåº“çš„å¿…è¦æ€§(ä¹Ÿé€‚ç”¨äºreact-native)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setState()å‡½æ•°åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ¸²æŸ“å—ï¼Ÿå¦‚æœsetState()ä¸­å‚æ•°è¿˜æ˜¯åŸæ¥æ²¡æœ‰å‘ç”Ÿä»»ä½•å˜åŒ–çš„statenï¼Ÿ</span><br><span class="line">å¦‚æœç»„ä»¶çš„stateæ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸”ä»çˆ¶ç»„ä»¶æ¥æ”¶çš„propsä¹Ÿæ²¡æœ‰å˜åŒ–ï¼Œé‚£å®ƒå°±ä¸€å®šä¸ä¼šé‡æ¸²æŸ“å—ï¼Ÿ</span><br><span class="line">å¦‚æœ1ï¼Œ2ä¸¤ç§æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´é‡æ¸²æŸ“ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é¿å…è¿™ç§å†—æ‚çš„æ“ä½œï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ï¼Ÿ</span><br></pre></td></tr></table></figure><p>å‚è€ƒ <a href="https://www.cnblogs.com/penghuwan/p/6707254.html" target="_blank" rel="noopener">https://www.cnblogs.com/penghuwan/p/6707254.html</a></p>]]></content>
      
      
      <categories>
          
          <category> React Native </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React NativeåŠ¨ç”»</title>
      <link href="/2019/01/15/rn_04/"/>
      <url>/2019/01/15/rn_04/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>æœ€è¿‘é¡¹ç›®è¦åšå°æ¸¸æˆï¼Œå°æ¸¸æˆå½“ç„¶å°±å°‘ä¸äº†åŠ¨ç”»äº†ï¼Œä¸€å¼€å§‹æ‰“ç®—ç”¨h5åšï¼Œä½†æ˜¯è€ƒè™‘åˆ°å†…åµŒh5å‘å¯èƒ½æœ‰ç‚¹å¤šï¼Œæ‰€ä»¥æœ€åè¿˜æ˜¯é€‰æ‹©react nativeçš„åŠ¨ç”»ï¼ˆé¡¹ç›®æœ¬èº«å°±æ˜¯react nativeå†™çš„ï¼Œä¹‹åç”¨rnä»£è¡¨react naitveï¼‰<br></p><h5 id="1ã€requestAnimationFrame"><a href="#1ã€requestAnimationFrame" class="headerlink" title="1ã€requestAnimationFrame"></a>1ã€requestAnimationFrame</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">export default class demo1 Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">  width: 100,</span><br><span class="line">  height: 100</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">startAnimation() &#123;</span><br><span class="line">let count = 0;</span><br><span class="line">let &#123; width, height &#125; = this.state;</span><br><span class="line">requestAnimationFrame(() =&gt; &#123;</span><br><span class="line">this.setState(&#123;</span><br><span class="line">widthL: width + 1,</span><br><span class="line">height: height + 1</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">let &#123; width, height &#125; = this.state;</span><br><span class="line">return(</span><br><span class="line">&lt;View style = &#123; styles.container &#125;&gt;</span><br><span class="line">&lt;Image </span><br><span class="line">source = &#123;require(./icon.jpg)&#125;</span><br><span class="line">style = &#123;&#123;</span><br><span class="line">width: width,</span><br><span class="line">height: height</span><br><span class="line">&#125;&#125;</span><br><span class="line">/&gt;</span><br><span class="line">&lt;TouchableOpacity</span><br><span class="line">style = &#123; styles.instructions &#125;</span><br><span class="line">onPress = &#123;()=&gt;this.startAnimation()&#125;</span><br><span class="line">&gt;</span><br><span class="line">&lt;Text style = &#123;&#123;</span><br><span class="line">alignSelf: &apos;center&apos;,</span><br><span class="line">color: &apos;#fff&apos;</span><br><span class="line">&#125;&#125;&gt;</span><br><span class="line">click me!</span><br><span class="line">&lt;/Text&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹å¼å®ç°çš„åŠ¨ç”»æœ‰å‡ ä¸ªé—®é¢˜ï¼š<br></p><ul><li>å®ç°æ–¹å¼æ˜¯é€šè¿‡ä¸æ–­é”€æ¯ã€åˆ›å»ºè§†å›¾æ¥å®Œæˆï¼Œä¸€æ–¹é¢å¦‚æœä½ çš„è§†å›¾çš„æ•°æ®æ˜¯åŠ¨æ€è·å–çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä»¥åˆé€‚çš„æ–¹å¼æ¢å¤æ•°æ®ï¼›å¦ä¸€æ–¹é¢ï¼Œè¿™ç§æ–¹å¼å¿…ç„¶é€ æˆæ€§èƒ½å’Œå†…å­˜å¼€é”€çš„é—®é¢˜ã€‚</li><li>å¦‚æœéœ€è¦åˆ·æ–°çš„Viewçš„å±‚çº§æ¯”è¾ƒæ·±ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼ä¼šå¸¦æ¥ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚</li><li>requestAnimationFrameæ¯•ç«Ÿæ˜¯webä¸Šcssçš„ç”¨æ³•ï¼Œåœ¨æ‰‹æœºä¸Šï¼ŒåŠ¨ç”»çš„æ•ˆæœæ¯”è¾ƒç”Ÿç¡¬ï¼Œå¦‚æœéœ€è¦â€˜å¼¹æ€§åŠ¨ç”»â€™ï¼Œâ€˜æ·¡å…¥æ·¡å‡ºâ€™ç­‰æ•ˆæœï¼Œåˆ™æ˜¯æ¯”è¾ƒéš¾ä»¥å®ç°çš„ï¼ˆéœ€è¦è¾…åŠ©å„ç§å‡½æ•°ï¼‰ã€‚</li><li><h5 id="2ã€setNativeProps"><a href="#2ã€setNativeProps" class="headerlink" title="2ã€setNativeProps"></a>2ã€setNativeProps</h5></li></ul><p>å¦‚æœæ‰§æ„ä½¿ç”¨ä¿®æ”¹stateçš„æ–¹å¼ï¼Œè§‰å¾—è¿™ç§æ–¹å¼æ›´ç¬¦åˆå½“å‰éœ€æ±‚å¯¹åŠ¨ç”»çš„æ§åˆ¶ï¼Œé‚£ä¹ˆåˆ™åº”å½“ä½¿ç”¨åŸç”Ÿç»„ä»¶çš„setNativePropsæ–¹æ³•æ¥åšå¯¹åº”å®ç°ï¼Œå®ƒä¼šç›´æ¥ä¿®æ”¹ç»„ä»¶åº•å±‚ç‰¹æ€§ï¼Œä¼šé‡ç»˜ç»„ä»¶ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿè¿œèƒœåŠ¨æ€ä¿®æ”¹ç»„ä»¶å†…è”styleçš„æ–¹æ³•ã€‚<br><br>æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸‹startAnimationæ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">startAnimation() &#123;</span><br><span class="line">  var count = 0;</span><br><span class="line">  while (++count &lt; 50) &#123;</span><br><span class="line">  requestAnimationFrame(() = &gt;&#123;</span><br><span class="line">  this.refs.image.setNativeProps(&#123;</span><br><span class="line">  style: &#123;</span><br><span class="line">  width: this.state.width++,</span><br><span class="line">  height: this.state.height++</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­this.refs.imageæŒ‡å‘çš„æ˜¯imageè§†å›¾ï¼Œæ•ˆæœæ¯”ä¸Šé¢çš„å¥½å¤šäº†ã€‚</p><h5 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h5><p>setNativePropsç›´æ¥ä¿®æ”¹ç»„ä»¶åº•å±‚ç‰¹æ€§ï¼Œä¸ä¼šé‡ç»˜ç»„ä»¶ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿè¿œèƒœåŠ¨æ€ä¿®æ”¹ç»„ä»¶å†…è”styleçš„æ–¹æ³•ã€‚</p><h5 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h5><ol><li>setNativePropså±äºåŸç”Ÿè§†å›¾çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŠ¨ç”»ï¼Œå•çº¯åªæ˜¯ä¸ºäº†è·Ÿè¸ªå®ƒçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸åˆæ—¶å®œã€‚</li><li>è¿˜æ˜¯å’Œä¸Šé¢ä¸€ç§æ–¹å¼ä¸€æ ·ï¼Œå¦‚æœéœ€è¦å®ç°â€˜å¼¹æ€§åŠ¨ç”»â€™ï¼Œâ€˜æ·¡å…¥æ·¡å‡ºâ€™ç­‰æ•ˆæœï¼Œåˆ™è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚</li></ol><h5 id="3ã€LayoutAnimation"><a href="#3ã€LayoutAnimation" class="headerlink" title="3ã€LayoutAnimation"></a>3ã€LayoutAnimation</h5><p>å½“å¸ƒå±€å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨å°†è§†å›¾è¿åŠ¨åˆ°å®ƒä»¬æ–°çš„ä½ç½®ä¸Šã€‚<br><br>ä¸€ä¸ªå¸¸ç”¨çš„è°ƒç”¨æ­¤APIçš„åŠæ³•æ˜¯è°ƒç”¨LayoutAnimation.configureNext(config)ï¼Œç„¶åè°ƒç”¨setStateã€‚<br><br>å…¶ä¸­confå‚æ•°æ ¼å¼å‚è€ƒï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">duration: 700,   //æŒç»­æ—¶é—´</span><br><span class="line">create: &#123;    //è‹¥æ˜¯æ–°å¸ƒå±€çš„åŠ¨ç”»ç±»å‹</span><br><span class="line">type: &apos;linear&apos;,  //çº¿æ€§æ¨¡å¼</span><br><span class="line">property: &apos;opacity&apos;  //åŠ¨ç”»å±æ€§ï¼Œé™¤äº†opacityè¿˜æœ‰ä¸€ä¸ªscaleXYå¯ä»¥é…ç½®</span><br><span class="line">&#125;,</span><br><span class="line">update: &#123;  //è‹¥æ˜¯å¸ƒå±€æ›´æ–°çš„åŠ¨ç”»ç±»å‹</span><br><span class="line">type: &apos;spring&apos;,   //å¼¹è·³æ¨¡å¼</span><br><span class="line">springDamping: 0.4  //å¼¹è·³é˜»å°¼ç³»æ•°</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­åŠ¨ç”»typeçš„ç±»å‹å¯æšä¸¾ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">spring //å¼¹è·³</span><br><span class="line">linear //çº¿æ€§</span><br><span class="line">easeInEaseOut //ç¼“å…¥ç¼“å‡º</span><br><span class="line">easeIn //ç¼“å…¥</span><br><span class="line">easeOut //ç¼“å‡º</span><br><span class="line">keyboard // é”®å…¥</span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ—¶ï¼Œå®‰å“å¹³å°ä½¿ç”¨LayoutAnimationåŠ¨ç”»å¿…é¡»åŠ ä¸Šè¿™ä¹ˆä¸€å¥ä»£ç (å¦åˆ™åŠ¨ç”»ä¼šå¤±æ•ˆ):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIManager.setLayoutAnimationEnabledExperimental &amp;&amp; UIManager.setLayoutAnimationEnabledExperimental(true);</span><br></pre></td></tr></table></figure><p>äºæ˜¯æˆ‘ä»¬ä¸€å¼€å§‹çš„åŠ¨ç”»å°±å¯ä»¥è¿™ä¹ˆæ¥å†™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">export default class demo2 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">w: 200,</span><br><span class="line">h: 20</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_onPress() &#123;</span><br><span class="line">LayoutAnimation.configureNext(&#123;</span><br><span class="line">duration: 700,</span><br><span class="line">create: &#123;</span><br><span class="line">type: &apos;linear&apos;,</span><br><span class="line">property: &apos;opacity&apos;</span><br><span class="line">&#125;,</span><br><span class="line">update: &#123;</span><br><span class="line">type: &apos;spring&apos;,</span><br><span class="line">springDamping: 0.4</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">this.setState(&#123;</span><br><span class="line">w: this.state.w + 30,</span><br><span class="line">h: this.state.h + 30</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">)</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·åŠ¨ç”»çµæ´»å’Œæµç•…å¤šäº†ï¼Œ<br>æˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„ä»…ä»…æ˜¯å±€éƒ¨æ›´æ–°çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ–°å¸ƒå±€è¢«åˆ›å»ºï¼ˆæœ‰æ–°ç»„å»ºåŠ å…¥åˆ°è§†å›¾ä¸Šï¼‰çš„æƒ…å†µå¦‚ä½•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">export default class demo3 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">showNewOne: false,</span><br><span class="line">w: 200,</span><br><span class="line">h: 20</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> _onPress() &#123;</span><br><span class="line">LayoutAnimation.configureNext(&#123;</span><br><span class="line">duration: 1200,</span><br><span class="line">create: &#123;</span><br><span class="line">type: &apos;linear&apos;,</span><br><span class="line">property: &apos;opacity&apos;  //æ³¨æ„è¿™é‡Œï¼Œæˆ‘ä»¬è®¾ç½®æ–°å¸ƒå±€è¢«åˆ›å»ºæ—¶çš„åŠ¨ç”»ç‰¹æ€§ä¸ºé€æ˜åº¦</span><br><span class="line">&#125;,</span><br><span class="line">update: &#123;</span><br><span class="line">type: &apos;spring&apos;,</span><br><span class="line">springDamping: 0.4</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">this.setState(&#123;w: this.state.w + 30, h: this.state.h + 30, showNewOne : true&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">let &#123; showNewOne &#125; = this.state;</span><br><span class="line">let newOne = showNewOne ?</span><br><span class="line">(</span><br><span class="line">&lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;new one&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">) : null;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&#123;newOne&#125;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4ã€Animated"><a href="#4ã€Animated" class="headerlink" title="4ã€Animated"></a>4ã€Animated</h5><p>é€šè¿‡Animatedæˆ‘ä»¬å¯ä»¥åœ¨ç¡®ä¿æ€§èƒ½è‰¯å¥½çš„å‰æä¸‹åˆ›é€ æ›´ä¸ºçµæ´»ä¸°å¯Œä¸”æ˜“ç»´æŠ¤çš„åŠ¨ç”»ã€‚<br><br>ä¸åŒäºä¸Šè¿°çš„åŠ¨ç”»å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬å¾—åœ¨ Animated.Viewã€Animated.Text æˆ– Animated.Image åŠ¨ç”»ç»„ä»¶ä¸Šè¿ç”¨ Animate æ¨¡å—çš„åŠ¨ç”»èƒ½åŠ›(å¦‚æœæœ‰åœ¨å…¶ä»–ç»„ä»¶ä¸Šçš„éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨Animated.createAnimatedComponentæ–¹æ³•æ¥å¯¹å…¶å®ƒç±»å‹çš„ç»„ä»¶åˆ›å»ºåŠ¨ç”»)<br><br>ä¸‹é¢æ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">AppRegistry,</span><br><span class="line">StyleSheet,</span><br><span class="line">Text,</span><br><span class="line">View,</span><br><span class="line">Easing,</span><br><span class="line">Animated,</span><br><span class="line">TouchableOpacity,</span><br><span class="line">&#125; from &apos;react-native&apos;</span><br><span class="line"></span><br><span class="line">const _animateHandler;</span><br><span class="line">export default class demo4 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">opacityAnmValue: new Animated.Value(0)</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">_animateHandler = Animated.timing(</span><br><span class="line">this.state.opacityAnmValue,</span><br><span class="line">&#123;</span><br><span class="line">toValue: 1,  //é€æ˜åº¦åŠ¨ç”»æœ€ç»ˆå€¼</span><br><span class="line">duration: 3000, </span><br><span class="line">easing: Easing.bezier(0.15,0.73,0.37,1.2) //ç¼“å†²å‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_onPress() &#123;</span><br><span class="line">_animateHandler.start &amp;&amp; _animateHandler.start()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity &gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">container: &#123;</span><br><span class="line">flex: 1,</span><br><span class="line">justifyContent: &apos;center&apos;,</span><br><span class="line">alignItems: &apos;center&apos;</span><br><span class="line">&#125;,</span><br><span class="line">content: &#123;</span><br><span class="line">justifyContent: &apos;center&apos;,</span><br><span class="line">backgroundColor: &apos;yellow&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">button: &#123;</span><br><span class="line">marginTop: 10,</span><br><span class="line">paddingVertical: 10,</span><br><span class="line">paddingHorizontal: 20,</span><br><span class="line">backgroundColor: &apos;black&apos;</span><br><span class="line">&#125;,</span><br><span class="line">buttonText: &#123;</span><br><span class="line">color: &apos;white&apos;,</span><br><span class="line">fontSize: 16,</span><br><span class="line">fontWeight: &apos;bold&apos;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»æŒ‰é’®å,Animated.Viewä¼šä»¥bezieræ›²çº¿å½¢å¼æ‰§è¡Œæ—¶é•¿3ç§’çš„é€æ˜åº¦åŠ¨ç”»(ç”±0åˆ°1):<br></p><p>1ã€ä»¥ new Animated.Value(0) å®ä¾‹åŒ–åŠ¨ç”»çš„åˆå§‹å€¼ç»™stateï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.state = &#123;</span><br><span class="line">//è®¾ç½®é€æ˜åº¦åŠ¨ç”»åˆå§‹å€¼</span><br><span class="line">opacityAnmValue: new Animated.Value(0)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€é€šè¿‡ Animated.timing æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŠ¨ç”»äº‹ä»¶ï¼Œåœ¨åç»­å¯ä»¥ä»¥ .start() æˆ– .stop() æ–¹æ³•æ¥å¼€å§‹/åœæ­¢è¯¥åŠ¨ç”»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">_animateHandler = Animated.timing(this.state.opacityAnmValue, &#123;</span><br><span class="line">toValue: 1,  //é€æ˜åº¦åŠ¨ç”»æœ€ç»ˆå€¼</span><br><span class="line">duration: 3000,   //åŠ¨ç”»æ—¶é•¿3000æ¯«ç§’</span><br><span class="line">easing: Easing.bezier(0.15, 0.73, 0.37, 1.2)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ç‚¹å‡»äº‹ä»¶ä¸­è§¦å‘äº†åŠ¨ç”»çš„.startæ–¹æ³•è®©å®ƒè·‘èµ·æ¥:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_onPress() &#123;</span><br><span class="line">_animateHandler.start &amp;&amp; _animateHandler.start()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>start æ–¹æ³•æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¼šåœ¨åŠ¨ç”»ç»“æŸæ—¶è§¦å‘ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå‚æ•° {finished: true/false}ï¼Œè‹¥åŠ¨ç”»æ˜¯æ­£å¸¸ç»“æŸçš„ï¼Œfinished å­—æ®µå€¼ä¸ºtrueï¼Œè‹¥åŠ¨ç”»æ˜¯å› ä¸ºè¢«è°ƒç”¨ .stop() æ–¹æ³•è€Œæå‰ç»“æŸçš„ï¼Œåˆ™ finished å­—æ®µå€¼ä¸ºfalseã€‚<br></p><p>3ã€åŠ¨ç”»çš„ç»‘å®šæ˜¯åœ¨ ä¸Šçš„ï¼Œæˆ‘ä»¬æŠŠå®ä¾‹åŒ–çš„åŠ¨ç”»åˆå§‹å€¼ä¼ å…¥ style ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åã€‚ã€‚ã€‚å°±æ²¡æœ‰ç„¶åäº†ï¼Œå¾ˆç®€å•å§ã€‚<br></p><p>è¿™é‡Œéœ€è¦è®²ä¸€ä¸‹çš„åº”è¯¥æ˜¯å®šä¹‰åŠ¨ç”»äº‹ä»¶çš„Animated.timing(animateValue, conf) æ–¹æ³•ï¼Œå…¶ä¸­è®¾ç½®å‚æ•°æ ¼å¼ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  duration: åŠ¨ç”»æŒç»­çš„æ—¶é—´ï¼ˆå•ä½æ˜¯æ¯«ç§’ï¼‰ï¼Œé»˜è®¤ä¸º500ã€‚</span><br><span class="line">  easingï¼šä¸€ä¸ªç”¨äºå®šä¹‰æ›²çº¿çš„æ¸å˜å‡½æ•°ã€‚é˜…è¯»Easingæ¨¡å—å¯ä»¥æ‰¾åˆ°è®¸å¤šé¢„å®šä¹‰çš„å‡½æ•°ã€‚iOSé»˜è®¤ä¸ºEasing.inOut(Easing.ease)ã€‚</span><br><span class="line">  delay: åœ¨ä¸€æ®µæ—¶é—´ä¹‹åå¼€å§‹åŠ¨ç”»ï¼ˆå•ä½æ˜¯æ¯«ç§’ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒæåŠçš„ Easing åŠ¨ç”»å‡½æ•°æ¨¡å—åœ¨ react-native/Libraries/Animated/src/ ç›®å½•ä¸‹ï¼Œè¯¥æ¨¡å—é¢„ç½®äº† linearã€easeã€elasticã€bezier ç­‰è¯¸å¤šç¼“åŠ¨ç‰¹æ€§ï¼Œæœ‰å…´è¶£å¯ä»¥å»äº†è§£ã€‚<br></p><p>å¦å¤–é™¤äº† Animated.timingï¼ŒAnimated è¿˜æä¾›äº†å¦å¤–ä¸¤ä¸ªåŠ¨ç”»äº‹ä»¶åˆ›å»ºæ¥å£ï¼š<br></p><p>1ã€Animated.spring(animateValue, conf) â€”â€” åŸºç¡€çš„å•æ¬¡å¼¹è·³ç‰©ç†æ¨¡å‹ï¼Œæ”¯æŒorigamiæ ‡å‡†ï¼Œconfå‚è€ƒï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  friction: æ§åˆ¶â€œå¼¹è·³ç³»æ•°â€ã€å¤¸å¼ ç³»æ•°ï¼Œé»˜è®¤ä¸º7ã€‚</span><br><span class="line">  tension: æ§åˆ¶é€Ÿåº¦ï¼Œé»˜è®¤40ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">AppRegistry,</span><br><span class="line">StyleSheet,</span><br><span class="line">Text,</span><br><span class="line">View,</span><br><span class="line">Easing,</span><br><span class="line">Animated,</span><br><span class="line">TouchableOpacity,</span><br><span class="line">&#125; from &apos;react-native&apos;</span><br><span class="line"></span><br><span class="line">let _animateHandler;</span><br><span class="line"></span><br><span class="line">export default class demo5 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">bounceValue : new Animated.Value(0)   //è®¾ç½®ç¼©æ”¾åŠ¨ç”»åˆå§‹å€¼</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">this.state.bounceValue.setValue(1.5);     // è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„åˆå§‹å€¼</span><br><span class="line">_animateHandler = Animated.spring(this.state.bounceValue, &#123;</span><br><span class="line">toValue: 1,</span><br><span class="line">friction: 8,</span><br><span class="line">tension: 35</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_onPress() &#123;</span><br><span class="line">_animateHandler.start &amp;&amp; _animateHandler.start()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_reload() &#123;</span><br><span class="line">AppRegistry.reload()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 20, transform: [&#123;scale: this.state.bounceValue&#125;]&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._reload&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">container: &#123;</span><br><span class="line">flex: 1,</span><br><span class="line">justifyContent: &apos;center&apos;,</span><br><span class="line">alignItems: &apos;center&apos;</span><br><span class="line">&#125;,</span><br><span class="line">content: &#123;</span><br><span class="line">justifyContent: &apos;center&apos;,</span><br><span class="line">backgroundColor: &apos;yellow&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">button: &#123;</span><br><span class="line">marginTop: 10,</span><br><span class="line">paddingVertical: 10,</span><br><span class="line">paddingHorizontal: 20,</span><br><span class="line">backgroundColor: &apos;black&apos;</span><br><span class="line">&#125;,</span><br><span class="line">buttonText: &#123;</span><br><span class="line">color: &apos;white&apos;,</span><br><span class="line">fontSize: 16,</span><br><span class="line">fontWeight: &apos;bold&apos;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç•™æ„è¿™é‡Œæˆ‘ä»¬ç”¨äº† animateValue.setValue(1.5) æ–¹æ³•æ¥ä¿®æ”¹åŠ¨ç”»å±æ€§å€¼ã€‚<br></p><p>2ã€Animated.decay(animateValue, conf) â€”â€” ä»¥ä¸€ä¸ªåˆå§‹é€Ÿåº¦å¼€å§‹å¹¶ä¸”é€æ¸å‡æ…¢åœæ­¢ï¼Œconfå‚è€ƒï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  velocity: èµ·å§‹é€Ÿåº¦ï¼Œå¿…å¡«å‚æ•°ã€‚</span><br><span class="line">  deceleration: é€Ÿåº¦è¡°å‡æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0.997ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">let _animateHandler;</span><br><span class="line">export default class demo6 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">bounceValue : new Animated.Value(0.1)</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line"> _animateHandler = Animated.decay(this.state.bounceValue, &#123;</span><br><span class="line">toValue: 0.2,</span><br><span class="line">velocity: 0.1</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_onPress() &#123;</span><br><span class="line">_animateHandler.start &amp;&amp; _animateHandler.start()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;Animated.View ref=&quot;view&quot; style=&#123;[styles.content, &#123;width: 200, height: 30, transform: [&#123;scale: this.state.bounceValue&#125;]&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºæœ€åä»‹ç»çš„ä¸¤ä¸ªåŠ¨ç”»æ•ˆæœï¼Œå¯èƒ½å¾—ç†Ÿæ‚‰ä¸€äº›ç‰©ç†ã€æ•°å­¦æ¨¡å‹æ‰èƒ½æ›´å¥½åœ°æ¥åšæ§åˆ¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå’±ä»¬ç›´æ¥ä½¿ç”¨ Animated.timing å°±è¶³å¤Ÿæ»¡è¶³éœ€æ±‚äº†ã€‚<br></p><h5 id="ç›‘å¬åŠ¨ç”»"><a href="#ç›‘å¬åŠ¨ç”»" class="headerlink" title="ç›‘å¬åŠ¨ç”»"></a>ç›‘å¬åŠ¨ç”»</h5><p>1ã€æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨åŠ¨ç”»çš„è¿‡ç¨‹ä¸­ç›‘å¬åˆ°æŸåŠ¨ç”»æ—¶åˆ»çš„å±æ€§å€¼ï¼Œå¯ä»¥é€šè¿‡animateValue.stopAnimation(callback) æˆ– animateValue.addListener(callback) æ¥å®ç°<br>å…¶ä¸­stopAnimationä¼šåœæ­¢å½“å‰åŠ¨ç”»å¹¶åœ¨å›è°ƒå‡½æ•°ä¸­è¿”å›ä¸€ä¸ª{value : number}å¯¹è±¡ï¼Œvalueå¯¹åº”æœ€åä¸€åˆ»çš„åŠ¨ç”»å±æ€§å€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">const _animateHandler, _isFirsPress = 0;</span><br><span class="line">export default class demo7 extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">opacityAnmValue : new Animated.Value(0)   //è®¾ç½®é€æ˜åº¦åŠ¨ç”»åˆå§‹å€¼</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">_animateHandler = Animated.timing(</span><br><span class="line">this.state.opacityAnmValue, &#123;</span><br><span class="line">toValue: 1,</span><br><span class="line">duration: 6000,</span><br><span class="line">easing: Easing.linear</span><br><span class="line">&#125;</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_onPress() &#123;</span><br><span class="line">if(_isFirstPress === 0) &#123;</span><br><span class="line">_animateHandler.start &amp;&amp; _animateHandler.start();</span><br><span class="line">_isFirsPress = 1</span><br><span class="line">&#125; else &#123;</span><br><span class="line">this.state.opacityAnmValue.stopAnimation(value =&gt; &#123;</span><br><span class="line">Alert.alert(</span><br><span class="line">&quot;åŠ¨ç”»ç»“æŸï¼Œæœ€ç»ˆå€¼&quot;,</span><br><span class="line">JSON.stringify(value),</span><br><span class="line">[</span><br><span class="line">&#123;text: &apos;OK&apos;, onPress: () =&gt; &#123;&#125;&#125;</span><br><span class="line">]</span><br><span class="line">)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return(</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;Animated.View style=&#123;[styles.content, &#123;width: 200, height: 20, opacity: this.state.opacityAnmValue&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br><span class="line">&lt;TouchableOpacity onPress=&#123;this._onPress&#125;&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;Press me!&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;TouchableOpacity &gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æœ¬æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€ŒaddListeneræ–¹æ³•ä¼šåœ¨åŠ¨ç”»çš„æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨callbackå›è°ƒå‡½æ•°ï¼Œæä¾›ä¸€ä¸ªæœ€è¿‘çš„å€¼ä½œä¸ºå‚æ•°ã€‚<br></p><p>2ã€æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨æŸä¸ªäº¤äº’äº‹ä»¶ï¼ˆç‰¹åˆ«æ˜¯æ‰‹åŠ¿ï¼‰ä¸­æ›´çµæ´»åœ°æ•è·æŸä¸ªäº‹ä»¶å¯¹è±¡å±æ€§å€¼ï¼Œå¹¶åŠ¨æ€èµ‹äºˆæŸä¸ªå˜é‡ï¼Œå¯¹äºè¿™ç§éœ€æ±‚å¯ä»¥é€šè¿‡ Animated.event æ¥å®ç°ã€‚<br></p><p>å®ƒæ¥å—ä¸€ä¸ªæ•°ç»„ä¸ºå‚æ•°ï¼Œæ•°ç»„ä¸­çš„å±‚æ¬¡å¯¹åº”ç»‘å®šäº‹ä»¶å‚æ•°çš„ç›¸åº”æ˜ å°„ï¼Œå¬ç€æœ‰ç‚¹ç»•ï¼Œçœ‹ä¾‹å­å°±å¾ˆå¥½ç†è§£äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var scrollX = 0,</span><br><span class="line">  pan = &#123;</span><br><span class="line">x: 0,</span><br><span class="line">y: 0</span><br><span class="line">  &#125;;</span><br><span class="line">//...</span><br><span class="line">onScroll : Animated.event(</span><br><span class="line">  [&#123;nativeEvent: &#123;contentOffset: &#123;x: scrollX&#125;&#125;&#125;]   // scrollX = e.nativeEvent.contentOffset.x</span><br><span class="line">)</span><br><span class="line">onPanResponderMove : Animated.event([</span><br><span class="line">  null,          // å¿½ç•¥åŸç”Ÿäº‹ä»¶</span><br><span class="line">  &#123;dx: pan.x, dy: pan.y&#125;     // ä»gestureStateä¸­è§£æå‡ºdxå’Œdyçš„å€¼</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>onScrollæ˜¯ç»‘å®šç»™æŸä¸ªç»„ä»¶çš„æ»šåŠ¨äº‹ä»¶ï¼Œè€ŒonPanResponderMoveæ˜¯ PanResponder æ¨¡å—ä¸‹çš„å“åº”äº‹ä»¶ã€‚<br></p><p>æ‹¿ä¸Šæ–¹onPanResponderMoveçš„ä¾‹å­æ¥è®²ï¼Œè¯¥äº‹ä»¶æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•° e å’Œ gestureStateï¼Œå…¶ä¸­gestureStateçš„å±æ€§æœ‰ï¼š<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">stateID - è§¦æ‘¸çŠ¶æ€çš„IDã€‚åœ¨å±å¹•ä¸Šæœ‰è‡³å°‘ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªIDä¼šä¸€ç›´æœ‰æ•ˆã€‚</span><br><span class="line">moveX - æœ€è¿‘ä¸€æ¬¡ç§»åŠ¨æ—¶çš„å±å¹•æ¨ªåæ ‡</span><br><span class="line">moveY - æœ€è¿‘ä¸€æ¬¡ç§»åŠ¨æ—¶çš„å±å¹•çºµåæ ‡</span><br><span class="line">x0 - å½“å“åº”å™¨äº§ç”Ÿæ—¶çš„å±å¹•åæ ‡</span><br><span class="line">y0 - å½“å“åº”å™¨äº§ç”Ÿæ—¶çš„å±å¹•åæ ‡</span><br><span class="line">dx - ä»è§¦æ‘¸æ“ä½œå¼€å§‹æ—¶çš„ç´¯è®¡æ¨ªå‘è·¯ç¨‹</span><br><span class="line">dy - ä»è§¦æ‘¸æ“ä½œå¼€å§‹æ—¶çš„ç´¯è®¡çºµå‘è·¯ç¨‹</span><br><span class="line">vx - å½“å‰çš„æ¨ªå‘ç§»åŠ¨é€Ÿåº¦</span><br><span class="line">vy - å½“å‰çš„çºµå‘ç§»åŠ¨é€Ÿåº¦</span><br><span class="line">numberActiveTouches - å½“å‰åœ¨å±å¹•ä¸Šçš„æœ‰æ•ˆè§¦æ‘¸ç‚¹çš„æ•°é‡</span><br></pre></td></tr></table></figure><p>æ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">class AwesomeProject extends Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">super(props);</span><br><span class="line">this.state = &#123;</span><br><span class="line">transY : new Animated.Value(0)</span><br><span class="line">&#125;;</span><br><span class="line">this._panResponder = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">componentWillMountå¤„é¢„å…ˆåˆ›å»ºæ‰‹åŠ¿å“åº”å™¨</span><br><span class="line">componentWillMount() &#123;</span><br><span class="line">this._panResponder = PanResponder.create(&#123;</span><br><span class="line">onStartShouldSetPanResponder: this._returnTrue.bind(this),</span><br><span class="line">onMoveShouldSetPanResponder: this._returnTrue.bind(this),</span><br><span class="line">//æ‰‹åŠ¿å¼€å§‹å¤„ç†</span><br><span class="line">//æ‰‹åŠ¿ç§»åŠ¨æ—¶çš„å¤„ç†</span><br><span class="line">onPanResponderMove: Animated.event([null, &#123;</span><br><span class="line">dy : this.state.transY</span><br><span class="line">&#125;])</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_returnTrue(e, gestureState) &#123;</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return (</span><br><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">&lt;Animated.View style=&#123;[styles.content, &#123;width: this.state.w, height: this.state.h,</span><br><span class="line">transform: [&#123;</span><br><span class="line">  translateY : this.state.transY</span><br><span class="line">&#125;]</span><br><span class="line">&#125;]&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;[&#123;textAlign: &apos;center&apos;&#125;]&#125;&gt;Hi, here is VaJoy&lt;/Text&gt;</span><br><span class="line">&lt;/Animated.View&gt;</span><br><span class="line">&lt;TouchableOpacity&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125; &#123;...this._panResponder.panHandlers&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;control&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line"></span><br><span class="line">&lt;TouchableOpacity&gt;</span><br><span class="line">&lt;View style=&#123;styles.button&#125;&gt;</span><br><span class="line">&lt;Text style=&#123;styles.buttonText&#125;&gt;å¿½ç•¥æ­¤æŒ‰é’®&lt;/Text&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br><span class="line">&lt;/View&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React Native </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React Nativeè§£å†³&#39;libgnustl_shared.so is 32-bit instead if 64-bit&#39;æŠ¥é”™</title>
      <link href="/2019/01/15/rn_02/"/>
      <url>/2019/01/15/rn_02/</url>
      
        <content type="html"><![CDATA[<p>React Nativeé¡¹ç›®åœ¨64ä½Androidæ‰‹æœºä¸Šè¿è¡Œï¼Œä¼šæç¤º<br>â€œ/data/data/com.xxx.xxx/lib-main/libgnustl_shared.soâ€is 32-bit instead of 64-bitè¿™ä¸ªé”™è¯¯ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯å–æ¶ˆæ‰æ‰€æœ‰64ä½çš„.soæ–‡ä»¶ï¼Œå…¨éƒ¨åŠ è½½32ä½çš„å°±å¯ä»¥äº†ï¼Œä¸‹é¢æ˜¯æ­¥éª¤</p><ol><li>åœ¨é¡¹ç›®çš„æ ¹éƒ¨å½•çš„gradle.propertiesé‡Œé¢æ·»åŠ ä¸€è¡Œä»£ç ï¼Œandroid.useDeprecatedNdk = true.</li><li>åœ¨build.gradleæ–‡ä»¶é‡Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">...</span><br><span class="line">defaultConfig &#123;</span><br><span class="line">...</span><br><span class="line">ndk &#123;</span><br><span class="line">abiFilters: &quot;armeabi-v7a&quot;,&quot;x86&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">packagingOptions &#123;</span><br><span class="line">exclude &quot;lib/arm64-v8a/librealm-jni.so&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React Native </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React Naitve é”™è¯¯é›†é”¦</title>
      <link href="/2019/01/15/rn_03/"/>
      <url>/2019/01/15/rn_03/</url>
      
        <content type="html"><![CDATA[<p>1ã€åœ¨androidåä¸ºæ‰‹æœºä¸Šè¿è¡ŒReact-nativeå·¥ç¨‹æ—¶å‡ºç°äº†å¦‚ä¸‹é”™:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŠ¥é”™ï¼šunable to load script from assets &apos;index.android.bundle&apos;, make sure your bundle is packaged correctly or youuâ€™re running a packager server</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š<br><br>    1ã€åœ¨Android/app/src/mainç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„assetsæ–‡ä»¶å¤¹<br><br>    2ã€è¿›å…¥é¡¹ç›®è·Ÿç›®å½•æ‰§è¡Œä¸‹é¢ä»£ç :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">react-native bundle --platform android --dev false --entry-file index.android.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res/</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿è¡Œå®Œæ¯•åassetsæ–‡ä»¶å¤¹ä¸‹ä¼šå¤šå‡ºindex.android.bundleå’Œindex.android.bundle.metaä¸¤ä¸ªæ–‡ä»¶</span><br></pre></td></tr></table></figure><p>é‡æ–°è¿è¡Œ<br></p><p>æ€»ç»“:<br><br>index.android.bundleæ˜¯ç”¨æ¥è°ƒç”¨åŸç”Ÿæ§ä»¶çš„jsè„šæœ¬ï¼Œæ¯æ¬¡å½“æ”¹å˜index.android.js,éƒ½éœ€è¦ä½¿ç”¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µï¼Œæ¥åŠæ—¶çš„æ›´æ–°index.android.bundleæ–‡ä»¶ï¼Œç„¶åæ‰“åŒ…æ‰å¯ä»¥æŠŠæ–°çš„index.android.jsåº”ç”¨ä¸Šï¼Œæ‰€ä»¥æ²¡æœ‰index.android.bundleæ–‡ä»¶æ—¶ï¼ŒReact-Nativeé¡¹ç›®æ—¶æ— æ³•è¿è¡Œçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> React Native </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Reactç”Ÿå‘½å‘¨æœŸ</title>
      <link href="/2019/01/15/react_01/"/>
      <url>/2019/01/15/react_01/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">reactçš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–é˜¶æ®µã€æ›´æ–°é˜¶æ®µã€é”€æ¯é˜¶æ®µã€é”™è¯¯å¤„ç†é˜¶æ®µ</span><br><span class="line"></span><br><span class="line">#### åˆå§‹åŒ–é˜¶æ®µ</span><br><span class="line">- constructor</span><br><span class="line">- static getDerivedStateFromProps</span><br><span class="line">- componentWillMount()</span><br><span class="line">- render</span><br><span class="line">- componentDidmount()</span><br><span class="line"></span><br><span class="line">#### æ›´æ–°é˜¶æ®µ</span><br><span class="line">- componentWillReceiveProps</span><br><span class="line">- static getDerivedStateFromprops()</span><br><span class="line">- shouldComponentUpdate()</span><br><span class="line">- componentWillUpdate()</span><br><span class="line">- render()</span><br><span class="line">- getSnapshotBeforeUpdate()</span><br><span class="line">- componentDidUpdate()</span><br><span class="line"></span><br><span class="line">#### é”€æ¯é˜¶æ®µ</span><br><span class="line">- compinentWillUnmount()</span><br><span class="line"></span><br><span class="line">#### é”™è¯¯å¤„ç†</span><br><span class="line">- componentDidCatch()</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–é˜¶æ®µè¯¦ç»†</span><br><span class="line">#### constructor //è‡ªåŠ¨æ‰§è¡Œï¼Œä¸€å¼€å§‹å°±ä¼šæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">Reactç»„ä»¶çš„æ„é€ å‡½æ•°åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚åœ¨å®ç°React.Componentæ„é€ å‡½æ•°æ—¶ï¼Œéœ€è¦ç°åœ¨æ·»åŠ å…¶ä»–</span><br><span class="line">å†…å®¹å‰ï¼Œè°ƒç”¨super(props)ï¼Œç”¨æ¥å°†çˆ¶ç»„ä»¶ä¼ æ¥çš„propsç»‘å®šåˆ°è¿™ä¸ªç±»ä¸­ï¼Œä½¿ç”¨this.propså°†ä¼šå¾—åˆ°ã€‚</span><br><span class="line"></span><br><span class="line">æ­¥å­å•Šè¿™é‡Œç”Ÿå‘½æˆ–è€…æ‰§è¡Œäº‹ä»¶</span><br><span class="line"></span><br><span class="line">constructorä¸­åº”å½“åšäº›åˆå§‹åŒ–çš„åŠ¨ä½œï¼Œå¦‚ï¼šåˆå§‹åŒ–stateï¼Œå°†æ—¶é—´ç»‘å®šåˆ°ç±»å®ä¾‹ä¸Šï¼Œä½†ä¹Ÿä¸è¦ä½¿ç”¨</span><br><span class="line">setState()ã€‚å¦‚æœæ²¡æœ‰å¿…è¦åˆå§‹åŒ–stateæˆ–ç»‘å®šæ–¹æ³•ï¼Œåˆ™ä¸éœ€è¦æ„é€ constructorï¼Œæˆ–è€…æŠŠè¿™ä¸ªç»„ä»¶</span><br><span class="line">æ¢æˆçº¯å‡½æ•°å†™æ³•ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### static getDerivedStateFromProps(nextprops) //è‡ªåŠ¨æ‰§è¡Œï¼Œå¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¾“å‡ºå‚æ•°ä¸ºæ–°å€¼</span><br><span class="line"></span><br><span class="line">getDerivedStateFromPropsæ˜¯react16.3ä¹‹åæ–°å¢ï¼Œåœ¨ç»„ä»¶å®ä¾‹åŒ–åï¼Œå’Œæ¥å—æ–°çš„propsåè¢«è°ƒç”¨ã€‚</span><br><span class="line">ä»–å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›nullè¡¨ç¤ºæ–°çš„propsä¸éœ€è¦ä»»ä½•stateçš„æ›´æ–°ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœæ˜¯ç”±äºçˆ¶ç»„ä»¶çš„propsæ›´æ”¹ï¼Œæ‰€å¸¦æ¥çš„é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚è°ƒç”¨setState()ä¸ä¼šè§¦å‘getDerivedStateFromProps()</span><br><span class="line"></span><br><span class="line">ä¹‹å‰è¿™é‡Œéƒ½æ˜¯ä½¿ç”¨constructor + componentWillRecievePropså®Œæˆç›¸åŒçš„åŠŸèƒ½çš„</span><br><span class="line"></span><br><span class="line">#### componentWillMount() //render()å‰è°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹stateè‡ªåŠ¨æ‰§è¡Œï¼Œå³å°†æŒ‚è½½ç»„ä»¶</span><br><span class="line"></span><br><span class="line">componentWillMount()å°†åœ¨Reactæœªæ¥ç‰ˆæœ¬ä¸­è¢«å¼ƒç”¨ï¼Œå®˜æ–¹éƒ½å»ºè®®ä½¿ç”¨componentDidMount()ä»£æ›¿ã€‚è¿™ä¸ª</span><br><span class="line">æ–¹æ³•æ˜¯ç”¨äºåœ¨æœåŠ¡å™¨æ¸²æŸ“ä¸Šçš„å”¯ä¸€æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å› ä¸ºæ˜¯åœ¨æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼Œä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥ç›´æ¥åŒæ­¥ä¿®æ”¹stateçš„åœ°æ–¹</span><br><span class="line"></span><br><span class="line">#### render() //ç›´æ¥æ‰§è¡Œï¼Œå¿…é¡»è¦æœ‰çš„ï¼Œä¸€èˆ¬è¿”å›htmlä»£ç </span><br><span class="line"></span><br><span class="line">render()æ–¹æ³•æ˜¯å¿…éœ€çš„ã€‚å½“ä»–è¢«è°ƒç”¨æ—¶ï¼Œä»–å°†è®¡ç®—this.propså’Œthis.stateï¼Œå¹¶è¿”å›ä»¥ä¸‹ä¸€ç§ç±»å‹ï¼š</span><br><span class="line">1ã€Reactå…ƒç´ ã€‚é€šè¿‡jsxåˆ›å»ºï¼Œæ—¢å¯ä»¥æ—¶domå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚</span><br><span class="line">2ã€å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚ä»–ä»¬å°†ä¼šä»¥æ–‡æœ¬èŠ‚ç‚¹å½¢å¼æ¸²æŸ“åˆ°domä¸­</span><br><span class="line">3ã€Portalsã€‚react 16ç‰ˆæœ¬ä¸­æå‡ºçš„æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç»„ä»¶è„±ç¦»çˆ¶ç»„ä»¶å±‚çº§ç›´æ¥æŒ‚è½½åœ¨DOMæ ‘çš„ä»»ä½•ä½ç½®ã€‚</span><br><span class="line">4ã€nullï¼Œä»€ä¹ˆä¹Ÿä¸æ¸²æŸ“</span><br><span class="line">5ã€å¸ƒå°”å€¼ã€‚ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“ã€‚</span><br><span class="line"></span><br><span class="line">å½“è¿”å›nullï¼Œfalseï¼ŒReactDOM.findDOMNode(this)å°†ä¼šè¿”å›nullï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ¸²æŸ“</span><br><span class="line"></span><br><span class="line">render()æ–¹æ³•å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä»–ä¸åº”è¯¥æ”¹å˜stateï¼Œä¹Ÿä¸èƒ½ç›´æ¥å’Œæµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼Œåº”è¯¥å°†äº‹ä»¶</span><br><span class="line">æ”¾åœ¨å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ã€‚å¦‚æœshouldComponentUpdate()è¿”å›falseï¼Œrender()ä¸ä¼šè¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">#### componentDidMount()  //ç›´æ¥æ‰§è¡Œï¼Œå¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œç¬¬ä¸‰æ–¹å®ä¾‹åŒ–ï¼Œæ‹¿åˆ°çœŸå®</span><br><span class="line">domï¼Œå†™æ­»çš„æ•°æ®å¯ä»¥ç›´æ¥å†™åœ¨è¿™é‡Œï¼Œå¦‚æœæ˜¯è·å–åˆ°çš„ä¼šå˜å¾—æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®šæ—¶å™¨ï¼Œä¸è¦çš„è¯å‡½æ•°</span><br><span class="line">ä¸€ç›´å†è§¦å‘ï¼Œä¼šå¯¼è‡´æ›´æ–°ä¸äº†è§†å›¾ï¼Œéœ€è¦åœ¨domå…ƒç´ æ›´æ–°å®Œä¹‹åæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">componentDidMountåœ¨ç»„ä»¶è¢«è£…é…åç«‹å³è°ƒç”¨ã€‚åˆå§‹åŒ–ä½¿å¾—DOMèŠ‚ç‚¹åº”è¯¥è¿›è¡Œåˆ°è¿™é‡Œ</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">æ›´æ–°é˜¶æ®µ</span><br><span class="line"></span><br><span class="line">#### componentWillReceiveProps()/UNSAFE_componentWillReceiveProps(nextProps) //æ”¹å˜stateæˆ–è€…propsæ—¶è§¦å‘</span><br><span class="line"></span><br><span class="line">å®˜æ–¹å»ºè®®ä½¿ç”¨getDerivedStateFromPropså‡½æ•°æ›¿ä»£æ­¤å‡½æ•°ã€‚å½“ç»„ä»¶æŒ‚è½½åï¼Œæ¥æ”¶åˆ°æ–°çš„propså</span><br><span class="line">ä¼šè¢«è°ƒç”¨ã€‚å¦‚æœéœ€è¦æ›´æ–°stateæ¥å“åº”propsçš„æ›´æ”¹ï¼Œåˆ™å¯ä»¥è¿›è¡Œthis.propså’ŒnextPropsçš„æ¯”è¾ƒï¼Œ</span><br><span class="line">å¹¶åœ¨æ­¤æ–¹æ³•ä¸­ä½¿ç”¨this.setState()</span><br><span class="line"></span><br><span class="line">å¦‚æœçˆ¶ç»„ä»¶ä¼šè®©è¿™ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span><br><span class="line"></span><br><span class="line">Reactä¸ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–propsæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è°ƒç”¨this.setStateä¹Ÿä¸ä¼šè§¦å‘</span><br><span class="line"></span><br><span class="line">#### shouldComponentUpdate(nextprops, nextstate) //å‚æ•°ä¸ºæ–°çš„çŠ¶æ€å’Œå±æ€§ï¼Œå¦‚æœè¿”å›å€¼ä¸ºfalseï¼ŒçŠ¶æ€</span><br><span class="line">æ”¹å˜ï¼Œè§†å›¾ä¸æ›´æ–°ï¼Œæ•°æ®æ”¹å˜æ—¶è§¦å‘ï¼Œæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ä¹‹ä¸€</span><br><span class="line"></span><br><span class="line">è°ƒç”¨shouldComponentUpdateä½¿ReactçŸ¥é“ï¼Œç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—stateå’Œpropsçš„å½±å“ã€‚é»˜è®¤æ¯ä¸ªçŠ¶</span><br><span class="line">æ€çš„æ›´æ”¹éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä¿æŒè¿™ä¸ªé»˜è®¤è¡Œä¸ºã€‚</span><br><span class="line"></span><br><span class="line">åœ¨æ¸²æŸ“æ–°çš„propsæˆ–stateå‰ï¼ŒshouldComponentUpdateä¼šè¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨</span><br><span class="line">åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šåœ¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚è¿”å›falseä¸ä¼šé˜»æ­¢å­ç»„ä»¶åœ¨stateæ›´æ”¹æ—¶é‡æ–°æ¸²æŸ“ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœshouldComponentUpdate()è¿”å›falseï¼ŒcomponentWillUpdate,renderå’ŒcomponentDidUpdateä¸ä¼šè¢«è°ƒç”¨</span><br><span class="line"></span><br><span class="line">UNSAFE_componentWillUpdate(nextprops, nextstate) //æ¸²æŸ“æ–°çš„æ•°æ®æ—¶è°ƒç”¨</span><br><span class="line"></span><br><span class="line">åœ¨æ¸²æŸ“æ–°çš„stateæˆ–propsæ—¶ï¼ŒUNSAFE_componentWillUpdateä¼šè¢«è°ƒç”¨ï¼Œå°†æ­¤ä½œä¸ºåœ¨æ›´æ–°å‘ç”Ÿä¹‹å‰</span><br><span class="line">è¿›è¡Œå‡†å¤‡çš„æœºä¼šã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨è¿™é‡Œæ”¹å˜æ•°æ®ä¼šå¯¼è‡´æ­»å¾ªç¯ï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰å¤ªå¤§çš„å®é™…ä½œç”¨</span><br><span class="line"></span><br><span class="line">ä¸èƒ½åœ¨è¿™é‡Œä½¿ç”¨this.setStae()ï¼Œä¹Ÿä¸èƒ½åšä¼šè§¦å‘è§†å›¾æ›´æ–°çš„æ“ä½œã€‚å¦‚æœéœ€è¦æ›´æ–°stateæˆ–propsï¼Œ</span><br><span class="line">è°ƒç”¨getDerivedFromProps.</span><br><span class="line"></span><br><span class="line">#### getsnapshotBeforeUpdate() //æ–°çš„æ•°æ®æ¸²æŸ“å‰è°ƒç”¨ï¼Œå¯ä»¥è®°å½•scrollæ»šåŠ¨æ¡</span><br><span class="line"></span><br><span class="line">åœ¨react render()åçš„è¾“å‡ºè¢«æ¸²æŸ“åˆ°DOMä¹‹å‰è¢«è°ƒç”¨ã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶èƒ½å¤Ÿåœ¨å®ƒä»¬è¢«æ½œåœ¨æ›´æ”¹ä¹‹å‰æ•</span><br><span class="line">è·å½“å‰å€¼ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()</span><br><span class="line"></span><br><span class="line">#### componentDidUpdate( prevprops,prevstate,snapshot )//ç¬¬ä¸‰ä¸ªå‚æ•°æ¥è‡ªgetSnapshopBeforeUpdate()å‡½æ•°çš„è¿”å›å€¼</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">é”€æ¯é˜¶æ®µ</span><br><span class="line">componentWillUnmount()// è¿domç»“æ„éƒ½ä¼šæ¸…é™¤æ‰</span><br><span class="line"></span><br><span class="line">åœ¨ç»„ä»¶è¢«å¸è½½å¹¶é”€æ¯ä¹‹å‰ç«‹å³è¢«è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†ï¼Œä¾‹å¦‚ä½¿å®šæ—¶å™¨æ— æ•ˆï¼Œå–æ¶ˆç½‘</span><br><span class="line">ç»œè¯·æ±‚æˆ–æ¸…ç†åœ¨componentDidMountä¸­åˆ›å»ºçš„ä»»ä½•ç›‘å¬</span><br><span class="line"></span><br><span class="line">componentDidCatch(err, info)</span><br><span class="line"></span><br><span class="line">å‡ºé”™æ—¶é¡µé¢ä¸ä¼šå´©æºƒï¼Œä½†æ˜¯ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºé”™è¯¯</span><br><span class="line">é”™è¯¯è¾¹ç•Œæ˜¯Reactç»„ä»¶ï¼Œå¯ä»¥åœ¨å…¶å­ç»„ä»¶æ ‘ä¸­çš„ä»»ä½•ä½ç½®æ•è·jsé”™è¯¯ï¼Œè®°å½•è¿™äº›é”™è¯¯å¹¶æ˜¾ç¤ºå›é€€uiï¼Œ</span><br><span class="line">è€Œä¸æ˜¯å´©æºƒçš„ç»„ä»¶æ ‘ã€‚é”™è¯¯è¾¹ç•Œåœ¨æ¸²æŸ“æœŸé—´ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥åŠæ•´ä¸ªæ ‘ä¸‹çš„æ„é€ å‡½æ•°ä¸­æ•è·é”™è¯¯ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœç±»ç»„ä»¶å®šä¹‰äº†æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåˆ™å®ƒå°†æˆé”™è¯¯è¾¹ç•Œã€‚åœ¨å®ƒä¸­è°ƒç”¨setState()å¯ä»¥è®©ä½ åœ¨ä¸‹é¢</span><br><span class="line">çš„æ ‘ä¸­æ•è·æœªå¤„ç†çš„JavaScripté”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªåå¤‡UIã€‚åªèƒ½ä½¿ç”¨é”™è¯¯è¾¹ç•Œä»æ„å¤–å¼‚å¸¸ä¸­æ¢å¤; </span><br><span class="line">ä¸è¦è¯•å›¾å°†å®ƒä»¬ç”¨äºæ§åˆ¶æµç¨‹ã€‚</span><br><span class="line"></span><br><span class="line">é”™è¯¯è¾¹ç•Œåªä¼šæ•è·æ ‘ä¸­ä¸‹é¢ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚é”™è¯¯è¾¹ç•Œæœ¬èº«ä¸èƒ½æ•è·é”™è¯¯ã€‚</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Androidç‰ˆæœ¬åç§°ã€ç‰ˆæœ¬å·ã€API levelå¯¹åº”å…³ç³»</title>
      <link href="/2019/01/15/android_01/"/>
      <url>/2019/01/15/android_01/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>-</th><th>Code name</th><th>Version</th><th>API level</th></tr></thead><tbody><tr><td>1</td><td>no code name</td><td>1.0</td><td>API level 1</td></tr><tr><td>2</td><td>no code name</td><td>1.1</td><td>API level 2</td></tr><tr><td>3</td><td>Cupcake</td><td>1.5</td><td>API level 3,NDK 1</td></tr><tr><td>4</td><td>Donut</td><td>1.6</td><td>API level 4,NDK 2</td></tr><tr><td>5</td><td>Eclair</td><td>2.0</td><td>API level 5</td></tr><tr><td>6</td><td>Eclair</td><td>2.0.1</td><td>API level 6</td></tr><tr><td>7</td><td>Eclair</td><td>2.1</td><td>API level 7,NDK3</td></tr><tr><td>8</td><td>Froyo</td><td>2.2.x</td><td>API level 8,NDK 4</td></tr><tr><td>9</td><td>Gingerbread</td><td>2.3-2.3.2</td><td>API level 9,NDK5</td></tr><tr><td>10</td><td>Gingerbread</td><td>2.3.3-2.3.7</td><td>API level 10</td></tr><tr><td>11</td><td>Honeycomb</td><td>3.0</td><td>API level 11</td></tr><tr><td>12</td><td>Honeycomb</td><td>3.1</td><td>API level 12,NDK 6</td></tr><tr><td>13</td><td>Honeycomb</td><td>3.2x</td><td>API level 13</td></tr><tr><td>14</td><td>Ice Cream Sandwich</td><td>4.0.1-4.0.2</td><td>API level 14,NDK 7</td></tr><tr><td>15</td><td>Ice Cream Sandwich</td><td>4.0.3-4.0.4</td><td>API level 15,NDK 8</td></tr><tr><td>16</td><td>Jelly Bean</td><td>4.1x</td><td>API level 16</td></tr><tr><td>17</td><td>Jelly Bean</td><td>4.2x</td><td>API level 17</td></tr><tr><td>18</td><td>Jelly Bean</td><td>4.3x</td><td>API level 18</td></tr><tr><td>19</td><td>Jelly Bean</td><td>4.4-4.4.4</td><td>API level 19</td></tr><tr><td>20</td><td>Lollipop</td><td>5.0</td><td>API level 21</td></tr><tr><td>21</td><td>Lollipop</td><td>5.1</td><td>API level 22</td></tr><tr><td>22</td><td>Marshmallow</td><td>6.0</td><td>API level 23</td></tr><tr><td>23</td><td>Nougat</td><td>7.0</td><td>API level 24</td></tr><tr><td>24</td><td>Nougat</td><td>7.1.1</td><td>API level 25</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨ç«¯å¼€å‘è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆï¼ˆé˜¿é‡Œå›¢é˜Ÿé«˜æ¸…æ–¹æ¡ˆï¼‰</title>
      <link href="/2019/01/15/mobile_01/"/>
      <url>/2019/01/15/mobile_01/</url>
      
        <content type="html"><![CDATA[<p>ç§»åŠ¨ç«¯è‡ªé€‚åº”æ–¹æ¡ˆæœ‰å¾ˆå¤š<br><br>1ã€æµå¼å¸ƒå±€<br></p><p>ä¹Ÿå°±æ˜¯å›ºå®šé«˜åº¦ï¼Œå®½åº¦æ˜¯ç”¨ç™¾åˆ†æ¯”çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¼šå¯¼è‡´ä¸€äº›å…ƒç´ åœ¨å¤§å±æ‰‹æœºä¸Šæ‹‰ä¼¸ä¸¥é‡çš„æƒ…å†µï¼Œå½±å“è§†è§‰æ•ˆæœï¼Œåªæœ‰åœ¨å¾ˆå°‘ä¸€éƒ¨åˆ†æ‰‹æœºä¸Šèƒ½å®Œç¾çš„å±•ç¤ºè®¾è®¡å¸ˆæƒ³è¦çš„æ•ˆæœã€‚<br></p><p>2ã€å›ºå®šå®½åº¦åšæ³•<br></p><p>æ¯”å¦‚æ—©æœŸçš„æ·˜å®webpageï¼Œé¡µé¢è®¾ç½®æˆ320çš„å®½åº¦ï¼Œè¶…å‡ºéƒ¨åˆ†ç•™ç™½ï¼Œåœ¨å¤§å±å¹•æ‰‹æœºä¸Šï¼Œå°±ä¼šå‡ºç°ä¸¤æ¡å¤§ç™½è¾¹ï¼Œåˆ†è¾¨æ—…é«˜çš„æ‰‹æœºï¼Œé¡µé¢çœ‹èµ·æ¥å°±ä¼šç‰¹åˆ«å°ï¼ŒæŒ‰é’®ï¼Œæ–‡å­—ä¹Ÿå¾ˆå°ã€‚<br></p><p>3ã€å“åº”å¼åšæ³•<br></p><p>ç”¨ä¸€äº›cssæ¡†æ¶ï¼Œæ¯”å¦‚bootstrapï¼Œæˆ–è€…juqeryUIï¼Œä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼Œè¿™ç§æ–¹å¼ç»´æŠ¤æˆæœ¬é«˜ï¼Œå¾ˆå°‘æœ‰å¤§å‹ç½‘ç«™ä½¿ç”¨è¿™ç§å¸ƒå±€ã€‚<br></p><p>4ã€è®¾ç½®viewportè¿›è¡Œç¼©æ”¾<br></p><p>å¤©çŒ«çš„web appçš„é¦–é¡µå°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼å»åšçš„ï¼Œä»¥320å®½åº¦ä¸ºåŸºå‡†ï¼Œè¿›è¡Œç¼©æ”¾ï¼Œæœ€å¤§ç¼©æ”¾ä¸º320*1.3 = 416ï¼ŒåŸºæœ¬ç¼©æ”¾åˆ°416éƒ½å¯ä»¥å…¼å®¹iphone6 plusçš„å±å¹•äº†ï¼Œè¿™ä¸ªæ–¹æ³•ç®€å•ç²—æš´ï¼Œåˆé«˜æ•ˆã€‚ä¸è¿‡æœ‰æ—¶å€™ä½¿ç”¨è¿‡ç¨‹ä¸­ç¼©æ”¾ä¼šå¯¼è‡´æœ‰äº›é¡µé¢å…ƒç´ ä¼šç³Šã€‚<br></p><p>5ã€remå¸ƒå±€<br>  </p><p>remæ˜¯css3æ–°å¼•å…¥çš„å•ä½ï¼Œåœ¨pcç«¯ä¼šæœ‰å…¼å®¹é—®é¢˜ï¼Œå¯¹ç§»åŠ¨ç«¯æ¯”è¾ƒå‹å¥½ã€‚ç®€è€Œè¨€ä¹‹å°±æ˜¯é€šè¿‡åŠ¨æ€è®¾ç½®htmlè·Ÿå…ƒç´ çš„fontsizeï¼Œç­‰æ¯”ç¼©æ”¾å…ƒç´ å¤§å°æ¥è‡ªé€‚åº”ç§»åŠ¨è®¾å¤‡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">! function(e) &#123;</span><br><span class="line">function t(a) &#123;</span><br><span class="line">if (i[a]) return i[a].exports;</span><br><span class="line">var n = i[a] = &#123;</span><br><span class="line">exports: &#123;&#125;,</span><br><span class="line">id: a,</span><br><span class="line">loaded: !1</span><br><span class="line">&#125;;</span><br><span class="line">return e[a].call(n.exports, n, n.exports, t), n.loaded = !0, n.exports</span><br><span class="line">&#125;</span><br><span class="line">var i = &#123;&#125;;</span><br><span class="line">return t.m = e, t.c = i, t.p = &quot;&quot;, t(0)</span><br><span class="line">&#125;([function(e, t) &#123;</span><br><span class="line">&quot;use strict&quot;;</span><br><span class="line">Object.defineProperty(t, &quot;__esModule&quot;, &#123;</span><br><span class="line">value: !0</span><br><span class="line">&#125;);</span><br><span class="line">var i = window;</span><br><span class="line">t[&quot;default&quot;] = i.flex = function(e, t) &#123;</span><br><span class="line">var a = e || 100,</span><br><span class="line">n = t || 1,</span><br><span class="line">r = i.document,</span><br><span class="line">o = navigator.userAgent,</span><br><span class="line">d = o.match(/Android[\S\s]+AppleWebkit\/(\d&#123;3&#125;)/i),</span><br><span class="line">l = o.match(/U3\/((\d+|\.)&#123;5,&#125;)/i),</span><br><span class="line">c = l &amp;&amp; parseInt(l[1].split(&quot;.&quot;).join(&quot;&quot;), 10) &gt;= 80,</span><br><span class="line">p = navigator.appVersion.match(/(iphone|ipad|ipod)/gi),</span><br><span class="line">s = i.devicePixelRatio || 1;</span><br><span class="line">p || d &amp;&amp; d[1] &gt; 534 || c || (s = 1);</span><br><span class="line">var u = 1 / s,</span><br><span class="line">m = r.querySelector(&apos;meta[name=&quot;viewport&quot;]&apos;);</span><br><span class="line">m || (m = r.createElement(&quot;meta&quot;), m.setAttribute(&quot;name&quot;, &quot;viewport&quot;), r.head.appendChild(m)), m.setAttribute(&quot;content&quot;, &quot;width=device-width,user-scalable=no,initial-scale=&quot; + u + &quot;,maximum-scale=&quot; + u + &quot;,minimum-scale=&quot; + u), r.documentElement.style.fontSize = a / 2 * s * n + &quot;px&quot;</span><br><span class="line">&#125;, e.exports = t[&quot;default&quot;]</span><br><span class="line">&#125;]);</span><br><span class="line">flex(100, 1);</span><br></pre></td></tr></table></figure><h5 id="ä»£ç åŸç†"><a href="#ä»£ç åŸç†" class="headerlink" title="ä»£ç åŸç†"></a>ä»£ç åŸç†</h5><p>1ã€æ ¹æ®è®¾å¤‡å±å¹•çš„DPR(è®¾å¤‡åƒç´ æ¯”ï¼Œæ¯”å¦‚dpr=2æ—¶ï¼Œè¡¨ç¤ºä¸€ä¸ªcssåƒç´ ç”±2x2ä¸ªç‰©ç†åƒç´ ç‚¹ç»„æˆ)åŠ¨æ€è®¾ç½®htmlçš„font-sizeã€‚<br><br>2ã€åŒäº‹æ ¹æ®è®¾å¤‡DPRè°ƒæ•´é¡µé¢çš„ç¼©æ”¾å€¼ï¼Œè¿›è€Œè¾¾åˆ°é«˜æ¸…æ•ˆæœã€‚</p><h5 id="æ–¹æ¡ˆä¼˜åŠ¿"><a href="#æ–¹æ¡ˆä¼˜åŠ¿" class="headerlink" title="æ–¹æ¡ˆä¼˜åŠ¿"></a>æ–¹æ¡ˆä¼˜åŠ¿</h5><p>1ã€å¼•ç”¨ç®€å•ï¼Œæ–¹ä¾¿å¸ƒå±€(åªè¦æŠŠjsä»£ç è´´åˆ°headæ ‡ç­¾é‡Œé¢ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œè®¾è®¡ç¨¿ä¸€èˆ¬æ˜¯640æˆ–è€…750ï¼Œä¸éœ€è¦è¿›è¡Œå•ä½æ¢ç®—ï¼Œç›´æ¥ç”¨è®¾è®¡ç¨¿çš„å°ºå¯¸å°±å¯ä»¥ï¼Œæ¯”å¦‚è®¾è®¡ç¨¿åˆä¸€ä¸ªbtnçš„é«˜åº¦ä¸º80pxï¼Œå®½åº¦ä¸º120pxï¼Œé«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem=100pxï¼Œé‚£ä¹ˆbtnçš„å®½åº¦å°±è®¾ç½®ä¸º:)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.btn &#123;</span><br><span class="line">    width: 0.8rem,</span><br><span class="line">    height: 1.2rem</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€æ ¹æ®è®¾å¤‡å±å¹•çš„DPRï¼Œè‡ªåŠ¨è®¾ç½®æœ€åˆé€‚çš„é«˜æ¸…ç¼©æ”¾ã€‚ä¿è¯äº†ä¸åŒè®¾å¤‡è§†è§‰ä½“éªŒçš„ä¸€è‡´æ€§ã€‚<br><br>3ã€æœ‰æ•ˆè§£å†³ç§»åŠ¨ç«¯çœŸæ˜¯1pxé—®é¢˜(è¿™é‡Œçš„1pxæ˜¯è®¾å¤‡å±å¹•ä¸Šçš„ç‰©ç†åƒç´ )</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„ï¼š</span><br><span class="line">å¹¶ä¸æ˜¯æ‰€æœ‰ç”¨pxçš„åœ°æ–¹éƒ½è¦ç”¨remï¼Œremå¸ƒå±€åªé’ˆå¯¹å›ºå®šå®½åº¦ã€‚</span><br><span class="line">ä¾éœ€æ±‚è€Œå®šï¼Œæ¯”å¦‚æ·˜å®é¡µé¢åº•ä¸‹çš„tabarï¼Œå’Œå¤´éƒ¨çš„æœç´¢åŒºåŸŸï¼Œéƒ½æ˜¯ç”¨ç™¾åˆ†æ¯”æ¥å¸ƒå±€çš„ï¼Œæˆ–è€…flexå’Œæ¨¡å‹ï¼Œå½“åœ¨ipadä¸Šæ‰“å¼€çš„æ—¶å€™å°±å¯ä»¥çœ‹è§ï¼Œå¤´éƒ¨å’Œtabæ˜¯æ’‘æ»¡å…¨å±çš„ã€‚</span><br><span class="line">ä¸­é—´çš„ä¸»è¦å†…å®¹ï¼ˆæœ€å¤–éƒ¨çš„å®¹å™¨ï¼‰è¦è®¾ç½®ä¸€ä¸ªmax-widthï¼Œdemoè®¾ç½®çš„æ˜¯max-widthï¼š10remï¼Œè¿™é‡Œæˆ‘ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆè¦è®¾ç½®æˆ10remï¼Œæœ‰å¼„æ˜ç™½çš„å°ä¼™ä¼´å¸Œæœ›èƒ½å‘Šè¯‰æˆ‘ã€‚è°¢è°¢ï¼ˆå·²è§£å†³ï¼Œå’Œè®¾ç½®æœ€å¤–å±‚å®½åº¦ä¸º100%æ˜¯ä¸€æ ·çš„é“ç†ï¼Œ10rem å¯ä»¥é€‚é…åˆ°æ‰€æœ‰æ‰‹æœºè®¾å¤‡ã€‚1000%å¯ä»¥é€‚é…ipadï¼Œdemoè¯•è¯•å°±çŸ¥é“äº†ï¼‰</span><br><span class="line">ï¼ˆåº”ç”¨äº†æ­¤æ–¹æ¡ˆï¼Œä¸ç®¡è®¾è®¡å›¾å¤šå®½ï¼ˆå½“ç„¶ï¼Œä¸€èˆ¬å®½åº¦ä¸º750ï¼Œ640ä¹Ÿå¯ä»¥ï¼‰ï¼Œæœ€å¤–å±‚çš„divå®½åº¦è®¾ä¸º100%å°±è¡Œï¼Œç„¶åå°±å¯ä»¥æ„‰å¿«çš„å¸ƒå±€äº†ï¼Œä¸ä¼šå‡ºç°ä½ è¯´çš„ç™½è¾¹çš„æƒ…å†µã€‚ï¼‰</span><br><span class="line"></span><br><span class="line">å¯¹äºå°ºå¯¸æ¯”è¾ƒå¤§çš„å…ƒç´ ï¼Œåº”è¯¥è€ƒè™‘ç”¨ç™¾åˆ†æ¯”ã€‚remåšå•ä½çš„å…ƒç´ åœ¨å“ªç§è®¾å¤‡ä¸‹éƒ½æ˜¯å›ºå®šå¤§å°ï¼Œè¿™ç‚¹å¿…é¡»ç‰¢è®°ï¼ï¼</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</span><br><span class="line">1.é—®ï¼šä¸ºå•¥æ‰‹æœºç½‘é¡µæ•ˆæœå›¾å®½åº¦æ˜¯è¦640æˆ–è€…750çš„ï¼Œæˆ‘éå¾—å¼„ä¸ª666çš„ä¸è¡Œå’©ï¼Ÿ</span><br><span class="line"></span><br><span class="line">ç­”ï¼šè€å®è¯´å½“ç„¶å¯ä»¥ï¼Œä¸è¿‡ä¸ºäº†è§„èŒƒï¼Œ640æˆ–è€…750æ˜¯ç›¸å¯¹åˆé€‚çš„ã€‚æ‹¿Iphone 5s ä¸¾ä¾‹ï¼Œå®ƒçš„cssåƒç´ å®½åº¦æ˜¯320pxï¼Œç”±äºå®ƒçš„dpr=2ï¼Œæ‰€ä»¥å®ƒçš„ç‰©ç†åƒç´ å®½åº¦ä¸º320 Ã— 2 = 640pxï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆï¼Œä½ åœ¨5sä¸Šæˆªäº†ä¸€å¼ å›¾ï¼Œåœ¨ç”µè„‘ä¸Šæ‰“å¼€ï¼Œå®ƒçš„åŸå§‹å®½åº¦æ˜¯640pxçš„åŸå› ã€‚é‚£ iphone 6 çš„æˆªå›¾å®½åº¦å‘¢ï¼Ÿ 375 Ã— 2 = 750é‚£ iphone 6 sp çš„æˆªå›¾å®½åº¦å‘¢ï¼Ÿ 414 Ã— 3 = 1242ä»¥æ­¤ç±»æ¨ï¼Œä½ ç°åœ¨èƒ½æ˜ç™½æ•ˆæœå›¾ä¸ºä»€ä¹ˆä¸€èˆ¬æ˜¯ 640 ï¼Œ750 ç”šè‡³æ˜¯ 1242 çš„åŸå› äº†ä¹ˆï¼Ÿï¼ˆçœŸæ²¡æœ‰æ­§è§†å®‰å“æœºçš„æ„æ€ã€‚ã€‚ã€‚ï¼‰</span><br><span class="line"></span><br><span class="line">2.é—®ï¼šå®½åº¦ç”¨remå†™çš„æƒ…å†µä¸‹ï¼Œ åœ¨ iphone6 ä¸Šæ²¡é—®é¢˜ï¼Œ åœ¨ iphone5ä¸Šä¼šæœ‰æ¨ªå‘æ»šåŠ¨æ¡ï¼Œä½•è§£ï¼Ÿ</span><br><span class="line"></span><br><span class="line">ç­”ï¼šå‡è®¾ä½ çš„æ•ˆæœå›¾å®½åº¦æ˜¯750ï¼Œåœ¨è¿™ä¸ªæ•ˆæœå›¾ä¸Šå¯èƒ½æœ‰ä¸€ä¸ªå®½åº¦ä¸º7remï¼ˆé«˜æ¸…æ–¹æ¡ˆé»˜è®¤ 1rem = 100pxï¼‰çš„å…ƒç´ ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œé«˜æ¸…æ–¹æ¡ˆçš„ç‰¹ç‚¹å°±æ˜¯å‡ ä¹å®Œç¾è¿˜åŸæ•ˆæœå›¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å†™äº†ä¸€ä¸ªå®½åº¦ä¸º 7rem çš„å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨ç›®å‰ä¸»æµç§»åŠ¨è®¾å¤‡ä¸Šéƒ½æ˜¯7remã€‚ç„¶è€Œï¼Œiphone 5 çš„å®½åº¦ä¸º640ï¼Œä¹Ÿå°±æ˜¯6.4remã€‚äºæ˜¯æ¨ªå‘æ»šåŠ¨æ¡ä¸å¯é¿å…çš„å‡ºç°äº†ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿ è¿™æ˜¯æˆ‘ç›®å‰æ¨èçš„æ¯”è¾ƒå®‰å…¨çš„æ–¹å¼ï¼šå¦‚æœå…ƒç´ çš„å®½åº¦è¶…è¿‡æ•ˆæœå›¾å®½åº¦çš„ä¸€åŠï¼ˆæ•ˆæœå›¾å®½ä¸º640æˆ–750ï¼‰ï¼Œæœæ–­ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦ï¼Œæˆ–è€…flexå¸ƒå±€ã€‚å°±åƒæŠŠç­‰å±å®½çš„å›¾ç‰‡å®½åº¦è®¾ä¸º100%ä¸€æ ·ã€‚</span><br><span class="line"></span><br><span class="line">3.é—®ï¼šä¸æ˜¯ 1rem = 100pxå—ï¼Œä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç å†™äº†ä¸€ä¸ªå®½åº¦ä¸º3remçš„å…ƒç´ ï¼Œåœ¨ç”µè„‘ç«¯çš„è°·æ­Œæµè§ˆå™¨ä¸Šå®½åº¦åªæœ‰150px?</span><br><span class="line"></span><br><span class="line">ç­”ï¼šå…ˆè¯´é«˜æ¸…æ–¹æ¡ˆä»£ç ï¼Œå†æ¬¡å¼ºè°ƒå’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆä»£ç æ˜¯æ ¹æ®è®¾å¤‡çš„dpråŠ¨æ€è®¾ç½®html çš„ font-sizeï¼Œå¦‚æœdpr=1(å¦‚ç”µè„‘ç«¯ï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º50pxï¼Œæ­¤æ—¶ 1rem = 50pxå¦‚æœdpr=2(å¦‚iphone 5 å’Œ 6ï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º100pxï¼Œæ­¤æ—¶ 1rem = 100pxå¦‚æœdpr=3(å¦‚iphone 6 spï¼‰ï¼Œåˆ™htmlçš„font-sizeä¸º150pxï¼Œæ­¤æ—¶ 1rem = 150pxå¦‚æœdprä¸ºå…¶ä»–å€¼ï¼Œå³ä¾¿ä¸æ˜¯æ•´æ•°ï¼Œå¦‚3.4 , ä¹Ÿæ˜¯ä¸€æ ·ç›´æ¥å°†dpr ä¹˜ä»¥ 50 ã€‚</span><br><span class="line">å†æ¥è¯´è¯´æ•ˆæœå›¾ï¼Œä¸€èˆ¬æ¥è®²ï¼Œæˆ‘ä»¬çš„æ•ˆæœå›¾å®½åº¦è¦ä¹ˆæ˜¯640ï¼Œè¦ä¹ˆæ˜¯750ï¼Œæ— è®ºå“ªä¸€ä¸ªï¼Œå®ƒä»¬å¯¹åº”è®¾å¤‡çš„dpr=2ï¼Œæ­¤æ—¶ï¼Œ1 rem = 50 Ã— 2 = 100pxã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆé«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem = 100pxã€‚è€Œå°†1remé»˜è®¤100pxä¹Ÿæ˜¯å¥½å¤„å¤šå¤šï¼Œå¯ä»¥å¸®ä½ å¿«é€Ÿæ¢ç®—å•ä½ï¼Œæ¯”å¦‚åœ¨750å®½åº¦ä¸‹çš„æ•ˆæœå›¾ï¼ŒæŸå…ƒç´ å®½åº¦ä¸º53pxï¼Œé‚£ä¹ˆcsså®½åº¦ç›´æ¥è®¾ä¸º53/100=0.53remäº†ã€‚</span><br><span class="line">ç„¶è€Œæå°‘æƒ…å†µä¸‹ï¼Œæœ‰è®¾è®¡å¸ˆå°†æ•ˆæœå›¾å®½å®šä¸º1242pxï¼Œå› ä¸ºä»–æ‰‹é‡Œåªæœ‰ä¸€ä¸ªiphone 6 sp (dpr = 3)ï¼Œè®¾è®¡å®Œæ•ˆæœå›¾åˆšå¥½å¯ä»¥åœ¨ä»–çš„iphone 6 spé‡ŒæŸ¥çœ‹è°ƒæ•´ã€‚ä¸€åˆ‡å®Œæ¯•ä¹‹åï¼Œä»–å°†è¿™ä¸ªæ•ˆæœå›¾äº¤ç»™ä½ æ¥åˆ‡å›¾ã€‚ç”±äºè¿™ä¸ªæ•ˆæœå›¾å¯¹åº”è®¾å¤‡çš„dpr=3ï¼Œä¹Ÿå°±æ˜¯1rem = 50 Ã— 3 = 150pxã€‚æ‰€ä»¥å¦‚æœä½ é‡å–äº†ä¸€ä¸ªå®½åº¦ä¸º90pxçš„å…ƒç´ ï¼Œå®ƒçš„csså®½åº¦åº”è¯¥ä¸º 90/150=0.6remã€‚ç”±äºå’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆé»˜è®¤1rem=100pxï¼Œä¸ºäº†è¿˜åŸæ•ˆæœå›¾ï¼Œä½ éœ€è¦è¿™æ ·æ¢ç®—ã€‚å½“ç„¶ï¼Œä¸€ä¸ªæŠ€å·§å°±æ˜¯ä½ å¯ä»¥ç›´æ¥ä¿®æ”¹å’±ä»¬çš„é«˜æ¸…æ–¹æ¡ˆçš„é»˜è®¤è®¾ç½®ã€‚åœ¨ä»£ç çš„æœ€å ä½ ä¼šçœ‹åˆ° flex(100, 1) ï¼Œå°†å…¶ä¿®æ”¹æˆflex(66.66667, 1)ï¼ˆæ„Ÿè°¢ç®€å‹ï¼šVæ—…è¡ŒæŒ‡å‡ºæ­¤å¤„é”™è¯¯ï¼ 2017/3/24ï¼‰å°±ä¸ç”¨é‚£ä¹ˆéº»çƒ¦çš„æ¢ç®—äº†ï¼Œæ­¤æ—¶é‚£ä¸ª90pxçš„ç›´æ¥å†™æˆ0.9remå°±å¯ä»¥äº†ã€‚</span><br><span class="line"></span><br><span class="line">4.é—®ï¼šé«˜æ¸…æ–¹æ¡ˆåœ¨å¾®ä¿¡ä¸Šï¼Œæœ‰æ—¶å€™å­—ä½“ä¼šä¸å—æ§åˆ¶å˜çš„å¾ˆå¤§ï¼Œæ€ä¹ˆåŠï¼Ÿ</span><br><span class="line"></span><br><span class="line">ç­”ï¼šç‚¹æˆ‘ï¼Œè¿™æ˜¯æˆ‘å¯¹è¯¥é—®é¢˜çš„æ€»ç»“</span><br><span class="line">5.é—®ï¼šæˆ‘åœ¨åº•éƒ¨å¯¼èˆªç”¨çš„flexæ„Ÿè§‰æ›´åˆé€‚ä¸€äº›ï¼Œè¯·é—®è¿™æ ·å­æ··ç€ç”¨å¯ä»¥å—ï¼Ÿ</span><br><span class="line"></span><br><span class="line">ç­”ï¼šå’±ä»¬çš„remé€‚åˆå†™å›ºå®šå°ºå¯¸ã€‚å…¶ä½™çš„æ ¹æ®éœ€è¦æ¢æˆflexæˆ–è€…ç™¾åˆ†æ¯”ã€‚æºç ç¤ºä¾‹ä¸­å°±æœ‰è¿™ä¸‰ç§çš„ç»¼åˆè¿ç”¨ã€‚</span><br><span class="line">6.é—®ï¼šåœ¨é«˜æ¸…æ–¹æ¡ˆä¸‹ï¼Œä¸€ä¸ªæ ‡å‡†çš„ï¼Œè¾ƒä¸ºç†æƒ³çš„å®½åº¦ä¸º640çš„é¡µé¢æ•ˆæœå›¾åº”è¯¥æ˜¯æ€æ ·çš„ï¼Ÿ</span><br><span class="line"></span><br><span class="line">7.è¿™ä¸ªä¼šå’Œbootstrapå†²çªã€‚</span><br><span class="line">è§£å†³åŠæ³•ï¼š</span><br><span class="line">1ï¼Œå°†bootstrap ä¸­ï¼Œå‡¡æ˜¯ç”¨åˆ°pxçš„å•ä½ä¸€å¾‹æ¢æˆrem</span><br><span class="line">2ï¼Œå¦‚æœä½ æœ‰ä½¿ç”¨webpackï¼Œå»ºè®®ä½¿ç”¨å°†cssè½¬æˆremçš„åŒ…ï¼ˆpostcss-pxtoremï¼‰å°†è‡ªåŠ¨å®Œæˆç¬¬ä¸€æ­¥çš„æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">8.@2xå’Œ@3xçš„å›¾ç‰‡è¿˜è¦åˆ¤æ–­ä¸åŒçš„dprä¸‹ç”¨ä¸åŒçš„å›¾ç‰‡ã€‚</span><br><span class="line"></span><br><span class="line">Normalize.css æ˜¯ä¸€ä¸ªå¯ä»¥å®šåˆ¶çš„CSSæ–‡ä»¶ï¼Œå®ƒè®©ä¸åŒçš„æµè§ˆå™¨åœ¨æ¸²æŸ“ç½‘é¡µå…ƒç´ çš„æ—¶å€™å½¢å¼æ›´ç»Ÿä¸€ã€‚</span><br><span class="line"></span><br><span class="line">Normalize.css èƒ½å¹²ä»€ä¹ˆï¼š</span><br><span class="line"></span><br><span class="line">ä¿ç•™æœ‰ç”¨çš„é»˜è®¤å€¼ï¼Œä¸åŒäºè®¸å¤š CSS çš„é‡ç½®</span><br><span class="line"></span><br><span class="line">æ ‡å‡†åŒ–çš„æ ·å¼ï¼Œé€‚ç”¨èŒƒå›´å¹¿çš„å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">çº æ­£é”™è¯¯å’Œå¸¸è§çš„æµè§ˆå™¨çš„ä¸ä¸€è‡´æ€§ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€äº›ç»†å¾®çš„æ”¹è¿›ï¼Œæé«˜äº†æ˜“ç”¨æ€§ã€‚</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨è¯¦ç»†çš„æ³¨é‡Šæ¥è§£é‡Šä»£ç ã€‚</span><br><span class="line"></span><br><span class="line">æ”¯æŒçš„æµè§ˆå™¨ï¼š</span><br><span class="line"></span><br><span class="line">Google Chrome (latest)</span><br><span class="line"></span><br><span class="line">Mozilla Firefox (latest)</span><br><span class="line"></span><br><span class="line">Mozilla Firefox ESR</span><br><span class="line"></span><br><span class="line">Opera (latest)</span><br><span class="line"></span><br><span class="line">Apple Safari 6+</span><br><span class="line"></span><br><span class="line">Internet Explorer 8+</span><br></pre></td></tr></table></figure><p>å¼•ç”¨äº<a href="https://www.jianshu.com/p/07669cb3e7c5" target="_blank" rel="noopener">https://www.jianshu.com/p/07669cb3e7c5</a></p>]]></content>
      
      
      <categories>
          
          <category> ç§»åŠ¨ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³bootstrapæ¨¡æ€æ¡†åˆ‡æ¢æ—¶é¡µé¢æŠ–åŠ¨oré¡µé¢æ»šåŠ¨æ¡</title>
      <link href="/2019/01/15/bootstrap/"/>
      <url>/2019/01/15/bootstrap/</url>
      
        <content type="html"><![CDATA[<p>Bootstrapä¸ºäº†è®©æ‰€æœ‰çš„é¡µé¢(è¿™é‡ŒæŒ‡å†…å®¹æº¢å‡ºå’Œä¸æº¢å‡º)æ˜¾ç¤ºæ•ˆæœä¸€æ ·ï¼Œé‡‡å–çš„æ–¹æ³•å¦‚ä¸‹:<br></p><p>å½“Modalæ˜¾ç¤ºæ—¶ï¼Œè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    margin-right: 15px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(è®¾ç½®15pxæ˜¯å› ä¸ºæµè§ˆå™¨çš„æ»šåŠ¨æ¡å ä½æ—¶15px)<br></p><p>åœ¨modalæ˜¾ç¤ºæ—¶ç»™bodyæ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.modal-open &#123;</span><br><span class="line">    overflow: auto;</span><br><span class="line">    overflow-y: scroll;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·è®¾ç½®çš„æ•ˆæœæ˜¯ï¼š<br></p><p>1ã€å½“é¡µé¢å†…å®¹è¶…å‡º(å³é¡µé¢æœ¬èº«å­˜åœ¨æ»šåŠ¨æ¡)ï¼Œåˆ™modalå¼¹å‡ºåï¼ŒåŸbodyæ»šåŠ¨ç¦æ­¢ï¼Œbodyçš„margin-rightå’Œmodalçš„æ»šåŠ¨æ¡ä½ç½®é‡å ï¼Œæ­¤æ—¶é¡µé¢æ˜¯ä¸ä¼šå‡ºç°æŠ–åŠ¨ç°è±¡çš„ã€‚<br><br>2ã€å½“é¡µé¢å†…å®¹æœªè¶…å‡º(å³é¡µé¢æœ¬èº«ä¸å­˜åœ¨æ»šåŠ¨æ¡)ï¼Œåˆ™modalå¼¹å‡ºåï¼Œç”±äºbodyè®¾ç½®äº†margin-rightï¼Œä¼šä½¿å¾—é¡µé¢å‘å·¦åç§»ï¼Œå½“modalå…³é—­åï¼Œbodyçš„margin-rightä¸º0ï¼Œé¡µé¢å‘å³åç§»ï¼Œå°±å‡ºç°é¡µé¢æŠ–åŠ¨ã€‚<br></p><p>æ ¹æ®ä¸Šé¢çš„æè¿°ï¼Œè§£å†³é¡µé¢æŠ–åŠ¨çš„æ€è·¯æ˜¯ï¼š<br></p><p>æ ¹æ®scrollHeightå’ŒclientHeightï¼Œåˆ†åˆ«åœ¨modalåŠ è½½å‰å’Œå…³é—­æ—¶è°ƒæ•´bodyçš„overflowã€margin-rightå’Œ.modalçš„overflowå±æ€§ï¼Œä»¥è¦†ç›–bootstrap.cssä¸­çš„æ ·å¼<br></p><p>å‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//è§£å†³Modalå¼¹å‡ºæ—¶é¡µé¢å·¦å³ç§»åŠ¨é—®é¢˜</span><br><span class="line"></span><br><span class="line">æœ€ä½³çš„åŠæ³•åº”è¯¥æ˜¯CSSï¼š</span><br><span class="line">å¼•ç”¨@åƒµå”å”çš„ç­”æ¡ˆï¼šbody&#123; overflow: auto !important;&#125; .modal&#123; overflow: auto !important;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Bootstrap </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
